PASS: errors_test.go:26: testErrorSuite.TestError	0.000s
PASS: expression_test.go:64: testExpressionSuite.TestBetween	0.000s
[2020/02/06 10:36:42.396 +08:00] [WARN] [builtin.go:98] ["unmatched arg type 1 with 0"]
[2020/02/06 10:36:42.396 +08:00] [WARN] [builtin.go:98] ["unmatched arg type 1 with 3"]
[2020/02/06 10:36:42.396 +08:00] [WARN] [builtin.go:98] ["unmatched arg type 1 with 0"]
[2020/02/06 10:36:42.396 +08:00] [WARN] [builtin.go:98] ["unmatched arg type 1 with 3"]
[2020/02/06 10:36:42.396 +08:00] [WARN] [builtin.go:98] ["unmatched arg type 1 with 0"]
[2020/02/06 10:36:42.396 +08:00] [WARN] [builtin.go:98] ["unmatched arg type 1 with 3"]
[2020/02/06 10:36:42.396 +08:00] [WARN] [builtin.go:98] ["unmatched arg type 1 with 0"]
[2020/02/06 10:36:42.396 +08:00] [WARN] [builtin.go:98] ["unmatched arg type 1 with 3"]
[2020/02/06 10:36:42.396 +08:00] [WARN] [builtin.go:98] ["unmatched arg type 1 with 0"]
[2020/02/06 10:36:42.396 +08:00] [WARN] [builtin.go:98] ["unmatched arg type 1 with 3"]
[2020/02/06 10:36:42.396 +08:00] [WARN] [builtin.go:98] ["unmatched arg type 1 with 0"]
[2020/02/06 10:36:42.396 +08:00] [WARN] [builtin.go:98] ["unmatched arg type 1 with 3"]
[2020/02/06 10:36:42.396 +08:00] [WARN] [builtin.go:98] ["unmatched arg type 1 with 0"]
[2020/02/06 10:36:42.396 +08:00] [WARN] [builtin.go:98] ["unmatched arg type 1 with 3"]
[2020/02/06 10:36:42.396 +08:00] [WARN] [builtin.go:98] ["unmatched arg type 1 with 0"]
[2020/02/06 10:36:42.396 +08:00] [WARN] [builtin.go:98] ["unmatched arg type 1 with 3"]
PASS: expression_test.go:143: testExpressionSuite.TestCompareRow	0.001s
PASS: expression_test.go:120: testExpressionSuite.TestIsNull	0.000s
[2020/02/06 10:36:42.397 +08:00] [WARN] [builtin.go:98] ["unmatched arg type 1 with 0"]
[2020/02/06 10:36:42.397 +08:00] [WARN] [builtin.go:98] ["unmatched arg type 1 with 0"]
[2020/02/06 10:36:42.397 +08:00] [WARN] [builtin.go:98] ["unmatched arg type 1 with 0"]
[2020/02/06 10:36:42.397 +08:00] [WARN] [builtin.go:98] ["unmatched arg type 1 with 0"]
[2020/02/06 10:36:42.397 +08:00] [WARN] [builtin.go:98] ["unmatched arg type 1 with 0"]
PASS: expression_test.go:73: testExpressionSuite.TestPatternIn	0.000s
PASS: logical_plan_test.go:705: testPlanSuite.TestAggPrune	0.001s
PASS: logical_plan_test.go:488: testPlanSuite.TestAllocID	0.000s
PASS: logical_plan_test.go:207: testPlanSuite.TestAntiSemiJoinConstFalse	0.000s
PASS: logical_plan_test.go:437: testPlanSuite.TestColumnPruning	0.001s
PASS: logical_plan_test.go:236: testPlanSuite.TestDeriveNotNullConds	0.001s
PASS: logical_plan_test.go:413: testPlanSuite.TestEagerAggregation	0.003s
PASS: logical_plan_test.go:291: testPlanSuite.TestGroupByWhenNotExistCols	0.001s
PASS: logical_plan_test.go:86: testPlanSuite.TestJoinPredicatePushDown	0.002s
PASS: logical_plan_test.go:390: testPlanSuite.TestJoinReOrder	0.003s
PASS: logical_plan_test.go:753: testPlanSuite.TestNameResolver	0.001s
PASS: logical_plan_test.go:798: testPlanSuite.TestOuterJoinEliminator	0.002s
[2020/02/06 10:36:42.414 +08:00] [WARN] [builtin.go:98] ["unmatched arg type 1 with 3"]
[2020/02/06 10:36:42.414 +08:00] [WARN] [builtin.go:98] ["unmatched arg type 1 with 0"]
[2020/02/06 10:36:42.414 +08:00] [WARN] [builtin.go:98] ["unmatched arg type 1 with 3"]
[2020/02/06 10:36:42.414 +08:00] [WARN] [builtin.go:98] ["unmatched arg type 1 with 0"]
[2020/02/06 10:36:42.414 +08:00] [WARN] [builtin.go:98] ["unmatched arg type 1 with 3"]
[2020/02/06 10:36:42.414 +08:00] [WARN] [builtin.go:98] ["unmatched arg type 1 with 0"]
[2020/02/06 10:36:42.414 +08:00] [WARN] [builtin.go:98] ["unmatched arg type 1 with 3"]
[2020/02/06 10:36:42.414 +08:00] [WARN] [builtin.go:98] ["unmatched arg type 1 with 0"]
[2020/02/06 10:36:42.414 +08:00] [WARN] [builtin.go:98] ["unmatched arg type 1 with 3"]
[2020/02/06 10:36:42.414 +08:00] [WARN] [builtin.go:98] ["unmatched arg type 1 with 0"]
PASS: logical_plan_test.go:124: testPlanSuite.TestOuterWherePredicatePushDown	0.001s
[2020/02/06 10:36:42.415 +08:00] [WARN] [builtin.go:98] ["unmatched arg type 1 with 3"]
[2020/02/06 10:36:42.415 +08:00] [WARN] [builtin.go:98] ["unmatched arg type 1 with 0"]
[2020/02/06 10:36:42.415 +08:00] [WARN] [builtin.go:98] ["unmatched arg type 1 with 3"]
[2020/02/06 10:36:42.415 +08:00] [WARN] [builtin.go:98] ["unmatched arg type 1 with 0"]
[2020/02/06 10:36:42.416 +08:00] [WARN] [builtin.go:98] ["unmatched arg type 1 with 3"]
[2020/02/06 10:36:42.416 +08:00] [WARN] [builtin.go:98] ["unmatched arg type 1 with 0"]
PASS: logical_plan_test.go:365: testPlanSuite.TestPlanBuilder	0.003s
[2020/02/06 10:36:42.419 +08:00] [WARN] [builtin.go:98] ["unmatched arg type 1 with 3"]
[2020/02/06 10:36:42.419 +08:00] [WARN] [builtin.go:98] ["unmatched arg type 1 with 0"]
[2020/02/06 10:36:42.419 +08:00] [WARN] [builtin.go:98] ["unmatched arg type 1 with 3"]
[2020/02/06 10:36:42.419 +08:00] [WARN] [builtin.go:98] ["unmatched arg type 1 with 0"]
[2020/02/06 10:36:42.419 +08:00] [WARN] [builtin.go:98] ["unmatched arg type 1 with 3"]
[2020/02/06 10:36:42.419 +08:00] [WARN] [builtin.go:98] ["unmatched arg type 1 with 0"]
[2020/02/06 10:36:42.419 +08:00] [WARN] [builtin.go:98] ["unmatched arg type 1 with 3"]
[2020/02/06 10:36:42.419 +08:00] [WARN] [builtin.go:98] ["unmatched arg type 1 with 0"]
[2020/02/06 10:36:42.420 +08:00] [WARN] [builtin.go:98] ["unmatched arg type 1 with 3"]
[2020/02/06 10:36:42.420 +08:00] [WARN] [builtin.go:98] ["unmatched arg type 1 with 0"]
[2020/02/06 10:36:42.420 +08:00] [WARN] [builtin.go:98] ["unmatched arg type 1 with 3"]
[2020/02/06 10:36:42.420 +08:00] [WARN] [builtin.go:98] ["unmatched arg type 1 with 0"]
[2020/02/06 10:36:42.420 +08:00] [WARN] [builtin.go:98] ["unmatched arg type 1 with 3"]
[2020/02/06 10:36:42.420 +08:00] [WARN] [builtin.go:98] ["unmatched arg type 1 with 0"]
[2020/02/06 10:36:42.420 +08:00] [WARN] [builtin.go:98] ["unmatched arg type 1 with 3"]
[2020/02/06 10:36:42.420 +08:00] [WARN] [builtin.go:98] ["unmatched arg type 1 with 0"]
[2020/02/06 10:36:42.420 +08:00] [WARN] [builtin.go:98] ["unmatched arg type 1 with 3"]
[2020/02/06 10:36:42.420 +08:00] [WARN] [builtin.go:98] ["unmatched arg type 1 with 0"]
[2020/02/06 10:36:42.420 +08:00] [WARN] [builtin.go:98] ["unmatched arg type 1 with 3"]
[2020/02/06 10:36:42.420 +08:00] [WARN] [builtin.go:98] ["unmatched arg type 1 with 0"]
[2020/02/06 10:36:42.421 +08:00] [WARN] [builtin.go:98] ["unmatched arg type 0 with 3"]
PASS: logical_plan_test.go:66: testPlanSuite.TestPredicatePushDown	0.005s
PASS: logical_plan_test.go:462: testPlanSuite.TestProjectionEliminator	0.000s
[2020/02/06 10:36:42.423 +08:00] [WARN] [builtin.go:98] ["unmatched arg type 1 with 3"]
[2020/02/06 10:36:42.423 +08:00] [WARN] [builtin.go:98] ["unmatched arg type 1 with 0"]
[2020/02/06 10:36:42.423 +08:00] [WARN] [builtin.go:98] ["unmatched arg type 1 with 3"]
[2020/02/06 10:36:42.423 +08:00] [WARN] [builtin.go:98] ["unmatched arg type 1 with 0"]
[2020/02/06 10:36:42.423 +08:00] [WARN] [builtin.go:98] ["unmatched arg type 1 with 3"]
[2020/02/06 10:36:42.423 +08:00] [WARN] [builtin.go:98] ["unmatched arg type 1 with 0"]
[2020/02/06 10:36:42.424 +08:00] [WARN] [builtin.go:98] ["unmatched arg type 1 with 3"]
[2020/02/06 10:36:42.424 +08:00] [WARN] [builtin.go:98] ["unmatched arg type 1 with 0"]
PASS: logical_plan_test.go:170: testPlanSuite.TestSimplifyOuterJoin	0.001s
PASS: logical_plan_test.go:842: testPlanSuite.TestSkylinePruning	0.001s
PASS: logical_plan_test.go:340: testPlanSuite.TestSubquery	0.003s
[2020/02/06 10:36:42.429 +08:00] [WARN] [builtin.go:98] ["unmatched arg type 1 with 3"]
[2020/02/06 10:36:42.429 +08:00] [WARN] [builtin.go:98] ["unmatched arg type 1 with 0"]
[2020/02/06 10:36:42.429 +08:00] [WARN] [builtin.go:98] ["unmatched arg type 3 with 1"]
PASS: logical_plan_test.go:729: testPlanSuite.TestTopNPushDown	0.002s
PASS: logical_plan_test.go:679: testPlanSuite.TestUniqueKeyInfo	0.001s
PASS: logical_plan_test.go:932: testPlanSuite.TestUpdateEQCond	0.000s
PASS: logical_plan_test.go:516: testPlanSuite.TestValidate	0.001s
PASS: plan_to_pb_test.go:30: testDistsqlSuite.TestColumnToProto	0.000s
PASS: plan_to_pb_test.go:126: testDistsqlSuite.TestIndexScanToProto	0.000s
PASS: plan_to_pb_test.go:64: testDistsqlSuite.TestIndexToProto	0.000s
PASS: planbuilder_test.go:67: testPlanBuilderSuite.TestGetPathByIndexName	0.000s
PASS: planbuilder_test.go:98: testPlanBuilderSuite.TestRewriterPool	0.000s
PASS: planbuilder_test.go:35: testPlanBuilderSuite.TestShow	0.000s
PASS: rule_join_reorder_dp_test.go:202: testJoinReorderDPSuite.TestDPReorderAllCartesian	0.000s
PASS: rule_join_reorder_dp_test.go:174: testJoinReorderDPSuite.TestDPReorderTPCHQ5	0.000s
[2020/02/06 10:36:42.437 +08:00] [INFO] [tidb.go:68] ["new domain"] [store=23a00b6e-eacc-4d87-9e7b-9d9842e2db70] ["ddl lease"=0s] ["stats lease"=-1ns]
[2020/02/06 10:36:42.437 +08:00] [INFO] [ddl.go:289] ["[ddl] start DDL"] [ID=2c126d88-5f79-4045-a5e5-b1c4e1308dd8]
[2020/02/06 10:36:42.437 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 2, tp add index"]
[2020/02/06 10:36:42.437 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 1, tp general"]
[2020/02/06 10:36:42.437 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=0] ["start time"=86.268µs]
[2020/02/06 10:36:42.437 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:42.437 +08:00] [INFO] [tidb.go:171] ["rollbackTxn for ddl/autocommit failed"]
[2020/02/06 10:36:42.437 +08:00] [WARN] [session.go:736] ["run statement failed"] [schemaVersion=0] [error="[schema:1049]Unknown database 'mysql'"] [errorVerbose="[schema:1049]Unknown database 'mysql'\ngithub.com/pingcap/errors.AddStack\n\t/home/aliv/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20190809092503-95897b64e011/errors.go:174\ngithub.com/pingcap/tidb/parser/terror.(*Error).GenWithStackByArgs\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/terror/terror.go:240\ngithub.com/pingcap/tidb/executor.(*SimpleExec).executeUse\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/simple.go:66\ngithub.com/pingcap/tidb/executor.(*SimpleExec).Next\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/simple.go:49\ngithub.com/pingcap/tidb/executor.Next\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/executor.go:175\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelayExecutor\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:271\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelay\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:237\ngithub.com/pingcap/tidb/executor.(*ExecStmt).Exec\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:208\ngithub.com/pingcap/tidb/session.runStmt\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/tidb.go:219\ngithub.com/pingcap/tidb/session.(*session).executeStatement\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:733\ngithub.com/pingcap/tidb/session.(*session).execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:812\ngithub.com/pingcap/tidb/session.(*session).Execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:760\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:175\ngithub.com/pingcap/tidb/session.bootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:143\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:1021\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:982\ngithub.com/pingcap/tidb/planner/core_test.newStoreWithBootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/cbo_test.go:270\ngithub.com/pingcap/tidb/planner/core_test.(*testAnalyzeSuite).TestAnalyze\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/cbo_test.go:148\nreflect.Value.call\n\t/usr/lib/go/src/reflect/value.go:460\nreflect.Value.Call\n\t/usr/lib/go/src/reflect/value.go:321\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:854\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:739\nruntime.goexit\n\t/usr/lib/go/src/runtime/asm_amd64.s:1357"] [session="{\n  \"currDBName\": \"\",\n  \"id\": 0,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": \"\"\n}"]
[2020/02/06 10:36:42.437 +08:00] [WARN] [session.go:803] ["compile SQL failed"] [error="[schema:1146]Table 'mysql.tidb' doesn't exist"] [errorVerbose="[schema:1146]Table 'mysql.tidb' doesn't exist\ngithub.com/pingcap/errors.AddStack\n\t/home/aliv/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20190809092503-95897b64e011/errors.go:174\ngithub.com/pingcap/tidb/parser/terror.(*Error).GenWithStackByArgs\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/terror/terror.go:240\ngithub.com/pingcap/tidb/infoschema.(*infoSchema).TableByName\n\t/home/aliv/go/src/github.com/pingcap/tinysql/infoschema/infoschema.go:171\ngithub.com/pingcap/tidb/planner/core.(*preprocessor).handleTableName\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:650\ngithub.com/pingcap/tidb/planner/core.(*preprocessor).Leave\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:133\ngithub.com/pingcap/tidb/parser/ast.(*TableName).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:294\ngithub.com/pingcap/tidb/parser/ast.(*TableSource).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:431\ngithub.com/pingcap/tidb/parser/ast.(*Join).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:142\ngithub.com/pingcap/tidb/parser/ast.(*TableRefsClause).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:612\ngithub.com/pingcap/tidb/parser/ast.(*SelectStmt).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:931\ngithub.com/pingcap/tidb/planner/core.Preprocess\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:48\ngithub.com/pingcap/tidb/executor.(*Compiler).Compile\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/compiler.go:34\ngithub.com/pingcap/tidb/session.(*session).execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:800\ngithub.com/pingcap/tidb/session.(*session).Execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:760\ngithub.com/pingcap/tidb/session.getTiDBVar\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:204\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:181\ngithub.com/pingcap/tidb/session.bootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:143\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:1021\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:982\ngithub.com/pingcap/tidb/planner/core_test.newStoreWithBootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/cbo_test.go:270\ngithub.com/pingcap/tidb/planner/core_test.(*testAnalyzeSuite).TestAnalyze\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/cbo_test.go:148\nreflect.Value.call\n\t/usr/lib/go/src/reflect/value.go:460\nreflect.Value.Call\n\t/usr/lib/go/src/reflect/value.go:321\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:854\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:739\nruntime.goexit\n\t/usr/lib/go/src/runtime/asm_amd64.s:1357"] [SQL="SELECT HIGH_PRIORITY VARIABLE_VALUE FROM mysql.tidb WHERE VARIABLE_NAME=\"bootstrapped\""]
[2020/02/06 10:36:42.438 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:2, Type:create schema, State:none, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.437 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS test"]
[2020/02/06 10:36:42.438 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 1, tp general"] [job="ID:2, Type:create schema, State:none, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.437 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.439 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 1, tp general"] [job="ID:2, Type:create schema, State:synced, SchemaState:public, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.437 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.439 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=2]
[2020/02/06 10:36:42.439 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.439 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=1] ["start time"=246.065µs]
[2020/02/06 10:36:42.439 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:42.440 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:4, Type:create schema, State:none, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.439 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS mysql;"]
[2020/02/06 10:36:42.440 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 1, tp general"] [job="ID:4, Type:create schema, State:none, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.439 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.440 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 1, tp general"] [job="ID:4, Type:create schema, State:synced, SchemaState:public, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.439 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.440 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=4]
[2020/02/06 10:36:42.440 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.440 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=1] [neededSchemaVersion=2] ["start time"=43.93µs] [tblIDs="[]"]
[2020/02/06 10:36:42.441 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:6, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.441 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) Not Null PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT Null);"]
[2020/02/06 10:36:42.441 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 1, tp general"] [job="ID:6, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.441 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.442 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 1, tp general"] [job="ID:6, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.441 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.442 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=6]
[2020/02/06 10:36:42.442 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.442 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=2] [neededSchemaVersion=3] ["start time"=98.815µs] [tblIDs="[5]"]
[2020/02/06 10:36:42.442 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:8, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.442 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.tidb(\n\t\tVARIABLE_NAME  VARCHAR(64) Not Null PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT Null,\n\t\tCOMMENT VARCHAR(1024));"]
[2020/02/06 10:36:42.443 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 1, tp general"] [job="ID:8, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.442 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.443 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 1, tp general"] [job="ID:8, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.442 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.444 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=8]
[2020/02/06 10:36:42.444 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.444 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=3] [neededSchemaVersion=4] ["start time"=108.42µs] [tblIDs="[7]"]
[2020/02/06 10:36:42.444 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:10, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.444 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.help_topic (\n  \t\thelp_topic_id int(10) unsigned NOT NULL,\n  \t\tname char(64) NOT NULL,\n  \t\thelp_category_id smallint(5) unsigned NOT NULL,\n  \t\tdescription text NOT NULL,\n  \t\texample text NOT NULL,\n  \t\turl text NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id),\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"]
[2020/02/06 10:36:42.444 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 1, tp general"] [job="ID:10, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.444 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.445 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 1, tp general"] [job="ID:10, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.444 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.445 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=10]
[2020/02/06 10:36:42.445 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.446 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=4] [neededSchemaVersion=5] ["start time"=140.906µs] [tblIDs="[9]"]
[2020/02/06 10:36:42.446 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:12, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.446 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_meta (\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tcount bigint(64) unsigned NOT NULL DEFAULT 0,\n\t\tindex idx_ver(version),\n\t\tunique index tbl(table_id)\n\t);"]
[2020/02/06 10:36:42.446 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 1, tp general"] [job="ID:12, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.446 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.447 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 1, tp general"] [job="ID:12, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.446 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.447 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=12]
[2020/02/06 10:36:42.447 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.447 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=5] [neededSchemaVersion=6] ["start time"=131.55µs] [tblIDs="[11]"]
[2020/02/06 10:36:42.448 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:14, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.448 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_histograms (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tdistinct_count bigint(64) NOT NULL,\n\t\tnull_count bigint(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size bigint(64) NOT NULL DEFAULT 0,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tversion bigint(64) unsigned NOT NULL DEFAULT 0,\n\t\tcm_sketch blob,\n\t\tstats_ver bigint(64) NOT NULL DEFAULT 0,\n\t\tflag bigint(64) NOT NULL DEFAULT 0,\n\t\tcorrelation double NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos blob DEFAULT NULL,\n\t\tunique index tbl(table_id, is_index, hist_id)\n\t);"]
[2020/02/06 10:36:42.448 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 1, tp general"] [job="ID:14, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.448 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.449 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 1, tp general"] [job="ID:14, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.448 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.449 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=14]
[2020/02/06 10:36:42.449 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.450 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=6] [neededSchemaVersion=7] ["start time"=173.188µs] [tblIDs="[13]"]
[2020/02/06 10:36:42.450 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:16, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.45 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_buckets (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tbucket_id bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\trepeats bigint(64) NOT NULL,\n\t\tupper_bound blob NOT NULL,\n\t\tlower_bound blob ,\n\t\tunique index tbl(table_id, is_index, hist_id, bucket_id)\n\t);"]
[2020/02/06 10:36:42.450 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 1, tp general"] [job="ID:16, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.45 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.451 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 1, tp general"] [job="ID:16, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.45 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.451 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=16]
[2020/02/06 10:36:42.451 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.452 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=7] [neededSchemaVersion=8] ["start time"=329.567µs] [tblIDs="[15]"]
[2020/02/06 10:36:42.452 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:18, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.452 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id BIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id BIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts BIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"]
[2020/02/06 10:36:42.452 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 1, tp general"] [job="ID:18, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.452 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.453 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 1, tp general"] [job="ID:18, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.452 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.453 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=18]
[2020/02/06 10:36:42.453 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.454 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=8] [neededSchemaVersion=9] ["start time"=123.689µs] [tblIDs="[17]"]
[2020/02/06 10:36:42.454 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:20, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.454 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id BIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id BIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts BIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"]
[2020/02/06 10:36:42.454 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 1, tp general"] [job="ID:20, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.454 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.455 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 1, tp general"] [job="ID:20, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.454 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.455 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=20]
[2020/02/06 10:36:42.455 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.455 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=9] [neededSchemaVersion=10] ["start time"=96.353µs] [tblIDs="[19]"]
[2020/02/06 10:36:42.455 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:22, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.455 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_top_n (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tvalue longblob,\n\t\tcount bigint(64) UNSIGNED NOT NULL,\n\t\tindex tbl(table_id, is_index, hist_id)\n\t);"]
[2020/02/06 10:36:42.456 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 1, tp general"] [job="ID:22, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.455 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.456 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 1, tp general"] [job="ID:22, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.455 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.456 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=22]
[2020/02/06 10:36:42.456 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.457 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=10] [neededSchemaVersion=11] ["start time"=95.794µs] [tblIDs="[21]"]
[2020/02/06 10:36:42.469 +08:00] [INFO] [bootstrap.go:153] ["bootstrap successful"] ["take time"=32.036391ms]
[2020/02/06 10:36:42.469 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 1, tp general"] ["take time"=6.547µs]
[2020/02/06 10:36:42.469 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 2, tp add index"] ["take time"=1.529µs]
[2020/02/06 10:36:42.469 +08:00] [INFO] [session_pool.go:85] ["[ddl] closing sessionPool"]
[2020/02/06 10:36:42.469 +08:00] [INFO] [ddl.go:349] ["[ddl] DDL closed"] [ID=2c126d88-5f79-4045-a5e5-b1c4e1308dd8] ["take time"=31.277µs]
[2020/02/06 10:36:42.469 +08:00] [INFO] [ddl.go:282] ["[ddl] stop DDL"] [ID=2c126d88-5f79-4045-a5e5-b1c4e1308dd8]
[2020/02/06 10:36:42.469 +08:00] [INFO] [domain.go:456] ["domain closed"] ["take time"=43.01µs]
[2020/02/06 10:36:42.469 +08:00] [INFO] [tidb.go:68] ["new domain"] [store=23a00b6e-eacc-4d87-9e7b-9d9842e2db70] ["ddl lease"=0s] ["stats lease"=-1ns]
[2020/02/06 10:36:42.469 +08:00] [INFO] [ddl.go:289] ["[ddl] start DDL"] [ID=1f4ddc0b-deab-4de0-8999-3c133a2112fe]
[2020/02/06 10:36:42.469 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 4, tp add index"]
[2020/02/06 10:36:42.469 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 3, tp general"]
[2020/02/06 10:36:42.474 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=11] ["start time"=4.05098ms]
[2020/02/06 10:36:42.474 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:42.476 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:24, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:23, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.476 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create table t (a int, b int)"]
[2020/02/06 10:36:42.476 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:24, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:23, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.476 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.477 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:24, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:23, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.476 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.477 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=24]
[2020/02/06 10:36:42.477 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.477 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=11] [neededSchemaVersion=12] ["start time"=60.082µs] [tblIDs="[23]"]
[2020/02/06 10:36:42.477 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:25, Type:add index, State:none, SchemaState:none, SchemaID:1, TableID:23, RowCount:0, ArgLen:4, start time: 2020-02-06 10:36:42.477 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create index a on t (a)"]
[2020/02/06 10:36:42.478 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 4, tp add index"] [job="ID:25, Type:add index, State:none, SchemaState:none, SchemaID:1, TableID:23, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.477 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.478 +08:00] [INFO] [index.go:375] ["[ddl] run add index job"] [job="ID:25, Type:add index, State:running, SchemaState:none, SchemaID:1, TableID:23, RowCount:0, ArgLen:4, start time: 2020-02-06 10:36:42.477 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [indexInfo="{\"id\":1,\"idx_name\":{\"O\":\"a\",\"L\":\"a\"},\"tbl_name\":{\"O\":\"\",\"L\":\"\"},\"idx_cols\":[{\"name\":{\"O\":\"a\",\"L\":\"a\"},\"offset\":0,\"length\":-1}],\"is_unique\":false,\"is_primary\":false,\"state\":0,\"comment\":\"\",\"index_type\":1}"]
[2020/02/06 10:36:42.478 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 4, tp add index"] [job="ID:25, Type:add index, State:running, SchemaState:delete only, SchemaID:1, TableID:23, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.477 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.478 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 4, tp add index"] [job="ID:25, Type:add index, State:running, SchemaState:write only, SchemaID:1, TableID:23, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.477 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.479 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 4, tp add index"] [job="ID:25, Type:add index, State:running, SchemaState:write reorganization, SchemaID:1, TableID:23, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.477 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.479 +08:00] [INFO] [reorg.go:329] ["[ddl] get table range, endHandle < startHandle"] [table="&{23 t utf8mb4 utf8mb4_bin [int(11) int(11)] [0xc00056a080] [] public false  0 2 1 414438287599992836 0 0 0 0 0  <nil> 3 <nil>}"] [partitionID=23] [endHandle=9223372036854775807] [startHandle=-9223372036854775808]
[2020/02/06 10:36:42.479 +08:00] [INFO] [reorg.go:362] ["[ddl] job get table range"] [jobID=25] [physicalTableID=23] [startHandle=-9223372036854775808] [endHandle=-9223372036854775808]
[2020/02/06 10:36:42.479 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 4, tp add index"] [job="ID:25, Type:add index, State:running, SchemaState:write reorganization, SchemaID:1, TableID:23, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.477 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:414438287600254976"]
[2020/02/06 10:36:42.479 +08:00] [INFO] [index.go:1205] ["[ddl] start to add table index"] [job="ID:25, Type:add index, State:running, SchemaState:write reorganization, SchemaID:1, TableID:23, RowCount:0, ArgLen:4, start time: 2020-02-06 10:36:42.477 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:414438287600254976"] [reorgInfo=StartHandle:-9223372036854775808,EndHandle:-9223372036854775808,first:false,PhysicalTableID:23]
[2020/02/06 10:36:42.479 +08:00] [INFO] [index.go:1023] ["[ddl] split table range from PD"] [physicalTableID=23] [startHandle=-9223372036854775808] [endHandle=-9223372036854775808]
[2020/02/06 10:36:42.479 +08:00] [INFO] [index.go:1267] ["[ddl] start add index workers to reorg index"] [workerCnt=1] [regionCnt=1] [startHandle=-9223372036854775808] [endHandle=-9223372036854775808]
[2020/02/06 10:36:42.479 +08:00] [INFO] [index.go:968] ["[ddl] add index worker start"] [workerID=0]
[2020/02/06 10:36:42.479 +08:00] [INFO] [index.go:962] ["[ddl] add index worker finish task"] [workerID=0] [task="physicalTableID23_[-9223372036854775808,-9223372036854775808]"] [addedCount=0] [scanCount=0] [nextHandle=-9223372036854775807] [takeTime=30.916µs]
[2020/02/06 10:36:42.479 +08:00] [INFO] [index.go:1122] ["[ddl] add index worker handle batch tasks successful"] [totalAddedCount=0] [startHandle=-9223372036854775808] [nextHandle=-9223372036854775807] [batchAddedCount=0] [takeTime=54.018µs]
[2020/02/06 10:36:42.479 +08:00] [INFO] [reorg.go:139] ["[ddl] run reorg job done"] ["handled rows"=0]
[2020/02/06 10:36:42.480 +08:00] [INFO] [index.go:998] ["[ddl] add index worker exit"] [workerID=0]
[2020/02/06 10:36:42.480 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 4, tp add index"] [job="ID:25, Type:add index, State:synced, SchemaState:public, SchemaID:1, TableID:23, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.477 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:414438287600254976"]
[2020/02/06 10:36:42.480 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=25]
[2020/02/06 10:36:42.480 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.480 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=12] [neededSchemaVersion=16] ["start time"=223.045µs] [tblIDs="[23,23,23,23]"]
[2020/02/06 10:36:42.481 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:26, Type:add index, State:none, SchemaState:none, SchemaID:1, TableID:23, RowCount:0, ArgLen:4, start time: 2020-02-06 10:36:42.481 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create index b on t (b)"]
[2020/02/06 10:36:42.481 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 4, tp add index"] [job="ID:26, Type:add index, State:none, SchemaState:none, SchemaID:1, TableID:23, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.481 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.481 +08:00] [INFO] [index.go:375] ["[ddl] run add index job"] [job="ID:26, Type:add index, State:running, SchemaState:none, SchemaID:1, TableID:23, RowCount:0, ArgLen:4, start time: 2020-02-06 10:36:42.481 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [indexInfo="{\"id\":2,\"idx_name\":{\"O\":\"b\",\"L\":\"b\"},\"tbl_name\":{\"O\":\"\",\"L\":\"\"},\"idx_cols\":[{\"name\":{\"O\":\"b\",\"L\":\"b\"},\"offset\":1,\"length\":-1}],\"is_unique\":false,\"is_primary\":false,\"state\":0,\"comment\":\"\",\"index_type\":1}"]
[2020/02/06 10:36:42.481 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 4, tp add index"] [job="ID:26, Type:add index, State:running, SchemaState:delete only, SchemaID:1, TableID:23, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.481 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.481 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 4, tp add index"] [job="ID:26, Type:add index, State:running, SchemaState:write only, SchemaID:1, TableID:23, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.481 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.482 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 4, tp add index"] [job="ID:26, Type:add index, State:running, SchemaState:write reorganization, SchemaID:1, TableID:23, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.481 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.482 +08:00] [INFO] [reorg.go:329] ["[ddl] get table range, endHandle < startHandle"] [table="&{23 t utf8mb4 utf8mb4_bin [int(11) int(11)] [0xc000b73d80 0xc000b73e00] [] public false  0 2 2 414438287600779272 0 0 0 0 0  <nil> 3 <nil>}"] [partitionID=23] [endHandle=9223372036854775807] [startHandle=-9223372036854775808]
[2020/02/06 10:36:42.482 +08:00] [INFO] [reorg.go:362] ["[ddl] job get table range"] [jobID=26] [physicalTableID=23] [startHandle=-9223372036854775808] [endHandle=-9223372036854775808]
[2020/02/06 10:36:42.482 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 4, tp add index"] [job="ID:26, Type:add index, State:running, SchemaState:write reorganization, SchemaID:1, TableID:23, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.481 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:414438287601041410"]
[2020/02/06 10:36:42.482 +08:00] [INFO] [index.go:1205] ["[ddl] start to add table index"] [job="ID:26, Type:add index, State:running, SchemaState:write reorganization, SchemaID:1, TableID:23, RowCount:0, ArgLen:4, start time: 2020-02-06 10:36:42.481 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:414438287601041410"] [reorgInfo=StartHandle:-9223372036854775808,EndHandle:-9223372036854775808,first:false,PhysicalTableID:23]
[2020/02/06 10:36:42.482 +08:00] [INFO] [index.go:1023] ["[ddl] split table range from PD"] [physicalTableID=23] [startHandle=-9223372036854775808] [endHandle=-9223372036854775808]
[2020/02/06 10:36:42.483 +08:00] [INFO] [index.go:1267] ["[ddl] start add index workers to reorg index"] [workerCnt=1] [regionCnt=1] [startHandle=-9223372036854775808] [endHandle=-9223372036854775808]
[2020/02/06 10:36:42.483 +08:00] [INFO] [index.go:968] ["[ddl] add index worker start"] [workerID=0]
[2020/02/06 10:36:42.483 +08:00] [INFO] [index.go:962] ["[ddl] add index worker finish task"] [workerID=0] [task="physicalTableID23_[-9223372036854775808,-9223372036854775808]"] [addedCount=0] [scanCount=0] [nextHandle=-9223372036854775807] [takeTime=30.002µs]
[2020/02/06 10:36:42.483 +08:00] [INFO] [index.go:1122] ["[ddl] add index worker handle batch tasks successful"] [totalAddedCount=0] [startHandle=-9223372036854775808] [nextHandle=-9223372036854775807] [batchAddedCount=0] [takeTime=51.066µs]
[2020/02/06 10:36:42.483 +08:00] [INFO] [reorg.go:139] ["[ddl] run reorg job done"] ["handled rows"=0]
[2020/02/06 10:36:42.483 +08:00] [INFO] [index.go:998] ["[ddl] add index worker exit"] [workerID=0]
[2020/02/06 10:36:42.483 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 4, tp add index"] [job="ID:26, Type:add index, State:synced, SchemaState:public, SchemaID:1, TableID:23, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.481 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:414438287601041410"]
[2020/02/06 10:36:42.483 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=26]
[2020/02/06 10:36:42.483 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.484 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=16] [neededSchemaVersion=20] ["start time"=339.903µs] [tblIDs="[23,23,23,23]"]
[2020/02/06 10:36:42.497 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:28, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:27, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.497 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create table t1 (a int, b int)"]
[2020/02/06 10:36:42.498 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:28, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:27, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.497 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.498 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:28, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:27, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.497 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.498 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=28]
[2020/02/06 10:36:42.498 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.499 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=20] [neededSchemaVersion=21] ["start time"=67.404µs] [tblIDs="[27]"]
[2020/02/06 10:36:42.499 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:29, Type:add index, State:none, SchemaState:none, SchemaID:1, TableID:27, RowCount:0, ArgLen:4, start time: 2020-02-06 10:36:42.499 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create index a on t1 (a)"]
[2020/02/06 10:36:42.499 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 4, tp add index"] [job="ID:29, Type:add index, State:none, SchemaState:none, SchemaID:1, TableID:27, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.499 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.499 +08:00] [INFO] [index.go:375] ["[ddl] run add index job"] [job="ID:29, Type:add index, State:running, SchemaState:none, SchemaID:1, TableID:27, RowCount:0, ArgLen:4, start time: 2020-02-06 10:36:42.499 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [indexInfo="{\"id\":1,\"idx_name\":{\"O\":\"a\",\"L\":\"a\"},\"tbl_name\":{\"O\":\"\",\"L\":\"\"},\"idx_cols\":[{\"name\":{\"O\":\"a\",\"L\":\"a\"},\"offset\":0,\"length\":-1}],\"is_unique\":false,\"is_primary\":false,\"state\":0,\"comment\":\"\",\"index_type\":1}"]
[2020/02/06 10:36:42.499 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 4, tp add index"] [job="ID:29, Type:add index, State:running, SchemaState:delete only, SchemaID:1, TableID:27, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.499 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.500 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 4, tp add index"] [job="ID:29, Type:add index, State:running, SchemaState:write only, SchemaID:1, TableID:27, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.499 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.500 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 4, tp add index"] [job="ID:29, Type:add index, State:running, SchemaState:write reorganization, SchemaID:1, TableID:27, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.499 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.500 +08:00] [INFO] [reorg.go:329] ["[ddl] get table range, endHandle < startHandle"] [table="&{27 t1 utf8mb4 utf8mb4_bin [int(11) int(11)] [0xc0004b5500] [] public false  0 2 1 414438287605497864 0 0 0 0 0  <nil> 3 <nil>}"] [partitionID=27] [endHandle=9223372036854775807] [startHandle=-9223372036854775808]
[2020/02/06 10:36:42.500 +08:00] [INFO] [reorg.go:362] ["[ddl] job get table range"] [jobID=29] [physicalTableID=27] [startHandle=-9223372036854775808] [endHandle=-9223372036854775808]
[2020/02/06 10:36:42.500 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 4, tp add index"] [job="ID:29, Type:add index, State:running, SchemaState:write reorganization, SchemaID:1, TableID:27, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.499 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:414438287605760002"]
[2020/02/06 10:36:42.500 +08:00] [INFO] [index.go:1205] ["[ddl] start to add table index"] [job="ID:29, Type:add index, State:running, SchemaState:write reorganization, SchemaID:1, TableID:27, RowCount:0, ArgLen:4, start time: 2020-02-06 10:36:42.499 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:414438287605760002"] [reorgInfo=StartHandle:-9223372036854775808,EndHandle:-9223372036854775808,first:false,PhysicalTableID:27]
[2020/02/06 10:36:42.500 +08:00] [INFO] [index.go:1023] ["[ddl] split table range from PD"] [physicalTableID=27] [startHandle=-9223372036854775808] [endHandle=-9223372036854775808]
[2020/02/06 10:36:42.501 +08:00] [INFO] [index.go:1267] ["[ddl] start add index workers to reorg index"] [workerCnt=1] [regionCnt=1] [startHandle=-9223372036854775808] [endHandle=-9223372036854775808]
[2020/02/06 10:36:42.501 +08:00] [INFO] [index.go:968] ["[ddl] add index worker start"] [workerID=0]
[2020/02/06 10:36:42.501 +08:00] [INFO] [index.go:962] ["[ddl] add index worker finish task"] [workerID=0] [task="physicalTableID27_[-9223372036854775808,-9223372036854775808]"] [addedCount=0] [scanCount=0] [nextHandle=-9223372036854775807] [takeTime=40.377µs]
[2020/02/06 10:36:42.501 +08:00] [INFO] [index.go:1122] ["[ddl] add index worker handle batch tasks successful"] [totalAddedCount=0] [startHandle=-9223372036854775808] [nextHandle=-9223372036854775807] [batchAddedCount=0] [takeTime=67.391µs]
[2020/02/06 10:36:42.501 +08:00] [INFO] [reorg.go:139] ["[ddl] run reorg job done"] ["handled rows"=0]
[2020/02/06 10:36:42.501 +08:00] [INFO] [index.go:998] ["[ddl] add index worker exit"] [workerID=0]
[2020/02/06 10:36:42.501 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 4, tp add index"] [job="ID:29, Type:add index, State:synced, SchemaState:public, SchemaID:1, TableID:27, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.499 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:414438287605760002"]
[2020/02/06 10:36:42.501 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=29]
[2020/02/06 10:36:42.501 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.502 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=21] [neededSchemaVersion=25] ["start time"=241.827µs] [tblIDs="[27,27,27,27]"]
[2020/02/06 10:36:42.502 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:30, Type:add index, State:none, SchemaState:none, SchemaID:1, TableID:27, RowCount:0, ArgLen:4, start time: 2020-02-06 10:36:42.502 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create index b on t1 (b)"]
[2020/02/06 10:36:42.502 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 4, tp add index"] [job="ID:30, Type:add index, State:none, SchemaState:none, SchemaID:1, TableID:27, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.502 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.502 +08:00] [INFO] [index.go:375] ["[ddl] run add index job"] [job="ID:30, Type:add index, State:running, SchemaState:none, SchemaID:1, TableID:27, RowCount:0, ArgLen:4, start time: 2020-02-06 10:36:42.502 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [indexInfo="{\"id\":2,\"idx_name\":{\"O\":\"b\",\"L\":\"b\"},\"tbl_name\":{\"O\":\"\",\"L\":\"\"},\"idx_cols\":[{\"name\":{\"O\":\"b\",\"L\":\"b\"},\"offset\":1,\"length\":-1}],\"is_unique\":false,\"is_primary\":false,\"state\":0,\"comment\":\"\",\"index_type\":1}"]
[2020/02/06 10:36:42.502 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 4, tp add index"] [job="ID:30, Type:add index, State:running, SchemaState:delete only, SchemaID:1, TableID:27, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.502 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.503 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 4, tp add index"] [job="ID:30, Type:add index, State:running, SchemaState:write only, SchemaID:1, TableID:27, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.502 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.503 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 4, tp add index"] [job="ID:30, Type:add index, State:running, SchemaState:write reorganization, SchemaID:1, TableID:27, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.502 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.503 +08:00] [INFO] [reorg.go:329] ["[ddl] get table range, endHandle < startHandle"] [table="&{27 t1 utf8mb4 utf8mb4_bin [int(11) int(11)] [0xc000bae600 0xc000bae680] [] public false  0 2 2 414438287606546433 0 0 0 0 0  <nil> 3 <nil>}"] [partitionID=27] [endHandle=9223372036854775807] [startHandle=-9223372036854775808]
[2020/02/06 10:36:42.503 +08:00] [INFO] [reorg.go:362] ["[ddl] job get table range"] [jobID=30] [physicalTableID=27] [startHandle=-9223372036854775808] [endHandle=-9223372036854775808]
[2020/02/06 10:36:42.503 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 4, tp add index"] [job="ID:30, Type:add index, State:running, SchemaState:write reorganization, SchemaID:1, TableID:27, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.502 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:414438287606546436"]
[2020/02/06 10:36:42.504 +08:00] [INFO] [index.go:1205] ["[ddl] start to add table index"] [job="ID:30, Type:add index, State:running, SchemaState:write reorganization, SchemaID:1, TableID:27, RowCount:0, ArgLen:4, start time: 2020-02-06 10:36:42.502 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:414438287606546436"] [reorgInfo=StartHandle:-9223372036854775808,EndHandle:-9223372036854775808,first:false,PhysicalTableID:27]
[2020/02/06 10:36:42.504 +08:00] [INFO] [index.go:1023] ["[ddl] split table range from PD"] [physicalTableID=27] [startHandle=-9223372036854775808] [endHandle=-9223372036854775808]
[2020/02/06 10:36:42.504 +08:00] [INFO] [index.go:1267] ["[ddl] start add index workers to reorg index"] [workerCnt=1] [regionCnt=1] [startHandle=-9223372036854775808] [endHandle=-9223372036854775808]
[2020/02/06 10:36:42.504 +08:00] [INFO] [index.go:968] ["[ddl] add index worker start"] [workerID=0]
[2020/02/06 10:36:42.504 +08:00] [INFO] [index.go:962] ["[ddl] add index worker finish task"] [workerID=0] [task="physicalTableID27_[-9223372036854775808,-9223372036854775808]"] [addedCount=0] [scanCount=0] [nextHandle=-9223372036854775807] [takeTime=34.278µs]
[2020/02/06 10:36:42.504 +08:00] [INFO] [index.go:1122] ["[ddl] add index worker handle batch tasks successful"] [totalAddedCount=0] [startHandle=-9223372036854775808] [nextHandle=-9223372036854775807] [batchAddedCount=0] [takeTime=60.942µs]
[2020/02/06 10:36:42.504 +08:00] [INFO] [reorg.go:139] ["[ddl] run reorg job done"] ["handled rows"=0]
[2020/02/06 10:36:42.504 +08:00] [INFO] [index.go:998] ["[ddl] add index worker exit"] [workerID=0]
[2020/02/06 10:36:42.504 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 4, tp add index"] [job="ID:30, Type:add index, State:synced, SchemaState:public, SchemaID:1, TableID:27, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.502 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:414438287606546436"]
[2020/02/06 10:36:42.505 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=30]
[2020/02/06 10:36:42.505 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.505 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=25] [neededSchemaVersion=29] ["start time"=299.08µs] [tblIDs="[27,27,27,27]"]
[2020/02/06 10:36:42.506 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:32, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:31, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.506 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create table t2 (a int, b int)"]
[2020/02/06 10:36:42.506 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:32, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:31, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.506 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.506 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:32, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:31, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.506 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.507 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=32]
[2020/02/06 10:36:42.507 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.507 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=29] [neededSchemaVersion=30] ["start time"=73.622µs] [tblIDs="[31]"]
[2020/02/06 10:36:42.507 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:33, Type:add index, State:none, SchemaState:none, SchemaID:1, TableID:31, RowCount:0, ArgLen:4, start time: 2020-02-06 10:36:42.507 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create index a on t2 (a)"]
[2020/02/06 10:36:42.507 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 4, tp add index"] [job="ID:33, Type:add index, State:none, SchemaState:none, SchemaID:1, TableID:31, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.507 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.507 +08:00] [INFO] [index.go:375] ["[ddl] run add index job"] [job="ID:33, Type:add index, State:running, SchemaState:none, SchemaID:1, TableID:31, RowCount:0, ArgLen:4, start time: 2020-02-06 10:36:42.507 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [indexInfo="{\"id\":1,\"idx_name\":{\"O\":\"a\",\"L\":\"a\"},\"tbl_name\":{\"O\":\"\",\"L\":\"\"},\"idx_cols\":[{\"name\":{\"O\":\"a\",\"L\":\"a\"},\"offset\":0,\"length\":-1}],\"is_unique\":false,\"is_primary\":false,\"state\":0,\"comment\":\"\",\"index_type\":1}"]
[2020/02/06 10:36:42.508 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 4, tp add index"] [job="ID:33, Type:add index, State:running, SchemaState:delete only, SchemaID:1, TableID:31, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.507 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.508 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 4, tp add index"] [job="ID:33, Type:add index, State:running, SchemaState:write only, SchemaID:1, TableID:31, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.507 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.508 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 4, tp add index"] [job="ID:33, Type:add index, State:running, SchemaState:write reorganization, SchemaID:1, TableID:31, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.507 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.508 +08:00] [INFO] [reorg.go:329] ["[ddl] get table range, endHandle < startHandle"] [table="&{31 t2 utf8mb4 utf8mb4_bin [int(11) int(11)] [0xc000d9d500] [] public false  0 2 1 414438287607857154 0 0 0 0 0  <nil> 3 <nil>}"] [partitionID=31] [endHandle=9223372036854775807] [startHandle=-9223372036854775808]
[2020/02/06 10:36:42.508 +08:00] [INFO] [reorg.go:362] ["[ddl] job get table range"] [jobID=33] [physicalTableID=31] [startHandle=-9223372036854775808] [endHandle=-9223372036854775808]
[2020/02/06 10:36:42.509 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 4, tp add index"] [job="ID:33, Type:add index, State:running, SchemaState:write reorganization, SchemaID:1, TableID:31, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.507 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:414438287607857157"]
[2020/02/06 10:36:42.509 +08:00] [INFO] [index.go:1205] ["[ddl] start to add table index"] [job="ID:33, Type:add index, State:running, SchemaState:write reorganization, SchemaID:1, TableID:31, RowCount:0, ArgLen:4, start time: 2020-02-06 10:36:42.507 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:414438287607857157"] [reorgInfo=StartHandle:-9223372036854775808,EndHandle:-9223372036854775808,first:false,PhysicalTableID:31]
[2020/02/06 10:36:42.509 +08:00] [INFO] [index.go:1023] ["[ddl] split table range from PD"] [physicalTableID=31] [startHandle=-9223372036854775808] [endHandle=-9223372036854775808]
[2020/02/06 10:36:42.509 +08:00] [INFO] [index.go:1267] ["[ddl] start add index workers to reorg index"] [workerCnt=1] [regionCnt=1] [startHandle=-9223372036854775808] [endHandle=-9223372036854775808]
[2020/02/06 10:36:42.509 +08:00] [INFO] [index.go:968] ["[ddl] add index worker start"] [workerID=0]
[2020/02/06 10:36:42.509 +08:00] [INFO] [index.go:962] ["[ddl] add index worker finish task"] [workerID=0] [task="physicalTableID31_[-9223372036854775808,-9223372036854775808]"] [addedCount=0] [scanCount=0] [nextHandle=-9223372036854775807] [takeTime=33.779µs]
[2020/02/06 10:36:42.509 +08:00] [INFO] [index.go:1122] ["[ddl] add index worker handle batch tasks successful"] [totalAddedCount=0] [startHandle=-9223372036854775808] [nextHandle=-9223372036854775807] [batchAddedCount=0] [takeTime=58.01µs]
[2020/02/06 10:36:42.509 +08:00] [INFO] [reorg.go:139] ["[ddl] run reorg job done"] ["handled rows"=0]
[2020/02/06 10:36:42.509 +08:00] [INFO] [index.go:998] ["[ddl] add index worker exit"] [workerID=0]
[2020/02/06 10:36:42.510 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 4, tp add index"] [job="ID:33, Type:add index, State:synced, SchemaState:public, SchemaID:1, TableID:31, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.507 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:414438287607857157"]
[2020/02/06 10:36:42.510 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=33]
[2020/02/06 10:36:42.510 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.510 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=30] [neededSchemaVersion=34] ["start time"=251.037µs] [tblIDs="[31,31,31,31]"]
[2020/02/06 10:36:42.510 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:34, Type:add index, State:none, SchemaState:none, SchemaID:1, TableID:31, RowCount:0, ArgLen:4, start time: 2020-02-06 10:36:42.51 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create index b on t2 (b)"]
[2020/02/06 10:36:42.510 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 4, tp add index"] [job="ID:34, Type:add index, State:none, SchemaState:none, SchemaID:1, TableID:31, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.51 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.511 +08:00] [INFO] [index.go:375] ["[ddl] run add index job"] [job="ID:34, Type:add index, State:running, SchemaState:none, SchemaID:1, TableID:31, RowCount:0, ArgLen:4, start time: 2020-02-06 10:36:42.51 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [indexInfo="{\"id\":2,\"idx_name\":{\"O\":\"b\",\"L\":\"b\"},\"tbl_name\":{\"O\":\"\",\"L\":\"\"},\"idx_cols\":[{\"name\":{\"O\":\"b\",\"L\":\"b\"},\"offset\":1,\"length\":-1}],\"is_unique\":false,\"is_primary\":false,\"state\":0,\"comment\":\"\",\"index_type\":1}"]
[2020/02/06 10:36:42.511 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 4, tp add index"] [job="ID:34, Type:add index, State:running, SchemaState:delete only, SchemaID:1, TableID:31, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.51 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.511 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 4, tp add index"] [job="ID:34, Type:add index, State:running, SchemaState:write only, SchemaID:1, TableID:31, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.51 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.512 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 4, tp add index"] [job="ID:34, Type:add index, State:running, SchemaState:write reorganization, SchemaID:1, TableID:31, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.51 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.512 +08:00] [INFO] [reorg.go:329] ["[ddl] get table range, endHandle < startHandle"] [table="&{31 t2 utf8mb4 utf8mb4_bin [int(11) int(11)] [0xc000e51580 0xc000e51600] [] public false  0 2 2 414438287608643587 0 0 0 0 0  <nil> 3 <nil>}"] [partitionID=31] [endHandle=9223372036854775807] [startHandle=-9223372036854775808]
[2020/02/06 10:36:42.512 +08:00] [INFO] [reorg.go:362] ["[ddl] job get table range"] [jobID=34] [physicalTableID=31] [startHandle=-9223372036854775808] [endHandle=-9223372036854775808]
[2020/02/06 10:36:42.512 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 4, tp add index"] [job="ID:34, Type:add index, State:running, SchemaState:write reorganization, SchemaID:1, TableID:31, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.51 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:414438287608905729"]
[2020/02/06 10:36:42.512 +08:00] [INFO] [index.go:1205] ["[ddl] start to add table index"] [job="ID:34, Type:add index, State:running, SchemaState:write reorganization, SchemaID:1, TableID:31, RowCount:0, ArgLen:4, start time: 2020-02-06 10:36:42.51 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:414438287608905729"] [reorgInfo=StartHandle:-9223372036854775808,EndHandle:-9223372036854775808,first:false,PhysicalTableID:31]
[2020/02/06 10:36:42.512 +08:00] [INFO] [index.go:1023] ["[ddl] split table range from PD"] [physicalTableID=31] [startHandle=-9223372036854775808] [endHandle=-9223372036854775808]
[2020/02/06 10:36:42.512 +08:00] [INFO] [index.go:1267] ["[ddl] start add index workers to reorg index"] [workerCnt=1] [regionCnt=1] [startHandle=-9223372036854775808] [endHandle=-9223372036854775808]
[2020/02/06 10:36:42.512 +08:00] [INFO] [index.go:968] ["[ddl] add index worker start"] [workerID=0]
[2020/02/06 10:36:42.512 +08:00] [INFO] [index.go:962] ["[ddl] add index worker finish task"] [workerID=0] [task="physicalTableID31_[-9223372036854775808,-9223372036854775808]"] [addedCount=0] [scanCount=0] [nextHandle=-9223372036854775807] [takeTime=30.133µs]
[2020/02/06 10:36:42.512 +08:00] [INFO] [index.go:1122] ["[ddl] add index worker handle batch tasks successful"] [totalAddedCount=0] [startHandle=-9223372036854775808] [nextHandle=-9223372036854775807] [batchAddedCount=0] [takeTime=58.425µs]
[2020/02/06 10:36:42.513 +08:00] [INFO] [reorg.go:139] ["[ddl] run reorg job done"] ["handled rows"=0]
[2020/02/06 10:36:42.513 +08:00] [INFO] [index.go:998] ["[ddl] add index worker exit"] [workerID=0]
[2020/02/06 10:36:42.513 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 4, tp add index"] [job="ID:34, Type:add index, State:synced, SchemaState:public, SchemaID:1, TableID:31, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.51 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:414438287608905729"]
[2020/02/06 10:36:42.513 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=34]
[2020/02/06 10:36:42.513 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.514 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=34] [neededSchemaVersion=38] ["start time"=289.959µs] [tblIDs="[31,31,31,31]"]
[2020/02/06 10:36:42.518 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:36, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:35, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.518 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create table t3 (a int, b int)"]
[2020/02/06 10:36:42.518 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:36, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:35, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.518 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.519 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:36, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:35, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.518 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.519 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=36]
[2020/02/06 10:36:42.519 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.519 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=38] [neededSchemaVersion=39] ["start time"=68.641µs] [tblIDs="[35]"]
[2020/02/06 10:36:42.519 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:37, Type:add index, State:none, SchemaState:none, SchemaID:1, TableID:35, RowCount:0, ArgLen:4, start time: 2020-02-06 10:36:42.519 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create index a on t3 (a)"]
[2020/02/06 10:36:42.519 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 4, tp add index"] [job="ID:37, Type:add index, State:none, SchemaState:none, SchemaID:1, TableID:35, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.519 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.520 +08:00] [INFO] [index.go:375] ["[ddl] run add index job"] [job="ID:37, Type:add index, State:running, SchemaState:none, SchemaID:1, TableID:35, RowCount:0, ArgLen:4, start time: 2020-02-06 10:36:42.519 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [indexInfo="{\"id\":1,\"idx_name\":{\"O\":\"a\",\"L\":\"a\"},\"tbl_name\":{\"O\":\"\",\"L\":\"\"},\"idx_cols\":[{\"name\":{\"O\":\"a\",\"L\":\"a\"},\"offset\":0,\"length\":-1}],\"is_unique\":false,\"is_primary\":false,\"state\":0,\"comment\":\"\",\"index_type\":1}"]
[2020/02/06 10:36:42.520 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 4, tp add index"] [job="ID:37, Type:add index, State:running, SchemaState:delete only, SchemaID:1, TableID:35, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.519 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.520 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 4, tp add index"] [job="ID:37, Type:add index, State:running, SchemaState:write only, SchemaID:1, TableID:35, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.519 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.521 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 4, tp add index"] [job="ID:37, Type:add index, State:running, SchemaState:write reorganization, SchemaID:1, TableID:35, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.519 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.521 +08:00] [INFO] [reorg.go:329] ["[ddl] get table range, endHandle < startHandle"] [table="&{35 t3 utf8mb4 utf8mb4_bin [int(11) int(11)] [0xc000349c80] [] public false  0 2 1 414438287611002883 0 0 0 0 0  <nil> 3 <nil>}"] [partitionID=35] [endHandle=9223372036854775807] [startHandle=-9223372036854775808]
[2020/02/06 10:36:42.521 +08:00] [INFO] [reorg.go:362] ["[ddl] job get table range"] [jobID=37] [physicalTableID=35] [startHandle=-9223372036854775808] [endHandle=-9223372036854775808]
[2020/02/06 10:36:42.521 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 4, tp add index"] [job="ID:37, Type:add index, State:running, SchemaState:write reorganization, SchemaID:1, TableID:35, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.519 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:414438287611265026"]
[2020/02/06 10:36:42.521 +08:00] [INFO] [index.go:1205] ["[ddl] start to add table index"] [job="ID:37, Type:add index, State:running, SchemaState:write reorganization, SchemaID:1, TableID:35, RowCount:0, ArgLen:4, start time: 2020-02-06 10:36:42.519 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:414438287611265026"] [reorgInfo=StartHandle:-9223372036854775808,EndHandle:-9223372036854775808,first:false,PhysicalTableID:35]
[2020/02/06 10:36:42.521 +08:00] [INFO] [index.go:1023] ["[ddl] split table range from PD"] [physicalTableID=35] [startHandle=-9223372036854775808] [endHandle=-9223372036854775808]
[2020/02/06 10:36:42.521 +08:00] [INFO] [index.go:1267] ["[ddl] start add index workers to reorg index"] [workerCnt=1] [regionCnt=1] [startHandle=-9223372036854775808] [endHandle=-9223372036854775808]
[2020/02/06 10:36:42.521 +08:00] [INFO] [index.go:968] ["[ddl] add index worker start"] [workerID=0]
[2020/02/06 10:36:42.521 +08:00] [INFO] [index.go:962] ["[ddl] add index worker finish task"] [workerID=0] [task="physicalTableID35_[-9223372036854775808,-9223372036854775808]"] [addedCount=0] [scanCount=0] [nextHandle=-9223372036854775807] [takeTime=32.206µs]
[2020/02/06 10:36:42.522 +08:00] [INFO] [index.go:1122] ["[ddl] add index worker handle batch tasks successful"] [totalAddedCount=0] [startHandle=-9223372036854775808] [nextHandle=-9223372036854775807] [batchAddedCount=0] [takeTime=55.129µs]
[2020/02/06 10:36:42.522 +08:00] [INFO] [reorg.go:139] ["[ddl] run reorg job done"] ["handled rows"=0]
[2020/02/06 10:36:42.522 +08:00] [INFO] [index.go:998] ["[ddl] add index worker exit"] [workerID=0]
[2020/02/06 10:36:42.522 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 4, tp add index"] [job="ID:37, Type:add index, State:synced, SchemaState:public, SchemaID:1, TableID:35, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.519 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:414438287611265026"]
[2020/02/06 10:36:42.522 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=37]
[2020/02/06 10:36:42.522 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.523 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=39] [neededSchemaVersion=43] ["start time"=242.76µs] [tblIDs="[35,35,35,35]"]
[2020/02/06 10:36:42.523 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 3, tp general"] ["take time"=6.381µs]
[2020/02/06 10:36:42.523 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 4, tp add index"] ["take time"=1.996µs]
[2020/02/06 10:36:42.523 +08:00] [INFO] [session_pool.go:85] ["[ddl] closing sessionPool"]
[2020/02/06 10:36:42.523 +08:00] [INFO] [ddl.go:349] ["[ddl] DDL closed"] [ID=1f4ddc0b-deab-4de0-8999-3c133a2112fe] ["take time"=40.099µs]
[2020/02/06 10:36:42.523 +08:00] [INFO] [ddl.go:282] ["[ddl] stop DDL"] [ID=1f4ddc0b-deab-4de0-8999-3c133a2112fe]
[2020/02/06 10:36:42.523 +08:00] [INFO] [domain.go:456] ["domain closed"] ["take time"=52.724µs]
PASS: cbo_test.go:146: testAnalyzeSuite.TestAnalyze	0.089s
[2020/02/06 10:36:42.525 +08:00] [INFO] [tidb.go:68] ["new domain"] [store=24873174-7f3c-46cf-8321-4a3a8a5208b8] ["ddl lease"=0s] ["stats lease"=-1ns]
[2020/02/06 10:36:42.525 +08:00] [INFO] [ddl.go:289] ["[ddl] start DDL"] [ID=ab3fa666-3c91-4fe7-b82b-951c55a8165b]
[2020/02/06 10:36:42.525 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 5, tp general"]
[2020/02/06 10:36:42.525 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=0] ["start time"=60.041µs]
[2020/02/06 10:36:42.525 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:42.525 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 6, tp add index"]
[2020/02/06 10:36:42.525 +08:00] [INFO] [tidb.go:171] ["rollbackTxn for ddl/autocommit failed"]
[2020/02/06 10:36:42.525 +08:00] [WARN] [session.go:736] ["run statement failed"] [schemaVersion=0] [error="[schema:1049]Unknown database 'mysql'"] [errorVerbose="[schema:1049]Unknown database 'mysql'\ngithub.com/pingcap/errors.AddStack\n\t/home/aliv/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20190809092503-95897b64e011/errors.go:174\ngithub.com/pingcap/tidb/parser/terror.(*Error).GenWithStackByArgs\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/terror/terror.go:240\ngithub.com/pingcap/tidb/executor.(*SimpleExec).executeUse\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/simple.go:66\ngithub.com/pingcap/tidb/executor.(*SimpleExec).Next\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/simple.go:49\ngithub.com/pingcap/tidb/executor.Next\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/executor.go:175\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelayExecutor\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:271\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelay\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:237\ngithub.com/pingcap/tidb/executor.(*ExecStmt).Exec\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:208\ngithub.com/pingcap/tidb/session.runStmt\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/tidb.go:219\ngithub.com/pingcap/tidb/session.(*session).executeStatement\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:733\ngithub.com/pingcap/tidb/session.(*session).execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:812\ngithub.com/pingcap/tidb/session.(*session).Execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:760\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:175\ngithub.com/pingcap/tidb/session.bootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:143\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:1021\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:982\ngithub.com/pingcap/tidb/planner/core_test.newStoreWithBootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/cbo_test.go:270\ngithub.com/pingcap/tidb/planner/core_test.(*testAnalyzeSuite).TestCorrelatedEstimation\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/cbo_test.go:235\nreflect.Value.call\n\t/usr/lib/go/src/reflect/value.go:460\nreflect.Value.Call\n\t/usr/lib/go/src/reflect/value.go:321\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:854\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:739\nruntime.goexit\n\t/usr/lib/go/src/runtime/asm_amd64.s:1357"] [session="{\n  \"currDBName\": \"\",\n  \"id\": 0,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": \"\"\n}"]
[2020/02/06 10:36:42.525 +08:00] [WARN] [session.go:803] ["compile SQL failed"] [error="[schema:1146]Table 'mysql.tidb' doesn't exist"] [errorVerbose="[schema:1146]Table 'mysql.tidb' doesn't exist\ngithub.com/pingcap/errors.AddStack\n\t/home/aliv/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20190809092503-95897b64e011/errors.go:174\ngithub.com/pingcap/tidb/parser/terror.(*Error).GenWithStackByArgs\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/terror/terror.go:240\ngithub.com/pingcap/tidb/infoschema.(*infoSchema).TableByName\n\t/home/aliv/go/src/github.com/pingcap/tinysql/infoschema/infoschema.go:171\ngithub.com/pingcap/tidb/planner/core.(*preprocessor).handleTableName\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:650\ngithub.com/pingcap/tidb/planner/core.(*preprocessor).Leave\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:133\ngithub.com/pingcap/tidb/parser/ast.(*TableName).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:294\ngithub.com/pingcap/tidb/parser/ast.(*TableSource).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:431\ngithub.com/pingcap/tidb/parser/ast.(*Join).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:142\ngithub.com/pingcap/tidb/parser/ast.(*TableRefsClause).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:612\ngithub.com/pingcap/tidb/parser/ast.(*SelectStmt).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:931\ngithub.com/pingcap/tidb/planner/core.Preprocess\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:48\ngithub.com/pingcap/tidb/executor.(*Compiler).Compile\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/compiler.go:34\ngithub.com/pingcap/tidb/session.(*session).execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:800\ngithub.com/pingcap/tidb/session.(*session).Execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:760\ngithub.com/pingcap/tidb/session.getTiDBVar\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:204\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:181\ngithub.com/pingcap/tidb/session.bootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:143\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:1021\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:982\ngithub.com/pingcap/tidb/planner/core_test.newStoreWithBootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/cbo_test.go:270\ngithub.com/pingcap/tidb/planner/core_test.(*testAnalyzeSuite).TestCorrelatedEstimation\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/cbo_test.go:235\nreflect.Value.call\n\t/usr/lib/go/src/reflect/value.go:460\nreflect.Value.Call\n\t/usr/lib/go/src/reflect/value.go:321\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:854\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:739\nruntime.goexit\n\t/usr/lib/go/src/runtime/asm_amd64.s:1357"] [SQL="SELECT HIGH_PRIORITY VARIABLE_VALUE FROM mysql.tidb WHERE VARIABLE_NAME=\"bootstrapped\""]
[2020/02/06 10:36:42.526 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:2, Type:create schema, State:none, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.526 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS test"]
[2020/02/06 10:36:42.526 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 5, tp general"] [job="ID:2, Type:create schema, State:none, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.526 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.526 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 5, tp general"] [job="ID:2, Type:create schema, State:synced, SchemaState:public, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.526 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.527 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=2]
[2020/02/06 10:36:42.527 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.527 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=1] ["start time"=98.339µs]
[2020/02/06 10:36:42.527 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:42.527 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:4, Type:create schema, State:none, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.527 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS mysql;"]
[2020/02/06 10:36:42.527 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 5, tp general"] [job="ID:4, Type:create schema, State:none, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.527 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.527 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 5, tp general"] [job="ID:4, Type:create schema, State:synced, SchemaState:public, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.527 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.527 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=4]
[2020/02/06 10:36:42.527 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.527 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=1] [neededSchemaVersion=2] ["start time"=46.02µs] [tblIDs="[]"]
[2020/02/06 10:36:42.528 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:6, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.528 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) Not Null PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT Null);"]
[2020/02/06 10:36:42.528 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 5, tp general"] [job="ID:6, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.528 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.528 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 5, tp general"] [job="ID:6, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.528 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.528 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=6]
[2020/02/06 10:36:42.528 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.529 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=2] [neededSchemaVersion=3] ["start time"=70.82µs] [tblIDs="[5]"]
[2020/02/06 10:36:42.529 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:8, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.529 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.tidb(\n\t\tVARIABLE_NAME  VARCHAR(64) Not Null PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT Null,\n\t\tCOMMENT VARCHAR(1024));"]
[2020/02/06 10:36:42.529 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 5, tp general"] [job="ID:8, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.529 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.529 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 5, tp general"] [job="ID:8, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.529 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.530 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=8]
[2020/02/06 10:36:42.530 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.530 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=3] [neededSchemaVersion=4] ["start time"=80.329µs] [tblIDs="[7]"]
[2020/02/06 10:36:42.530 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:10, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.53 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.help_topic (\n  \t\thelp_topic_id int(10) unsigned NOT NULL,\n  \t\tname char(64) NOT NULL,\n  \t\thelp_category_id smallint(5) unsigned NOT NULL,\n  \t\tdescription text NOT NULL,\n  \t\texample text NOT NULL,\n  \t\turl text NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id),\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"]
[2020/02/06 10:36:42.530 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 5, tp general"] [job="ID:10, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.53 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.531 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 5, tp general"] [job="ID:10, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.53 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.531 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=10]
[2020/02/06 10:36:42.531 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.531 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=4] [neededSchemaVersion=5] ["start time"=94.61µs] [tblIDs="[9]"]
[2020/02/06 10:36:42.531 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:12, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.531 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_meta (\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tcount bigint(64) unsigned NOT NULL DEFAULT 0,\n\t\tindex idx_ver(version),\n\t\tunique index tbl(table_id)\n\t);"]
[2020/02/06 10:36:42.532 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 5, tp general"] [job="ID:12, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.531 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.532 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 5, tp general"] [job="ID:12, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.531 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.532 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=12]
[2020/02/06 10:36:42.532 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.532 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=5] [neededSchemaVersion=6] ["start time"=99.646µs] [tblIDs="[11]"]
[2020/02/06 10:36:42.533 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:14, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.533 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_histograms (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tdistinct_count bigint(64) NOT NULL,\n\t\tnull_count bigint(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size bigint(64) NOT NULL DEFAULT 0,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tversion bigint(64) unsigned NOT NULL DEFAULT 0,\n\t\tcm_sketch blob,\n\t\tstats_ver bigint(64) NOT NULL DEFAULT 0,\n\t\tflag bigint(64) NOT NULL DEFAULT 0,\n\t\tcorrelation double NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos blob DEFAULT NULL,\n\t\tunique index tbl(table_id, is_index, hist_id)\n\t);"]
[2020/02/06 10:36:42.533 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 5, tp general"] [job="ID:14, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.533 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.534 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 5, tp general"] [job="ID:14, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.533 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.534 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=14]
[2020/02/06 10:36:42.534 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.534 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=6] [neededSchemaVersion=7] ["start time"=150.06µs] [tblIDs="[13]"]
[2020/02/06 10:36:42.535 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:16, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.535 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_buckets (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tbucket_id bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\trepeats bigint(64) NOT NULL,\n\t\tupper_bound blob NOT NULL,\n\t\tlower_bound blob ,\n\t\tunique index tbl(table_id, is_index, hist_id, bucket_id)\n\t);"]
[2020/02/06 10:36:42.535 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 5, tp general"] [job="ID:16, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.535 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.536 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 5, tp general"] [job="ID:16, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.535 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.536 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=16]
[2020/02/06 10:36:42.536 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.536 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=7] [neededSchemaVersion=8] ["start time"=122.557µs] [tblIDs="[15]"]
[2020/02/06 10:36:42.536 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:18, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.536 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id BIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id BIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts BIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"]
[2020/02/06 10:36:42.537 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 5, tp general"] [job="ID:18, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.536 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.537 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 5, tp general"] [job="ID:18, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.536 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.537 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=18]
[2020/02/06 10:36:42.537 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.538 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=8] [neededSchemaVersion=9] ["start time"=97.52µs] [tblIDs="[17]"]
[2020/02/06 10:36:42.538 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:20, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.538 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id BIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id BIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts BIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"]
[2020/02/06 10:36:42.538 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 5, tp general"] [job="ID:20, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.538 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.539 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 5, tp general"] [job="ID:20, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.538 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.539 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=20]
[2020/02/06 10:36:42.539 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.539 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=9] [neededSchemaVersion=10] ["start time"=102.337µs] [tblIDs="[19]"]
[2020/02/06 10:36:42.539 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:22, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.539 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_top_n (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tvalue longblob,\n\t\tcount bigint(64) UNSIGNED NOT NULL,\n\t\tindex tbl(table_id, is_index, hist_id)\n\t);"]
[2020/02/06 10:36:42.540 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 5, tp general"] [job="ID:22, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.539 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.540 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 5, tp general"] [job="ID:22, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.539 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.540 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=22]
[2020/02/06 10:36:42.540 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.541 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=10] [neededSchemaVersion=11] ["start time"=97.331µs] [tblIDs="[21]"]
[2020/02/06 10:36:42.554 +08:00] [INFO] [bootstrap.go:153] ["bootstrap successful"] ["take time"=28.535534ms]
[2020/02/06 10:36:42.555 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 5, tp general"] ["take time"=9.322µs]
[2020/02/06 10:36:42.555 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 6, tp add index"] ["take time"=6.158µs]
[2020/02/06 10:36:42.555 +08:00] [INFO] [session_pool.go:85] ["[ddl] closing sessionPool"]
[2020/02/06 10:36:42.555 +08:00] [INFO] [ddl.go:349] ["[ddl] DDL closed"] [ID=ab3fa666-3c91-4fe7-b82b-951c55a8165b] ["take time"=102.768µs]
[2020/02/06 10:36:42.555 +08:00] [INFO] [ddl.go:282] ["[ddl] stop DDL"] [ID=ab3fa666-3c91-4fe7-b82b-951c55a8165b]
[2020/02/06 10:36:42.555 +08:00] [INFO] [domain.go:456] ["domain closed"] ["take time"=119.289µs]
[2020/02/06 10:36:42.555 +08:00] [INFO] [tidb.go:68] ["new domain"] [store=24873174-7f3c-46cf-8321-4a3a8a5208b8] ["ddl lease"=0s] ["stats lease"=-1ns]
[2020/02/06 10:36:42.555 +08:00] [INFO] [ddl.go:289] ["[ddl] start DDL"] [ID=e4be910c-1435-4231-ac6d-132cbd6a25ab]
[2020/02/06 10:36:42.555 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 7, tp general"]
[2020/02/06 10:36:42.555 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 8, tp add index"]
[2020/02/06 10:36:42.560 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=11] ["start time"=834.843µs]
[2020/02/06 10:36:42.560 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:42.562 +08:00] [INFO] [set.go:180] ["set session var"] [conn=2] [name=sql_mode] [val=STRICT_TRANS_TABLES]
[2020/02/06 10:36:42.562 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:24, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:23, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.562 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create table t(a int, b int, c int, index idx(c,b,a))"]
[2020/02/06 10:36:42.562 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 7, tp general"] [job="ID:24, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:23, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.562 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.563 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 7, tp general"] [job="ID:24, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:23, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.562 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.563 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=24]
[2020/02/06 10:36:42.563 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.563 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=11] [neededSchemaVersion=12] ["start time"=97.729µs] [tblIDs="[23]"]
[2020/02/06 10:36:42.580 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 7, tp general"] ["take time"=11.163µs]
[2020/02/06 10:36:42.580 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 8, tp add index"] ["take time"=4.585µs]
[2020/02/06 10:36:42.580 +08:00] [INFO] [session_pool.go:85] ["[ddl] closing sessionPool"]
[2020/02/06 10:36:42.580 +08:00] [INFO] [ddl.go:349] ["[ddl] DDL closed"] [ID=e4be910c-1435-4231-ac6d-132cbd6a25ab] ["take time"=74.454µs]
[2020/02/06 10:36:42.580 +08:00] [INFO] [ddl.go:282] ["[ddl] stop DDL"] [ID=e4be910c-1435-4231-ac6d-132cbd6a25ab]
[2020/02/06 10:36:42.580 +08:00] [INFO] [domain.go:456] ["domain closed"] ["take time"=87.367µs]
PASS: cbo_test.go:233: testAnalyzeSuite.TestCorrelatedEstimation	0.057s
[2020/02/06 10:36:42.581 +08:00] [INFO] [tidb.go:68] ["new domain"] [store=e69335f8-9ae7-4231-8123-aae9ed7d61fb] ["ddl lease"=0s] ["stats lease"=-1ns]
[2020/02/06 10:36:42.581 +08:00] [INFO] [ddl.go:289] ["[ddl] start DDL"] [ID=a98eca4f-8f92-4bd1-b55b-0bc545c0618f]
[2020/02/06 10:36:42.582 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 10, tp add index"]
[2020/02/06 10:36:42.582 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 9, tp general"]
[2020/02/06 10:36:42.582 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=0] ["start time"=56.018µs]
[2020/02/06 10:36:42.582 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:42.582 +08:00] [INFO] [tidb.go:171] ["rollbackTxn for ddl/autocommit failed"]
[2020/02/06 10:36:42.582 +08:00] [WARN] [session.go:736] ["run statement failed"] [schemaVersion=0] [error="[schema:1049]Unknown database 'mysql'"] [errorVerbose="[schema:1049]Unknown database 'mysql'\ngithub.com/pingcap/errors.AddStack\n\t/home/aliv/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20190809092503-95897b64e011/errors.go:174\ngithub.com/pingcap/tidb/parser/terror.(*Error).GenWithStackByArgs\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/terror/terror.go:240\ngithub.com/pingcap/tidb/executor.(*SimpleExec).executeUse\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/simple.go:66\ngithub.com/pingcap/tidb/executor.(*SimpleExec).Next\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/simple.go:49\ngithub.com/pingcap/tidb/executor.Next\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/executor.go:175\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelayExecutor\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:271\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelay\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:237\ngithub.com/pingcap/tidb/executor.(*ExecStmt).Exec\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:208\ngithub.com/pingcap/tidb/session.runStmt\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/tidb.go:219\ngithub.com/pingcap/tidb/session.(*session).executeStatement\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:733\ngithub.com/pingcap/tidb/session.(*session).execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:812\ngithub.com/pingcap/tidb/session.(*session).Execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:760\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:175\ngithub.com/pingcap/tidb/session.bootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:143\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:1021\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:982\ngithub.com/pingcap/tidb/planner/core_test.newStoreWithBootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/cbo_test.go:270\ngithub.com/pingcap/tidb/planner/core_test.(*testAnalyzeSuite).TestEmptyTable\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/cbo_test.go:113\nreflect.Value.call\n\t/usr/lib/go/src/reflect/value.go:460\nreflect.Value.Call\n\t/usr/lib/go/src/reflect/value.go:321\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:854\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:739\nruntime.goexit\n\t/usr/lib/go/src/runtime/asm_amd64.s:1357"] [session="{\n  \"currDBName\": \"\",\n  \"id\": 0,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": \"\"\n}"]
[2020/02/06 10:36:42.582 +08:00] [WARN] [session.go:803] ["compile SQL failed"] [error="[schema:1146]Table 'mysql.tidb' doesn't exist"] [errorVerbose="[schema:1146]Table 'mysql.tidb' doesn't exist\ngithub.com/pingcap/errors.AddStack\n\t/home/aliv/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20190809092503-95897b64e011/errors.go:174\ngithub.com/pingcap/tidb/parser/terror.(*Error).GenWithStackByArgs\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/terror/terror.go:240\ngithub.com/pingcap/tidb/infoschema.(*infoSchema).TableByName\n\t/home/aliv/go/src/github.com/pingcap/tinysql/infoschema/infoschema.go:171\ngithub.com/pingcap/tidb/planner/core.(*preprocessor).handleTableName\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:650\ngithub.com/pingcap/tidb/planner/core.(*preprocessor).Leave\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:133\ngithub.com/pingcap/tidb/parser/ast.(*TableName).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:294\ngithub.com/pingcap/tidb/parser/ast.(*TableSource).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:431\ngithub.com/pingcap/tidb/parser/ast.(*Join).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:142\ngithub.com/pingcap/tidb/parser/ast.(*TableRefsClause).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:612\ngithub.com/pingcap/tidb/parser/ast.(*SelectStmt).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:931\ngithub.com/pingcap/tidb/planner/core.Preprocess\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:48\ngithub.com/pingcap/tidb/executor.(*Compiler).Compile\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/compiler.go:34\ngithub.com/pingcap/tidb/session.(*session).execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:800\ngithub.com/pingcap/tidb/session.(*session).Execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:760\ngithub.com/pingcap/tidb/session.getTiDBVar\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:204\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:181\ngithub.com/pingcap/tidb/session.bootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:143\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:1021\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:982\ngithub.com/pingcap/tidb/planner/core_test.newStoreWithBootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/cbo_test.go:270\ngithub.com/pingcap/tidb/planner/core_test.(*testAnalyzeSuite).TestEmptyTable\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/cbo_test.go:113\nreflect.Value.call\n\t/usr/lib/go/src/reflect/value.go:460\nreflect.Value.Call\n\t/usr/lib/go/src/reflect/value.go:321\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:854\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:739\nruntime.goexit\n\t/usr/lib/go/src/runtime/asm_amd64.s:1357"] [SQL="SELECT HIGH_PRIORITY VARIABLE_VALUE FROM mysql.tidb WHERE VARIABLE_NAME=\"bootstrapped\""]
[2020/02/06 10:36:42.582 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:2, Type:create schema, State:none, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.582 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS test"]
[2020/02/06 10:36:42.582 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 9, tp general"] [job="ID:2, Type:create schema, State:none, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.582 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.582 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 9, tp general"] [job="ID:2, Type:create schema, State:synced, SchemaState:public, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.582 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.583 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=2]
[2020/02/06 10:36:42.583 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.583 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=1] ["start time"=100.932µs]
[2020/02/06 10:36:42.583 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:42.583 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:4, Type:create schema, State:none, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.583 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS mysql;"]
[2020/02/06 10:36:42.583 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 9, tp general"] [job="ID:4, Type:create schema, State:none, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.583 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.583 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 9, tp general"] [job="ID:4, Type:create schema, State:synced, SchemaState:public, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.583 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.583 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=4]
[2020/02/06 10:36:42.583 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.583 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=1] [neededSchemaVersion=2] ["start time"=33.483µs] [tblIDs="[]"]
[2020/02/06 10:36:42.584 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:6, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.584 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) Not Null PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT Null);"]
[2020/02/06 10:36:42.584 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 9, tp general"] [job="ID:6, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.584 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.584 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 9, tp general"] [job="ID:6, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.584 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.584 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=6]
[2020/02/06 10:36:42.585 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.585 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=2] [neededSchemaVersion=3] ["start time"=71.496µs] [tblIDs="[5]"]
[2020/02/06 10:36:42.585 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:8, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.585 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.tidb(\n\t\tVARIABLE_NAME  VARCHAR(64) Not Null PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT Null,\n\t\tCOMMENT VARCHAR(1024));"]
[2020/02/06 10:36:42.585 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 9, tp general"] [job="ID:8, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.585 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.585 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 9, tp general"] [job="ID:8, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.585 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.586 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=8]
[2020/02/06 10:36:42.586 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.586 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=3] [neededSchemaVersion=4] ["start time"=81.008µs] [tblIDs="[7]"]
[2020/02/06 10:36:42.586 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:10, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.586 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.help_topic (\n  \t\thelp_topic_id int(10) unsigned NOT NULL,\n  \t\tname char(64) NOT NULL,\n  \t\thelp_category_id smallint(5) unsigned NOT NULL,\n  \t\tdescription text NOT NULL,\n  \t\texample text NOT NULL,\n  \t\turl text NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id),\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"]
[2020/02/06 10:36:42.586 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 9, tp general"] [job="ID:10, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.586 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.587 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 9, tp general"] [job="ID:10, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.586 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.587 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=10]
[2020/02/06 10:36:42.587 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.587 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=4] [neededSchemaVersion=5] ["start time"=107.44µs] [tblIDs="[9]"]
[2020/02/06 10:36:42.588 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:12, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.587 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_meta (\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tcount bigint(64) unsigned NOT NULL DEFAULT 0,\n\t\tindex idx_ver(version),\n\t\tunique index tbl(table_id)\n\t);"]
[2020/02/06 10:36:42.588 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 9, tp general"] [job="ID:12, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.587 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.588 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 9, tp general"] [job="ID:12, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.587 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.589 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=12]
[2020/02/06 10:36:42.589 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.589 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=5] [neededSchemaVersion=6] ["start time"=99.226µs] [tblIDs="[11]"]
[2020/02/06 10:36:42.589 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:14, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.589 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_histograms (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tdistinct_count bigint(64) NOT NULL,\n\t\tnull_count bigint(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size bigint(64) NOT NULL DEFAULT 0,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tversion bigint(64) unsigned NOT NULL DEFAULT 0,\n\t\tcm_sketch blob,\n\t\tstats_ver bigint(64) NOT NULL DEFAULT 0,\n\t\tflag bigint(64) NOT NULL DEFAULT 0,\n\t\tcorrelation double NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos blob DEFAULT NULL,\n\t\tunique index tbl(table_id, is_index, hist_id)\n\t);"]
[2020/02/06 10:36:42.589 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 9, tp general"] [job="ID:14, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.589 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.591 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 9, tp general"] [job="ID:14, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.589 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.591 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=14]
[2020/02/06 10:36:42.591 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.591 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=6] [neededSchemaVersion=7] ["start time"=154.731µs] [tblIDs="[13]"]
[2020/02/06 10:36:42.592 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:16, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.592 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_buckets (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tbucket_id bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\trepeats bigint(64) NOT NULL,\n\t\tupper_bound blob NOT NULL,\n\t\tlower_bound blob ,\n\t\tunique index tbl(table_id, is_index, hist_id, bucket_id)\n\t);"]
[2020/02/06 10:36:42.592 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 9, tp general"] [job="ID:16, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.592 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.593 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 9, tp general"] [job="ID:16, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.592 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.593 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=16]
[2020/02/06 10:36:42.593 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.593 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=7] [neededSchemaVersion=8] ["start time"=124.159µs] [tblIDs="[15]"]
[2020/02/06 10:36:42.594 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:18, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.593 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id BIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id BIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts BIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"]
[2020/02/06 10:36:42.594 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 9, tp general"] [job="ID:18, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.593 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.594 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 9, tp general"] [job="ID:18, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.593 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.595 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=18]
[2020/02/06 10:36:42.595 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.595 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=8] [neededSchemaVersion=9] ["start time"=102.079µs] [tblIDs="[17]"]
[2020/02/06 10:36:42.595 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:20, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.595 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id BIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id BIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts BIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"]
[2020/02/06 10:36:42.595 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 9, tp general"] [job="ID:20, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.595 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.596 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 9, tp general"] [job="ID:20, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.595 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.596 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=20]
[2020/02/06 10:36:42.596 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.596 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=9] [neededSchemaVersion=10] ["start time"=100.585µs] [tblIDs="[19]"]
[2020/02/06 10:36:42.597 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:22, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.596 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_top_n (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tvalue longblob,\n\t\tcount bigint(64) UNSIGNED NOT NULL,\n\t\tindex tbl(table_id, is_index, hist_id)\n\t);"]
[2020/02/06 10:36:42.597 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 9, tp general"] [job="ID:22, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.596 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.597 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 9, tp general"] [job="ID:22, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.596 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.598 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=22]
[2020/02/06 10:36:42.598 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.598 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=10] [neededSchemaVersion=11] ["start time"=97.99µs] [tblIDs="[21]"]
[2020/02/06 10:36:42.611 +08:00] [INFO] [bootstrap.go:153] ["bootstrap successful"] ["take time"=29.176372ms]
[2020/02/06 10:36:42.611 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 9, tp general"] ["take time"=3.552µs]
[2020/02/06 10:36:42.611 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 10, tp add index"] ["take time"=5.712µs]
[2020/02/06 10:36:42.611 +08:00] [INFO] [session_pool.go:85] ["[ddl] closing sessionPool"]
[2020/02/06 10:36:42.611 +08:00] [INFO] [ddl.go:349] ["[ddl] DDL closed"] [ID=a98eca4f-8f92-4bd1-b55b-0bc545c0618f] ["take time"=39.597µs]
[2020/02/06 10:36:42.611 +08:00] [INFO] [ddl.go:282] ["[ddl] stop DDL"] [ID=a98eca4f-8f92-4bd1-b55b-0bc545c0618f]
[2020/02/06 10:36:42.611 +08:00] [INFO] [domain.go:456] ["domain closed"] ["take time"=52.095µs]
[2020/02/06 10:36:42.611 +08:00] [INFO] [tidb.go:68] ["new domain"] [store=e69335f8-9ae7-4231-8123-aae9ed7d61fb] ["ddl lease"=0s] ["stats lease"=-1ns]
[2020/02/06 10:36:42.611 +08:00] [INFO] [ddl.go:289] ["[ddl] start DDL"] [ID=90dbb357-f10a-4dea-a771-44b53e3a420b]
[2020/02/06 10:36:42.611 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 11, tp general"]
[2020/02/06 10:36:42.611 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 12, tp add index"]
[2020/02/06 10:36:42.615 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=11] ["start time"=3.54496ms]
[2020/02/06 10:36:42.615 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:42.617 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:24, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:23, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.617 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create table t (c1 int)"]
[2020/02/06 10:36:42.617 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 11, tp general"] [job="ID:24, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:23, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.617 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.618 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 11, tp general"] [job="ID:24, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:23, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.617 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.618 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=24]
[2020/02/06 10:36:42.618 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.618 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=11] [neededSchemaVersion=12] ["start time"=57.445µs] [tblIDs="[23]"]
[2020/02/06 10:36:42.619 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:26, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:25, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.618 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create table t1 (c1 int)"]
[2020/02/06 10:36:42.619 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 11, tp general"] [job="ID:26, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:25, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.618 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.619 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 11, tp general"] [job="ID:26, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:25, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.618 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.619 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=26]
[2020/02/06 10:36:42.619 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.619 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=12] [neededSchemaVersion=13] ["start time"=59.27µs] [tblIDs="[25]"]
[2020/02/06 10:36:42.625 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 11, tp general"] ["take time"=8.294µs]
[2020/02/06 10:36:42.625 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 12, tp add index"] ["take time"=2.156µs]
[2020/02/06 10:36:42.625 +08:00] [INFO] [session_pool.go:85] ["[ddl] closing sessionPool"]
[2020/02/06 10:36:42.625 +08:00] [INFO] [ddl.go:349] ["[ddl] DDL closed"] [ID=90dbb357-f10a-4dea-a771-44b53e3a420b] ["take time"=58.612µs]
[2020/02/06 10:36:42.625 +08:00] [INFO] [ddl.go:282] ["[ddl] stop DDL"] [ID=90dbb357-f10a-4dea-a771-44b53e3a420b]
[2020/02/06 10:36:42.625 +08:00] [INFO] [domain.go:456] ["domain closed"] ["take time"=72.52µs]
PASS: cbo_test.go:111: testAnalyzeSuite.TestEmptyTable	0.045s
[2020/02/06 10:36:42.627 +08:00] [INFO] [tidb.go:68] ["new domain"] [store=7f26323a-8c38-45d4-903c-32277d6f22e7] ["ddl lease"=0s] ["stats lease"=-1ns]
[2020/02/06 10:36:42.627 +08:00] [INFO] [ddl.go:289] ["[ddl] start DDL"] [ID=55723f42-ed51-48d0-b5a7-1cc7e37f6ec9]
[2020/02/06 10:36:42.627 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 13, tp general"]
[2020/02/06 10:36:42.627 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 14, tp add index"]
[2020/02/06 10:36:42.627 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=0] ["start time"=151.184µs]
[2020/02/06 10:36:42.627 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:42.627 +08:00] [INFO] [tidb.go:171] ["rollbackTxn for ddl/autocommit failed"]
[2020/02/06 10:36:42.627 +08:00] [WARN] [session.go:736] ["run statement failed"] [schemaVersion=0] [error="[schema:1049]Unknown database 'mysql'"] [errorVerbose="[schema:1049]Unknown database 'mysql'\ngithub.com/pingcap/errors.AddStack\n\t/home/aliv/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20190809092503-95897b64e011/errors.go:174\ngithub.com/pingcap/tidb/parser/terror.(*Error).GenWithStackByArgs\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/terror/terror.go:240\ngithub.com/pingcap/tidb/executor.(*SimpleExec).executeUse\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/simple.go:66\ngithub.com/pingcap/tidb/executor.(*SimpleExec).Next\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/simple.go:49\ngithub.com/pingcap/tidb/executor.Next\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/executor.go:175\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelayExecutor\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:271\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelay\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:237\ngithub.com/pingcap/tidb/executor.(*ExecStmt).Exec\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:208\ngithub.com/pingcap/tidb/session.runStmt\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/tidb.go:219\ngithub.com/pingcap/tidb/session.(*session).executeStatement\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:733\ngithub.com/pingcap/tidb/session.(*session).execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:812\ngithub.com/pingcap/tidb/session.(*session).Execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:760\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:175\ngithub.com/pingcap/tidb/session.bootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:143\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:1021\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:982\ngithub.com/pingcap/tidb/planner/core_test.newStoreWithBootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/cbo_test.go:270\ngithub.com/pingcap/tidb/planner/core_test.(*testAnalyzeSuite).TestIssue9562\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/cbo_test.go:403\nreflect.Value.call\n\t/usr/lib/go/src/reflect/value.go:460\nreflect.Value.Call\n\t/usr/lib/go/src/reflect/value.go:321\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:854\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:739\nruntime.goexit\n\t/usr/lib/go/src/runtime/asm_amd64.s:1357"] [session="{\n  \"currDBName\": \"\",\n  \"id\": 0,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": \"\"\n}"]
[2020/02/06 10:36:42.627 +08:00] [WARN] [session.go:803] ["compile SQL failed"] [error="[schema:1146]Table 'mysql.tidb' doesn't exist"] [errorVerbose="[schema:1146]Table 'mysql.tidb' doesn't exist\ngithub.com/pingcap/errors.AddStack\n\t/home/aliv/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20190809092503-95897b64e011/errors.go:174\ngithub.com/pingcap/tidb/parser/terror.(*Error).GenWithStackByArgs\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/terror/terror.go:240\ngithub.com/pingcap/tidb/infoschema.(*infoSchema).TableByName\n\t/home/aliv/go/src/github.com/pingcap/tinysql/infoschema/infoschema.go:171\ngithub.com/pingcap/tidb/planner/core.(*preprocessor).handleTableName\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:650\ngithub.com/pingcap/tidb/planner/core.(*preprocessor).Leave\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:133\ngithub.com/pingcap/tidb/parser/ast.(*TableName).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:294\ngithub.com/pingcap/tidb/parser/ast.(*TableSource).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:431\ngithub.com/pingcap/tidb/parser/ast.(*Join).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:142\ngithub.com/pingcap/tidb/parser/ast.(*TableRefsClause).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:612\ngithub.com/pingcap/tidb/parser/ast.(*SelectStmt).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:931\ngithub.com/pingcap/tidb/planner/core.Preprocess\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:48\ngithub.com/pingcap/tidb/executor.(*Compiler).Compile\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/compiler.go:34\ngithub.com/pingcap/tidb/session.(*session).execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:800\ngithub.com/pingcap/tidb/session.(*session).Execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:760\ngithub.com/pingcap/tidb/session.getTiDBVar\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:204\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:181\ngithub.com/pingcap/tidb/session.bootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:143\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:1021\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:982\ngithub.com/pingcap/tidb/planner/core_test.newStoreWithBootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/cbo_test.go:270\ngithub.com/pingcap/tidb/planner/core_test.(*testAnalyzeSuite).TestIssue9562\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/cbo_test.go:403\nreflect.Value.call\n\t/usr/lib/go/src/reflect/value.go:460\nreflect.Value.Call\n\t/usr/lib/go/src/reflect/value.go:321\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:854\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:739\nruntime.goexit\n\t/usr/lib/go/src/runtime/asm_amd64.s:1357"] [SQL="SELECT HIGH_PRIORITY VARIABLE_VALUE FROM mysql.tidb WHERE VARIABLE_NAME=\"bootstrapped\""]
[2020/02/06 10:36:42.628 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:2, Type:create schema, State:none, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.628 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS test"]
[2020/02/06 10:36:42.628 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:2, Type:create schema, State:none, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.628 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.628 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 13, tp general"] [job="ID:2, Type:create schema, State:synced, SchemaState:public, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.628 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.628 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=2]
[2020/02/06 10:36:42.628 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.628 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=1] ["start time"=92.686µs]
[2020/02/06 10:36:42.628 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:42.629 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:4, Type:create schema, State:none, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.628 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS mysql;"]
[2020/02/06 10:36:42.629 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:4, Type:create schema, State:none, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.628 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.629 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 13, tp general"] [job="ID:4, Type:create schema, State:synced, SchemaState:public, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.628 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.629 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=4]
[2020/02/06 10:36:42.629 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.629 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=1] [neededSchemaVersion=2] ["start time"=30.244µs] [tblIDs="[]"]
[2020/02/06 10:36:42.629 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:6, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.629 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) Not Null PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT Null);"]
[2020/02/06 10:36:42.629 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:6, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.629 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.630 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 13, tp general"] [job="ID:6, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.629 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.630 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=6]
[2020/02/06 10:36:42.630 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.630 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=2] [neededSchemaVersion=3] ["start time"=85.672µs] [tblIDs="[5]"]
[2020/02/06 10:36:42.630 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:8, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.63 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.tidb(\n\t\tVARIABLE_NAME  VARCHAR(64) Not Null PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT Null,\n\t\tCOMMENT VARCHAR(1024));"]
[2020/02/06 10:36:42.631 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:8, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.63 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.631 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 13, tp general"] [job="ID:8, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.63 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.631 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=8]
[2020/02/06 10:36:42.631 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.631 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=3] [neededSchemaVersion=4] ["start time"=100.85µs] [tblIDs="[7]"]
[2020/02/06 10:36:42.632 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:10, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.632 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.help_topic (\n  \t\thelp_topic_id int(10) unsigned NOT NULL,\n  \t\tname char(64) NOT NULL,\n  \t\thelp_category_id smallint(5) unsigned NOT NULL,\n  \t\tdescription text NOT NULL,\n  \t\texample text NOT NULL,\n  \t\turl text NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id),\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"]
[2020/02/06 10:36:42.632 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:10, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.632 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.632 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 13, tp general"] [job="ID:10, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.632 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.633 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=10]
[2020/02/06 10:36:42.633 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.633 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=4] [neededSchemaVersion=5] ["start time"=98.923µs] [tblIDs="[9]"]
[2020/02/06 10:36:42.633 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:12, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.633 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_meta (\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tcount bigint(64) unsigned NOT NULL DEFAULT 0,\n\t\tindex idx_ver(version),\n\t\tunique index tbl(table_id)\n\t);"]
[2020/02/06 10:36:42.633 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:12, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.633 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.634 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 13, tp general"] [job="ID:12, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.633 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.634 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=12]
[2020/02/06 10:36:42.634 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.634 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=5] [neededSchemaVersion=6] ["start time"=96.818µs] [tblIDs="[11]"]
[2020/02/06 10:36:42.635 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:14, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.634 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_histograms (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tdistinct_count bigint(64) NOT NULL,\n\t\tnull_count bigint(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size bigint(64) NOT NULL DEFAULT 0,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tversion bigint(64) unsigned NOT NULL DEFAULT 0,\n\t\tcm_sketch blob,\n\t\tstats_ver bigint(64) NOT NULL DEFAULT 0,\n\t\tflag bigint(64) NOT NULL DEFAULT 0,\n\t\tcorrelation double NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos blob DEFAULT NULL,\n\t\tunique index tbl(table_id, is_index, hist_id)\n\t);"]
[2020/02/06 10:36:42.635 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:14, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.634 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.636 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 13, tp general"] [job="ID:14, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.634 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.636 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=14]
[2020/02/06 10:36:42.636 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.636 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=6] [neededSchemaVersion=7] ["start time"=153.97µs] [tblIDs="[13]"]
[2020/02/06 10:36:42.637 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:16, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.636 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_buckets (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tbucket_id bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\trepeats bigint(64) NOT NULL,\n\t\tupper_bound blob NOT NULL,\n\t\tlower_bound blob ,\n\t\tunique index tbl(table_id, is_index, hist_id, bucket_id)\n\t);"]
[2020/02/06 10:36:42.637 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:16, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.636 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.638 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 13, tp general"] [job="ID:16, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.636 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.638 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=16]
[2020/02/06 10:36:42.638 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.638 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=7] [neededSchemaVersion=8] ["start time"=140.466µs] [tblIDs="[15]"]
[2020/02/06 10:36:42.638 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:18, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.638 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id BIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id BIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts BIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"]
[2020/02/06 10:36:42.639 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:18, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.638 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.639 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 13, tp general"] [job="ID:18, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.638 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.640 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=18]
[2020/02/06 10:36:42.640 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.640 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=8] [neededSchemaVersion=9] ["start time"=100.569µs] [tblIDs="[17]"]
[2020/02/06 10:36:42.640 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:20, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.64 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id BIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id BIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts BIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"]
[2020/02/06 10:36:42.640 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:20, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.64 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.641 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 13, tp general"] [job="ID:20, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.64 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.641 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=20]
[2020/02/06 10:36:42.641 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.641 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=9] [neededSchemaVersion=10] ["start time"=103.367µs] [tblIDs="[19]"]
[2020/02/06 10:36:42.642 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:22, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.641 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_top_n (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tvalue longblob,\n\t\tcount bigint(64) UNSIGNED NOT NULL,\n\t\tindex tbl(table_id, is_index, hist_id)\n\t);"]
[2020/02/06 10:36:42.642 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:22, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.641 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.643 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 13, tp general"] [job="ID:22, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.641 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.643 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=22]
[2020/02/06 10:36:42.643 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.643 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=10] [neededSchemaVersion=11] ["start time"=102.296µs] [tblIDs="[21]"]
[2020/02/06 10:36:42.655 +08:00] [INFO] [bootstrap.go:153] ["bootstrap successful"] ["take time"=28.033677ms]
[2020/02/06 10:36:42.655 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 13, tp general"] ["take time"=3.507µs]
[2020/02/06 10:36:42.655 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 14, tp add index"] ["take time"=1.777µs]
[2020/02/06 10:36:42.655 +08:00] [INFO] [session_pool.go:85] ["[ddl] closing sessionPool"]
[2020/02/06 10:36:42.655 +08:00] [INFO] [ddl.go:349] ["[ddl] DDL closed"] [ID=55723f42-ed51-48d0-b5a7-1cc7e37f6ec9] ["take time"=29.966µs]
[2020/02/06 10:36:42.655 +08:00] [INFO] [ddl.go:282] ["[ddl] stop DDL"] [ID=55723f42-ed51-48d0-b5a7-1cc7e37f6ec9]
[2020/02/06 10:36:42.655 +08:00] [INFO] [domain.go:456] ["domain closed"] ["take time"=42.465µs]
[2020/02/06 10:36:42.655 +08:00] [INFO] [tidb.go:68] ["new domain"] [store=7f26323a-8c38-45d4-903c-32277d6f22e7] ["ddl lease"=0s] ["stats lease"=-1ns]
[2020/02/06 10:36:42.655 +08:00] [INFO] [ddl.go:289] ["[ddl] start DDL"] [ID=570c973c-06de-45b4-92eb-443c3fa8feda]
[2020/02/06 10:36:42.655 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 15, tp general"]
[2020/02/06 10:36:42.655 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 16, tp add index"]
[2020/02/06 10:36:42.660 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=11] ["start time"=3.465214ms]
[2020/02/06 10:36:42.660 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:42.662 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:24, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:23, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.661 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create table t1(a bigint, b bigint, c bigint)"]
[2020/02/06 10:36:42.662 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 15, tp general"] [job="ID:24, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:23, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.661 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.662 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 15, tp general"] [job="ID:24, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:23, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.661 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.662 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=24]
[2020/02/06 10:36:42.662 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.663 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=11] [neededSchemaVersion=12] ["start time"=63.125µs] [tblIDs="[23]"]
[2020/02/06 10:36:42.663 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:26, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:25, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.663 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create table t2(a bigint, b bigint, c bigint, index idx(a, b, c))"]
[2020/02/06 10:36:42.663 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 15, tp general"] [job="ID:26, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:25, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.663 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.664 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 15, tp general"] [job="ID:26, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:25, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.663 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.664 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=26]
[2020/02/06 10:36:42.664 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.664 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=12] [neededSchemaVersion=13] ["start time"=72.46µs] [tblIDs="[25]"]
[2020/02/06 10:36:42.664 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:28, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:27, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.664 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create table t(a int, b int, index idx_ab(a, b))"]
[2020/02/06 10:36:42.665 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 15, tp general"] [job="ID:28, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:27, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.664 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.665 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 15, tp general"] [job="ID:28, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:27, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.664 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.665 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=28]
[2020/02/06 10:36:42.665 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.665 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=13] [neededSchemaVersion=14] ["start time"=66.485µs] [tblIDs="[27]"]
[2020/02/06 10:36:42.666 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 15, tp general"] ["take time"=5.993µs]
[2020/02/06 10:36:42.666 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 16, tp add index"] ["take time"=1.979µs]
[2020/02/06 10:36:42.666 +08:00] [INFO] [session_pool.go:85] ["[ddl] closing sessionPool"]
[2020/02/06 10:36:42.666 +08:00] [INFO] [ddl.go:349] ["[ddl] DDL closed"] [ID=570c973c-06de-45b4-92eb-443c3fa8feda] ["take time"=35.395µs]
[2020/02/06 10:36:42.666 +08:00] [INFO] [ddl.go:282] ["[ddl] stop DDL"] [ID=570c973c-06de-45b4-92eb-443c3fa8feda]
[2020/02/06 10:36:42.666 +08:00] [INFO] [domain.go:456] ["domain closed"] ["take time"=46.029µs]
PASS: cbo_test.go:401: testAnalyzeSuite.TestIssue9562	0.040s
[2020/02/06 10:36:42.667 +08:00] [INFO] [tidb.go:68] ["new domain"] [store=2a399d4a-e548-450d-a2aa-fde2271409d6] ["ddl lease"=0s] ["stats lease"=-1ns]
[2020/02/06 10:36:42.667 +08:00] [INFO] [ddl.go:289] ["[ddl] start DDL"] [ID=ca6fe6c8-940b-473a-9efd-ca7eba845e8c]
[2020/02/06 10:36:42.667 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 17, tp general"]
[2020/02/06 10:36:42.667 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 18, tp add index"]
[2020/02/06 10:36:42.667 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=0] ["start time"=65.507µs]
[2020/02/06 10:36:42.667 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:42.667 +08:00] [INFO] [tidb.go:171] ["rollbackTxn for ddl/autocommit failed"]
[2020/02/06 10:36:42.667 +08:00] [WARN] [session.go:736] ["run statement failed"] [schemaVersion=0] [error="[schema:1049]Unknown database 'mysql'"] [errorVerbose="[schema:1049]Unknown database 'mysql'\ngithub.com/pingcap/errors.AddStack\n\t/home/aliv/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20190809092503-95897b64e011/errors.go:174\ngithub.com/pingcap/tidb/parser/terror.(*Error).GenWithStackByArgs\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/terror/terror.go:240\ngithub.com/pingcap/tidb/executor.(*SimpleExec).executeUse\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/simple.go:66\ngithub.com/pingcap/tidb/executor.(*SimpleExec).Next\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/simple.go:49\ngithub.com/pingcap/tidb/executor.Next\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/executor.go:175\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelayExecutor\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:271\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelay\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:237\ngithub.com/pingcap/tidb/executor.(*ExecStmt).Exec\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:208\ngithub.com/pingcap/tidb/session.runStmt\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/tidb.go:219\ngithub.com/pingcap/tidb/session.(*session).executeStatement\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:733\ngithub.com/pingcap/tidb/session.(*session).execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:812\ngithub.com/pingcap/tidb/session.(*session).Execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:760\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:175\ngithub.com/pingcap/tidb/session.bootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:143\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:1021\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:982\ngithub.com/pingcap/tidb/planner/core_test.newStoreWithBootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/cbo_test.go:270\ngithub.com/pingcap/tidb/planner/core_test.(*testAnalyzeSuite).TestNullCount\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/cbo_test.go:201\nreflect.Value.call\n\t/usr/lib/go/src/reflect/value.go:460\nreflect.Value.Call\n\t/usr/lib/go/src/reflect/value.go:321\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:854\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:739\nruntime.goexit\n\t/usr/lib/go/src/runtime/asm_amd64.s:1357"] [session="{\n  \"currDBName\": \"\",\n  \"id\": 0,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": \"\"\n}"]
[2020/02/06 10:36:42.667 +08:00] [WARN] [session.go:803] ["compile SQL failed"] [error="[schema:1146]Table 'mysql.tidb' doesn't exist"] [errorVerbose="[schema:1146]Table 'mysql.tidb' doesn't exist\ngithub.com/pingcap/errors.AddStack\n\t/home/aliv/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20190809092503-95897b64e011/errors.go:174\ngithub.com/pingcap/tidb/parser/terror.(*Error).GenWithStackByArgs\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/terror/terror.go:240\ngithub.com/pingcap/tidb/infoschema.(*infoSchema).TableByName\n\t/home/aliv/go/src/github.com/pingcap/tinysql/infoschema/infoschema.go:171\ngithub.com/pingcap/tidb/planner/core.(*preprocessor).handleTableName\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:650\ngithub.com/pingcap/tidb/planner/core.(*preprocessor).Leave\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:133\ngithub.com/pingcap/tidb/parser/ast.(*TableName).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:294\ngithub.com/pingcap/tidb/parser/ast.(*TableSource).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:431\ngithub.com/pingcap/tidb/parser/ast.(*Join).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:142\ngithub.com/pingcap/tidb/parser/ast.(*TableRefsClause).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:612\ngithub.com/pingcap/tidb/parser/ast.(*SelectStmt).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:931\ngithub.com/pingcap/tidb/planner/core.Preprocess\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:48\ngithub.com/pingcap/tidb/executor.(*Compiler).Compile\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/compiler.go:34\ngithub.com/pingcap/tidb/session.(*session).execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:800\ngithub.com/pingcap/tidb/session.(*session).Execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:760\ngithub.com/pingcap/tidb/session.getTiDBVar\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:204\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:181\ngithub.com/pingcap/tidb/session.bootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:143\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:1021\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:982\ngithub.com/pingcap/tidb/planner/core_test.newStoreWithBootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/cbo_test.go:270\ngithub.com/pingcap/tidb/planner/core_test.(*testAnalyzeSuite).TestNullCount\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/cbo_test.go:201\nreflect.Value.call\n\t/usr/lib/go/src/reflect/value.go:460\nreflect.Value.Call\n\t/usr/lib/go/src/reflect/value.go:321\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:854\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:739\nruntime.goexit\n\t/usr/lib/go/src/runtime/asm_amd64.s:1357"] [SQL="SELECT HIGH_PRIORITY VARIABLE_VALUE FROM mysql.tidb WHERE VARIABLE_NAME=\"bootstrapped\""]
[2020/02/06 10:36:42.667 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:2, Type:create schema, State:none, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.667 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS test"]
[2020/02/06 10:36:42.668 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 17, tp general"] [job="ID:2, Type:create schema, State:none, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.667 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.668 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 17, tp general"] [job="ID:2, Type:create schema, State:synced, SchemaState:public, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.667 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.668 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=2]
[2020/02/06 10:36:42.668 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.668 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=1] ["start time"=95.971µs]
[2020/02/06 10:36:42.668 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:42.668 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:4, Type:create schema, State:none, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.668 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS mysql;"]
[2020/02/06 10:36:42.668 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 17, tp general"] [job="ID:4, Type:create schema, State:none, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.668 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.669 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 17, tp general"] [job="ID:4, Type:create schema, State:synced, SchemaState:public, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.668 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.669 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=4]
[2020/02/06 10:36:42.669 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.669 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=1] [neededSchemaVersion=2] ["start time"=49.794µs] [tblIDs="[]"]
[2020/02/06 10:36:42.669 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:6, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.669 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) Not Null PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT Null);"]
[2020/02/06 10:36:42.669 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 17, tp general"] [job="ID:6, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.669 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.670 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 17, tp general"] [job="ID:6, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.669 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.670 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=6]
[2020/02/06 10:36:42.670 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.670 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=2] [neededSchemaVersion=3] ["start time"=89.291µs] [tblIDs="[5]"]
[2020/02/06 10:36:42.671 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:8, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.67 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.tidb(\n\t\tVARIABLE_NAME  VARCHAR(64) Not Null PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT Null,\n\t\tCOMMENT VARCHAR(1024));"]
[2020/02/06 10:36:42.671 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 17, tp general"] [job="ID:8, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.67 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.673 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 17, tp general"] [job="ID:8, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.67 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.673 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=8]
[2020/02/06 10:36:42.673 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.673 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=3] [neededSchemaVersion=4] ["start time"=102.175µs] [tblIDs="[7]"]
[2020/02/06 10:36:42.673 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:10, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.673 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.help_topic (\n  \t\thelp_topic_id int(10) unsigned NOT NULL,\n  \t\tname char(64) NOT NULL,\n  \t\thelp_category_id smallint(5) unsigned NOT NULL,\n  \t\tdescription text NOT NULL,\n  \t\texample text NOT NULL,\n  \t\turl text NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id),\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"]
[2020/02/06 10:36:42.673 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 17, tp general"] [job="ID:10, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.673 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.674 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 17, tp general"] [job="ID:10, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.673 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.674 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=10]
[2020/02/06 10:36:42.674 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.674 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=4] [neededSchemaVersion=5] ["start time"=99.442µs] [tblIDs="[9]"]
[2020/02/06 10:36:42.675 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:12, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.675 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_meta (\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tcount bigint(64) unsigned NOT NULL DEFAULT 0,\n\t\tindex idx_ver(version),\n\t\tunique index tbl(table_id)\n\t);"]
[2020/02/06 10:36:42.675 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 17, tp general"] [job="ID:12, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.675 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.676 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 17, tp general"] [job="ID:12, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.675 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.676 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=12]
[2020/02/06 10:36:42.676 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.676 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=5] [neededSchemaVersion=6] ["start time"=97.053µs] [tblIDs="[11]"]
[2020/02/06 10:36:42.676 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:14, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.676 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_histograms (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tdistinct_count bigint(64) NOT NULL,\n\t\tnull_count bigint(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size bigint(64) NOT NULL DEFAULT 0,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tversion bigint(64) unsigned NOT NULL DEFAULT 0,\n\t\tcm_sketch blob,\n\t\tstats_ver bigint(64) NOT NULL DEFAULT 0,\n\t\tflag bigint(64) NOT NULL DEFAULT 0,\n\t\tcorrelation double NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos blob DEFAULT NULL,\n\t\tunique index tbl(table_id, is_index, hist_id)\n\t);"]
[2020/02/06 10:36:42.677 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 17, tp general"] [job="ID:14, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.676 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.678 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 17, tp general"] [job="ID:14, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.676 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.678 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=14]
[2020/02/06 10:36:42.678 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.678 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=6] [neededSchemaVersion=7] ["start time"=155.855µs] [tblIDs="[13]"]
[2020/02/06 10:36:42.679 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:16, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.678 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_buckets (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tbucket_id bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\trepeats bigint(64) NOT NULL,\n\t\tupper_bound blob NOT NULL,\n\t\tlower_bound blob ,\n\t\tunique index tbl(table_id, is_index, hist_id, bucket_id)\n\t);"]
[2020/02/06 10:36:42.679 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 17, tp general"] [job="ID:16, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.678 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.680 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 17, tp general"] [job="ID:16, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.678 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.680 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=16]
[2020/02/06 10:36:42.680 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.680 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=7] [neededSchemaVersion=8] ["start time"=125.376µs] [tblIDs="[15]"]
[2020/02/06 10:36:42.680 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:18, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.68 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id BIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id BIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts BIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"]
[2020/02/06 10:36:42.681 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 17, tp general"] [job="ID:18, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.68 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.681 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 17, tp general"] [job="ID:18, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.68 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.682 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=18]
[2020/02/06 10:36:42.682 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.682 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=8] [neededSchemaVersion=9] ["start time"=103.02µs] [tblIDs="[17]"]
[2020/02/06 10:36:42.682 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:20, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.682 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id BIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id BIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts BIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"]
[2020/02/06 10:36:42.682 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 17, tp general"] [job="ID:20, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.682 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.683 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 17, tp general"] [job="ID:20, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.682 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.683 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=20]
[2020/02/06 10:36:42.683 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.683 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=9] [neededSchemaVersion=10] ["start time"=95.487µs] [tblIDs="[19]"]
[2020/02/06 10:36:42.684 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:22, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.683 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_top_n (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tvalue longblob,\n\t\tcount bigint(64) UNSIGNED NOT NULL,\n\t\tindex tbl(table_id, is_index, hist_id)\n\t);"]
[2020/02/06 10:36:42.684 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 17, tp general"] [job="ID:22, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.683 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.684 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 17, tp general"] [job="ID:22, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.683 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.685 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=22]
[2020/02/06 10:36:42.685 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.685 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=10] [neededSchemaVersion=11] ["start time"=124.615µs] [tblIDs="[21]"]
[2020/02/06 10:36:42.699 +08:00] [INFO] [bootstrap.go:153] ["bootstrap successful"] ["take time"=31.803697ms]
[2020/02/06 10:36:42.699 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 17, tp general"] ["take time"=5.061µs]
[2020/02/06 10:36:42.699 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 18, tp add index"] ["take time"=2.645µs]
[2020/02/06 10:36:42.699 +08:00] [INFO] [session_pool.go:85] ["[ddl] closing sessionPool"]
[2020/02/06 10:36:42.699 +08:00] [INFO] [ddl.go:349] ["[ddl] DDL closed"] [ID=ca6fe6c8-940b-473a-9efd-ca7eba845e8c] ["take time"=45.34µs]
[2020/02/06 10:36:42.699 +08:00] [INFO] [ddl.go:282] ["[ddl] stop DDL"] [ID=ca6fe6c8-940b-473a-9efd-ca7eba845e8c]
[2020/02/06 10:36:42.699 +08:00] [INFO] [domain.go:456] ["domain closed"] ["take time"=65.376µs]
[2020/02/06 10:36:42.699 +08:00] [INFO] [tidb.go:68] ["new domain"] [store=2a399d4a-e548-450d-a2aa-fde2271409d6] ["ddl lease"=0s] ["stats lease"=-1ns]
[2020/02/06 10:36:42.699 +08:00] [INFO] [ddl.go:289] ["[ddl] start DDL"] [ID=63e205d4-66cd-4abd-9468-1d63e1a95606]
[2020/02/06 10:36:42.699 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 20, tp add index"]
[2020/02/06 10:36:42.699 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 19, tp general"]
[2020/02/06 10:36:42.704 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=11] ["start time"=3.394131ms]
[2020/02/06 10:36:42.704 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:42.706 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:24, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:23, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.705 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create table t (a int, b int, index idx(a))"]
[2020/02/06 10:36:42.706 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 19, tp general"] [job="ID:24, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:23, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.705 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.706 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 19, tp general"] [job="ID:24, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:23, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.705 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.707 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=24]
[2020/02/06 10:36:42.707 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.707 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=11] [neededSchemaVersion=12] ["start time"=63.49µs] [tblIDs="[23]"]
[2020/02/06 10:36:42.717 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 19, tp general"] ["take time"=5.868µs]
[2020/02/06 10:36:42.717 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 20, tp add index"] ["take time"=156.28µs]
[2020/02/06 10:36:42.717 +08:00] [INFO] [session_pool.go:85] ["[ddl] closing sessionPool"]
[2020/02/06 10:36:42.718 +08:00] [INFO] [ddl.go:349] ["[ddl] DDL closed"] [ID=63e205d4-66cd-4abd-9468-1d63e1a95606] ["take time"=313.096µs]
[2020/02/06 10:36:42.718 +08:00] [INFO] [ddl.go:282] ["[ddl] stop DDL"] [ID=63e205d4-66cd-4abd-9468-1d63e1a95606]
[2020/02/06 10:36:42.718 +08:00] [INFO] [domain.go:456] ["domain closed"] ["take time"=352.141µs]
PASS: cbo_test.go:199: testAnalyzeSuite.TestNullCount	0.052s
[2020/02/06 10:36:42.719 +08:00] [INFO] [tidb.go:68] ["new domain"] [store=cb854b9a-3e77-4f3b-8dc6-51f6b981d1d1] ["ddl lease"=0s] ["stats lease"=-1ns]
[2020/02/06 10:36:42.719 +08:00] [INFO] [ddl.go:289] ["[ddl] start DDL"] [ID=ea49f482-694b-4089-8927-a01269d05f27]
[2020/02/06 10:36:42.719 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 22, tp add index"]
[2020/02/06 10:36:42.719 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=0] ["start time"=65.712µs]
[2020/02/06 10:36:42.719 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:42.719 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 21, tp general"]
[2020/02/06 10:36:42.719 +08:00] [INFO] [tidb.go:171] ["rollbackTxn for ddl/autocommit failed"]
[2020/02/06 10:36:42.719 +08:00] [WARN] [session.go:736] ["run statement failed"] [schemaVersion=0] [error="[schema:1049]Unknown database 'mysql'"] [errorVerbose="[schema:1049]Unknown database 'mysql'\ngithub.com/pingcap/errors.AddStack\n\t/home/aliv/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20190809092503-95897b64e011/errors.go:174\ngithub.com/pingcap/tidb/parser/terror.(*Error).GenWithStackByArgs\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/terror/terror.go:240\ngithub.com/pingcap/tidb/executor.(*SimpleExec).executeUse\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/simple.go:66\ngithub.com/pingcap/tidb/executor.(*SimpleExec).Next\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/simple.go:49\ngithub.com/pingcap/tidb/executor.Next\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/executor.go:175\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelayExecutor\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:271\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelay\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:237\ngithub.com/pingcap/tidb/executor.(*ExecStmt).Exec\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:208\ngithub.com/pingcap/tidb/session.runStmt\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/tidb.go:219\ngithub.com/pingcap/tidb/session.(*session).executeStatement\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:733\ngithub.com/pingcap/tidb/session.(*session).execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:812\ngithub.com/pingcap/tidb/session.(*session).Execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:760\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:175\ngithub.com/pingcap/tidb/session.bootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:143\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:1021\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:982\ngithub.com/pingcap/tidb/planner/core_test.newStoreWithBootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/cbo_test.go:270\ngithub.com/pingcap/tidb/planner/core_test.(*testAnalyzeSuite).TestStraightJoin\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/cbo_test.go:53\nreflect.Value.call\n\t/usr/lib/go/src/reflect/value.go:460\nreflect.Value.Call\n\t/usr/lib/go/src/reflect/value.go:321\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:854\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:739\nruntime.goexit\n\t/usr/lib/go/src/runtime/asm_amd64.s:1357"] [session="{\n  \"currDBName\": \"\",\n  \"id\": 0,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": \"\"\n}"]
[2020/02/06 10:36:42.719 +08:00] [WARN] [session.go:803] ["compile SQL failed"] [error="[schema:1146]Table 'mysql.tidb' doesn't exist"] [errorVerbose="[schema:1146]Table 'mysql.tidb' doesn't exist\ngithub.com/pingcap/errors.AddStack\n\t/home/aliv/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20190809092503-95897b64e011/errors.go:174\ngithub.com/pingcap/tidb/parser/terror.(*Error).GenWithStackByArgs\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/terror/terror.go:240\ngithub.com/pingcap/tidb/infoschema.(*infoSchema).TableByName\n\t/home/aliv/go/src/github.com/pingcap/tinysql/infoschema/infoschema.go:171\ngithub.com/pingcap/tidb/planner/core.(*preprocessor).handleTableName\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:650\ngithub.com/pingcap/tidb/planner/core.(*preprocessor).Leave\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:133\ngithub.com/pingcap/tidb/parser/ast.(*TableName).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:294\ngithub.com/pingcap/tidb/parser/ast.(*TableSource).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:431\ngithub.com/pingcap/tidb/parser/ast.(*Join).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:142\ngithub.com/pingcap/tidb/parser/ast.(*TableRefsClause).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:612\ngithub.com/pingcap/tidb/parser/ast.(*SelectStmt).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:931\ngithub.com/pingcap/tidb/planner/core.Preprocess\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:48\ngithub.com/pingcap/tidb/executor.(*Compiler).Compile\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/compiler.go:34\ngithub.com/pingcap/tidb/session.(*session).execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:800\ngithub.com/pingcap/tidb/session.(*session).Execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:760\ngithub.com/pingcap/tidb/session.getTiDBVar\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:204\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:181\ngithub.com/pingcap/tidb/session.bootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:143\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:1021\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:982\ngithub.com/pingcap/tidb/planner/core_test.newStoreWithBootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/cbo_test.go:270\ngithub.com/pingcap/tidb/planner/core_test.(*testAnalyzeSuite).TestStraightJoin\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/cbo_test.go:53\nreflect.Value.call\n\t/usr/lib/go/src/reflect/value.go:460\nreflect.Value.Call\n\t/usr/lib/go/src/reflect/value.go:321\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:854\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:739\nruntime.goexit\n\t/usr/lib/go/src/runtime/asm_amd64.s:1357"] [SQL="SELECT HIGH_PRIORITY VARIABLE_VALUE FROM mysql.tidb WHERE VARIABLE_NAME=\"bootstrapped\""]
[2020/02/06 10:36:42.720 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:2, Type:create schema, State:none, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.72 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS test"]
[2020/02/06 10:36:42.720 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 21, tp general"] [job="ID:2, Type:create schema, State:none, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.72 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.720 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 21, tp general"] [job="ID:2, Type:create schema, State:synced, SchemaState:public, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.72 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.720 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=2]
[2020/02/06 10:36:42.720 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.720 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=1] ["start time"=92.309µs]
[2020/02/06 10:36:42.720 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:42.721 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:4, Type:create schema, State:none, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.72 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS mysql;"]
[2020/02/06 10:36:42.721 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 21, tp general"] [job="ID:4, Type:create schema, State:none, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.72 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.721 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 21, tp general"] [job="ID:4, Type:create schema, State:synced, SchemaState:public, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.72 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.721 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=4]
[2020/02/06 10:36:42.721 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.721 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=1] [neededSchemaVersion=2] ["start time"=30.751µs] [tblIDs="[]"]
[2020/02/06 10:36:42.721 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:6, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.721 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) Not Null PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT Null);"]
[2020/02/06 10:36:42.722 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 21, tp general"] [job="ID:6, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.721 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.722 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 21, tp general"] [job="ID:6, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.721 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.722 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=6]
[2020/02/06 10:36:42.722 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.722 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=2] [neededSchemaVersion=3] ["start time"=77.145µs] [tblIDs="[5]"]
[2020/02/06 10:36:42.723 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:8, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.723 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.tidb(\n\t\tVARIABLE_NAME  VARCHAR(64) Not Null PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT Null,\n\t\tCOMMENT VARCHAR(1024));"]
[2020/02/06 10:36:42.723 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 21, tp general"] [job="ID:8, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.723 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.723 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 21, tp general"] [job="ID:8, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.723 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.724 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=8]
[2020/02/06 10:36:42.724 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.724 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=3] [neededSchemaVersion=4] ["start time"=83.802µs] [tblIDs="[7]"]
[2020/02/06 10:36:42.724 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:10, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.724 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.help_topic (\n  \t\thelp_topic_id int(10) unsigned NOT NULL,\n  \t\tname char(64) NOT NULL,\n  \t\thelp_category_id smallint(5) unsigned NOT NULL,\n  \t\tdescription text NOT NULL,\n  \t\texample text NOT NULL,\n  \t\turl text NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id),\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"]
[2020/02/06 10:36:42.724 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 21, tp general"] [job="ID:10, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.724 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.725 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 21, tp general"] [job="ID:10, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.724 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.725 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=10]
[2020/02/06 10:36:42.725 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.725 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=4] [neededSchemaVersion=5] ["start time"=105.737µs] [tblIDs="[9]"]
[2020/02/06 10:36:42.726 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:12, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.726 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_meta (\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tcount bigint(64) unsigned NOT NULL DEFAULT 0,\n\t\tindex idx_ver(version),\n\t\tunique index tbl(table_id)\n\t);"]
[2020/02/06 10:36:42.726 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 21, tp general"] [job="ID:12, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.726 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.727 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 21, tp general"] [job="ID:12, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.726 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.727 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=12]
[2020/02/06 10:36:42.727 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.727 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=5] [neededSchemaVersion=6] ["start time"=95.486µs] [tblIDs="[11]"]
[2020/02/06 10:36:42.727 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:14, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.727 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_histograms (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tdistinct_count bigint(64) NOT NULL,\n\t\tnull_count bigint(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size bigint(64) NOT NULL DEFAULT 0,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tversion bigint(64) unsigned NOT NULL DEFAULT 0,\n\t\tcm_sketch blob,\n\t\tstats_ver bigint(64) NOT NULL DEFAULT 0,\n\t\tflag bigint(64) NOT NULL DEFAULT 0,\n\t\tcorrelation double NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos blob DEFAULT NULL,\n\t\tunique index tbl(table_id, is_index, hist_id)\n\t);"]
[2020/02/06 10:36:42.728 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 21, tp general"] [job="ID:14, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.727 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.728 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 21, tp general"] [job="ID:14, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.727 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.729 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=14]
[2020/02/06 10:36:42.729 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.729 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=6] [neededSchemaVersion=7] ["start time"=141.406µs] [tblIDs="[13]"]
[2020/02/06 10:36:42.729 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:16, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.729 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_buckets (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tbucket_id bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\trepeats bigint(64) NOT NULL,\n\t\tupper_bound blob NOT NULL,\n\t\tlower_bound blob ,\n\t\tunique index tbl(table_id, is_index, hist_id, bucket_id)\n\t);"]
[2020/02/06 10:36:42.729 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 21, tp general"] [job="ID:16, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.729 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.730 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 21, tp general"] [job="ID:16, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.729 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.730 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=16]
[2020/02/06 10:36:42.730 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.730 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=7] [neededSchemaVersion=8] ["start time"=111.438µs] [tblIDs="[15]"]
[2020/02/06 10:36:42.731 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:18, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.731 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id BIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id BIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts BIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"]
[2020/02/06 10:36:42.731 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 21, tp general"] [job="ID:18, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.731 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.732 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 21, tp general"] [job="ID:18, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.731 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.732 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=18]
[2020/02/06 10:36:42.732 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.732 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=8] [neededSchemaVersion=9] ["start time"=89.257µs] [tblIDs="[17]"]
[2020/02/06 10:36:42.732 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:20, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.732 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id BIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id BIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts BIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"]
[2020/02/06 10:36:42.732 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 21, tp general"] [job="ID:20, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.732 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.733 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 21, tp general"] [job="ID:20, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.732 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.733 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=20]
[2020/02/06 10:36:42.733 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.733 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=9] [neededSchemaVersion=10] ["start time"=90.226µs] [tblIDs="[19]"]
[2020/02/06 10:36:42.734 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:22, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.733 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_top_n (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tvalue longblob,\n\t\tcount bigint(64) UNSIGNED NOT NULL,\n\t\tindex tbl(table_id, is_index, hist_id)\n\t);"]
[2020/02/06 10:36:42.734 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 21, tp general"] [job="ID:22, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.733 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.734 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 21, tp general"] [job="ID:22, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.733 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.735 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=22]
[2020/02/06 10:36:42.735 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.735 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=10] [neededSchemaVersion=11] ["start time"=86.974µs] [tblIDs="[21]"]
[2020/02/06 10:36:42.747 +08:00] [INFO] [bootstrap.go:153] ["bootstrap successful"] ["take time"=27.537774ms]
[2020/02/06 10:36:42.748 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 21, tp general"] ["take time"=3.582µs]
[2020/02/06 10:36:42.748 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 22, tp add index"] ["take time"=2.084µs]
[2020/02/06 10:36:42.748 +08:00] [INFO] [session_pool.go:85] ["[ddl] closing sessionPool"]
[2020/02/06 10:36:42.748 +08:00] [INFO] [ddl.go:349] ["[ddl] DDL closed"] [ID=ea49f482-694b-4089-8927-a01269d05f27] ["take time"=37.545µs]
[2020/02/06 10:36:42.748 +08:00] [INFO] [ddl.go:282] ["[ddl] stop DDL"] [ID=ea49f482-694b-4089-8927-a01269d05f27]
[2020/02/06 10:36:42.748 +08:00] [INFO] [domain.go:456] ["domain closed"] ["take time"=50.43µs]
[2020/02/06 10:36:42.748 +08:00] [INFO] [tidb.go:68] ["new domain"] [store=cb854b9a-3e77-4f3b-8dc6-51f6b981d1d1] ["ddl lease"=0s] ["stats lease"=-1ns]
[2020/02/06 10:36:42.748 +08:00] [INFO] [ddl.go:289] ["[ddl] start DDL"] [ID=bf19b722-2526-445f-ab2a-6bfa14216e34]
[2020/02/06 10:36:42.748 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 24, tp add index"]
[2020/02/06 10:36:42.748 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 23, tp general"]
[2020/02/06 10:36:42.751 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=11] ["start time"=759.99µs]
[2020/02/06 10:36:42.751 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:42.753 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:24, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:23, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.753 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create table t1 (a int)"]
[2020/02/06 10:36:42.753 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 23, tp general"] [job="ID:24, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:23, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.753 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.754 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 23, tp general"] [job="ID:24, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:23, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.753 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.754 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=24]
[2020/02/06 10:36:42.754 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.754 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=11] [neededSchemaVersion=12] ["start time"=54.888µs] [tblIDs="[23]"]
[2020/02/06 10:36:42.757 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:26, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:25, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.757 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create table t2 (a int)"]
[2020/02/06 10:36:42.757 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 23, tp general"] [job="ID:26, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:25, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.757 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.758 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 23, tp general"] [job="ID:26, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:25, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.757 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.758 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=26]
[2020/02/06 10:36:42.758 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.758 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=12] [neededSchemaVersion=13] ["start time"=59.025µs] [tblIDs="[25]"]
[2020/02/06 10:36:42.761 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:28, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:27, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.761 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create table t3 (a int)"]
[2020/02/06 10:36:42.761 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 23, tp general"] [job="ID:28, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:27, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.761 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.763 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 23, tp general"] [job="ID:28, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:27, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.761 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.763 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=28]
[2020/02/06 10:36:42.763 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.763 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=13] [neededSchemaVersion=14] ["start time"=62.155µs] [tblIDs="[27]"]
[2020/02/06 10:36:42.766 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:30, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:29, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.766 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create table t4 (a int)"]
[2020/02/06 10:36:42.766 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 23, tp general"] [job="ID:30, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:29, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.766 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.767 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 23, tp general"] [job="ID:30, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:29, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.766 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.767 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=30]
[2020/02/06 10:36:42.767 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.767 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=14] [neededSchemaVersion=15] ["start time"=57.744µs] [tblIDs="[29]"]
[2020/02/06 10:36:42.771 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 23, tp general"] ["take time"=7.145µs]
[2020/02/06 10:36:42.771 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 24, tp add index"] ["take time"=2.116µs]
[2020/02/06 10:36:42.771 +08:00] [INFO] [session_pool.go:85] ["[ddl] closing sessionPool"]
[2020/02/06 10:36:42.771 +08:00] [INFO] [ddl.go:349] ["[ddl] DDL closed"] [ID=bf19b722-2526-445f-ab2a-6bfa14216e34] ["take time"=54.259µs]
[2020/02/06 10:36:42.771 +08:00] [INFO] [ddl.go:282] ["[ddl] stop DDL"] [ID=bf19b722-2526-445f-ab2a-6bfa14216e34]
[2020/02/06 10:36:42.771 +08:00] [INFO] [domain.go:456] ["domain closed"] ["take time"=66.765µs]
PASS: cbo_test.go:51: testAnalyzeSuite.TestStraightJoin	0.053s
[2020/02/06 10:36:42.772 +08:00] [INFO] [tidb.go:68] ["new domain"] [store=4b0d0f3b-56fd-4bae-9c2b-f7f3fe28cf01] ["ddl lease"=0s] ["stats lease"=-1ns]
[2020/02/06 10:36:42.772 +08:00] [INFO] [ddl.go:289] ["[ddl] start DDL"] [ID=bd6829ab-77bc-4ce2-8bb5-acb767f12dbe]
[2020/02/06 10:36:42.772 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 25, tp general"]
[2020/02/06 10:36:42.772 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 26, tp add index"]
[2020/02/06 10:36:42.772 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=0] ["start time"=67.629µs]
[2020/02/06 10:36:42.772 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:42.772 +08:00] [INFO] [tidb.go:171] ["rollbackTxn for ddl/autocommit failed"]
[2020/02/06 10:36:42.772 +08:00] [WARN] [session.go:736] ["run statement failed"] [schemaVersion=0] [error="[schema:1049]Unknown database 'mysql'"] [errorVerbose="[schema:1049]Unknown database 'mysql'\ngithub.com/pingcap/errors.AddStack\n\t/home/aliv/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20190809092503-95897b64e011/errors.go:174\ngithub.com/pingcap/tidb/parser/terror.(*Error).GenWithStackByArgs\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/terror/terror.go:240\ngithub.com/pingcap/tidb/executor.(*SimpleExec).executeUse\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/simple.go:66\ngithub.com/pingcap/tidb/executor.(*SimpleExec).Next\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/simple.go:49\ngithub.com/pingcap/tidb/executor.Next\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/executor.go:175\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelayExecutor\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:271\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelay\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:237\ngithub.com/pingcap/tidb/executor.(*ExecStmt).Exec\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:208\ngithub.com/pingcap/tidb/session.runStmt\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/tidb.go:219\ngithub.com/pingcap/tidb/session.(*session).executeStatement\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:733\ngithub.com/pingcap/tidb/session.(*session).execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:812\ngithub.com/pingcap/tidb/session.(*session).Execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:760\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:175\ngithub.com/pingcap/tidb/session.bootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:143\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:1021\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:982\ngithub.com/pingcap/tidb/planner/core_test.newStoreWithBootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/cbo_test.go:270\ngithub.com/pingcap/tidb/planner/core_test.(*testAnalyzeSuite).TestTableDual\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/cbo_test.go:78\nreflect.Value.call\n\t/usr/lib/go/src/reflect/value.go:460\nreflect.Value.Call\n\t/usr/lib/go/src/reflect/value.go:321\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:854\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:739\nruntime.goexit\n\t/usr/lib/go/src/runtime/asm_amd64.s:1357"] [session="{\n  \"currDBName\": \"\",\n  \"id\": 0,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": \"\"\n}"]
[2020/02/06 10:36:42.772 +08:00] [WARN] [session.go:803] ["compile SQL failed"] [error="[schema:1146]Table 'mysql.tidb' doesn't exist"] [errorVerbose="[schema:1146]Table 'mysql.tidb' doesn't exist\ngithub.com/pingcap/errors.AddStack\n\t/home/aliv/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20190809092503-95897b64e011/errors.go:174\ngithub.com/pingcap/tidb/parser/terror.(*Error).GenWithStackByArgs\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/terror/terror.go:240\ngithub.com/pingcap/tidb/infoschema.(*infoSchema).TableByName\n\t/home/aliv/go/src/github.com/pingcap/tinysql/infoschema/infoschema.go:171\ngithub.com/pingcap/tidb/planner/core.(*preprocessor).handleTableName\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:650\ngithub.com/pingcap/tidb/planner/core.(*preprocessor).Leave\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:133\ngithub.com/pingcap/tidb/parser/ast.(*TableName).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:294\ngithub.com/pingcap/tidb/parser/ast.(*TableSource).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:431\ngithub.com/pingcap/tidb/parser/ast.(*Join).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:142\ngithub.com/pingcap/tidb/parser/ast.(*TableRefsClause).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:612\ngithub.com/pingcap/tidb/parser/ast.(*SelectStmt).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:931\ngithub.com/pingcap/tidb/planner/core.Preprocess\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:48\ngithub.com/pingcap/tidb/executor.(*Compiler).Compile\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/compiler.go:34\ngithub.com/pingcap/tidb/session.(*session).execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:800\ngithub.com/pingcap/tidb/session.(*session).Execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:760\ngithub.com/pingcap/tidb/session.getTiDBVar\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:204\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:181\ngithub.com/pingcap/tidb/session.bootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:143\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:1021\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:982\ngithub.com/pingcap/tidb/planner/core_test.newStoreWithBootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/cbo_test.go:270\ngithub.com/pingcap/tidb/planner/core_test.(*testAnalyzeSuite).TestTableDual\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/cbo_test.go:78\nreflect.Value.call\n\t/usr/lib/go/src/reflect/value.go:460\nreflect.Value.Call\n\t/usr/lib/go/src/reflect/value.go:321\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:854\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:739\nruntime.goexit\n\t/usr/lib/go/src/runtime/asm_amd64.s:1357"] [SQL="SELECT HIGH_PRIORITY VARIABLE_VALUE FROM mysql.tidb WHERE VARIABLE_NAME=\"bootstrapped\""]
[2020/02/06 10:36:42.772 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:2, Type:create schema, State:none, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.772 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS test"]
[2020/02/06 10:36:42.772 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 25, tp general"] [job="ID:2, Type:create schema, State:none, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.772 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.773 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 25, tp general"] [job="ID:2, Type:create schema, State:synced, SchemaState:public, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.772 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.773 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=2]
[2020/02/06 10:36:42.773 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.773 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=1] ["start time"=90.577µs]
[2020/02/06 10:36:42.773 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:42.773 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:4, Type:create schema, State:none, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.773 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS mysql;"]
[2020/02/06 10:36:42.773 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 25, tp general"] [job="ID:4, Type:create schema, State:none, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.773 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.773 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 25, tp general"] [job="ID:4, Type:create schema, State:synced, SchemaState:public, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.773 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.774 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=4]
[2020/02/06 10:36:42.774 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.774 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=1] [neededSchemaVersion=2] ["start time"=32.573µs] [tblIDs="[]"]
[2020/02/06 10:36:42.774 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:6, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.774 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) Not Null PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT Null);"]
[2020/02/06 10:36:42.774 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 25, tp general"] [job="ID:6, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.774 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.774 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 25, tp general"] [job="ID:6, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.774 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.775 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=6]
[2020/02/06 10:36:42.775 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.775 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=2] [neededSchemaVersion=3] ["start time"=84.605µs] [tblIDs="[5]"]
[2020/02/06 10:36:42.775 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:8, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.775 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.tidb(\n\t\tVARIABLE_NAME  VARCHAR(64) Not Null PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT Null,\n\t\tCOMMENT VARCHAR(1024));"]
[2020/02/06 10:36:42.775 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 25, tp general"] [job="ID:8, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.775 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.776 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 25, tp general"] [job="ID:8, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.775 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.776 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=8]
[2020/02/06 10:36:42.776 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.776 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=3] [neededSchemaVersion=4] ["start time"=76.554µs] [tblIDs="[7]"]
[2020/02/06 10:36:42.776 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:10, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.776 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.help_topic (\n  \t\thelp_topic_id int(10) unsigned NOT NULL,\n  \t\tname char(64) NOT NULL,\n  \t\thelp_category_id smallint(5) unsigned NOT NULL,\n  \t\tdescription text NOT NULL,\n  \t\texample text NOT NULL,\n  \t\turl text NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id),\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"]
[2020/02/06 10:36:42.776 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 25, tp general"] [job="ID:10, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.776 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.777 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 25, tp general"] [job="ID:10, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.776 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.777 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=10]
[2020/02/06 10:36:42.777 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.777 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=4] [neededSchemaVersion=5] ["start time"=93.5µs] [tblIDs="[9]"]
[2020/02/06 10:36:42.777 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:12, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.777 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_meta (\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tcount bigint(64) unsigned NOT NULL DEFAULT 0,\n\t\tindex idx_ver(version),\n\t\tunique index tbl(table_id)\n\t);"]
[2020/02/06 10:36:42.778 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 25, tp general"] [job="ID:12, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.777 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.778 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 25, tp general"] [job="ID:12, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.777 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.778 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=12]
[2020/02/06 10:36:42.778 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.779 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=5] [neededSchemaVersion=6] ["start time"=92.195µs] [tblIDs="[11]"]
[2020/02/06 10:36:42.779 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:14, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.779 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_histograms (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tdistinct_count bigint(64) NOT NULL,\n\t\tnull_count bigint(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size bigint(64) NOT NULL DEFAULT 0,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tversion bigint(64) unsigned NOT NULL DEFAULT 0,\n\t\tcm_sketch blob,\n\t\tstats_ver bigint(64) NOT NULL DEFAULT 0,\n\t\tflag bigint(64) NOT NULL DEFAULT 0,\n\t\tcorrelation double NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos blob DEFAULT NULL,\n\t\tunique index tbl(table_id, is_index, hist_id)\n\t);"]
[2020/02/06 10:36:42.779 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 25, tp general"] [job="ID:14, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.779 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.780 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 25, tp general"] [job="ID:14, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.779 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.781 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=14]
[2020/02/06 10:36:42.781 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.781 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=6] [neededSchemaVersion=7] ["start time"=149.762µs] [tblIDs="[13]"]
[2020/02/06 10:36:42.781 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:16, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.781 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_buckets (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tbucket_id bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\trepeats bigint(64) NOT NULL,\n\t\tupper_bound blob NOT NULL,\n\t\tlower_bound blob ,\n\t\tunique index tbl(table_id, is_index, hist_id, bucket_id)\n\t);"]
[2020/02/06 10:36:42.781 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 25, tp general"] [job="ID:16, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.781 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.783 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 25, tp general"] [job="ID:16, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.781 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.783 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=16]
[2020/02/06 10:36:42.783 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.783 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=7] [neededSchemaVersion=8] ["start time"=118.431µs] [tblIDs="[15]"]
[2020/02/06 10:36:42.784 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:18, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.783 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id BIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id BIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts BIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"]
[2020/02/06 10:36:42.784 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 25, tp general"] [job="ID:18, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.783 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.784 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 25, tp general"] [job="ID:18, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.783 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.785 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=18]
[2020/02/06 10:36:42.785 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.785 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=8] [neededSchemaVersion=9] ["start time"=105.197µs] [tblIDs="[17]"]
[2020/02/06 10:36:42.785 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:20, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.785 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id BIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id BIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts BIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"]
[2020/02/06 10:36:42.785 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 25, tp general"] [job="ID:20, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.785 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.786 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 25, tp general"] [job="ID:20, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.785 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.786 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=20]
[2020/02/06 10:36:42.786 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.786 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=9] [neededSchemaVersion=10] ["start time"=92.175µs] [tblIDs="[19]"]
[2020/02/06 10:36:42.787 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:22, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.786 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_top_n (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tvalue longblob,\n\t\tcount bigint(64) UNSIGNED NOT NULL,\n\t\tindex tbl(table_id, is_index, hist_id)\n\t);"]
[2020/02/06 10:36:42.787 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 25, tp general"] [job="ID:22, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.786 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.787 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 25, tp general"] [job="ID:22, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.786 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.788 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=22]
[2020/02/06 10:36:42.788 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.788 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=10] [neededSchemaVersion=11] ["start time"=92.751µs] [tblIDs="[21]"]
[2020/02/06 10:36:42.799 +08:00] [INFO] [bootstrap.go:153] ["bootstrap successful"] ["take time"=27.317691ms]
[2020/02/06 10:36:42.799 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 26, tp add index"] ["take time"=6.181µs]
[2020/02/06 10:36:42.799 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 25, tp general"] ["take time"=7.602µs]
[2020/02/06 10:36:42.799 +08:00] [INFO] [session_pool.go:85] ["[ddl] closing sessionPool"]
[2020/02/06 10:36:42.799 +08:00] [INFO] [ddl.go:349] ["[ddl] DDL closed"] [ID=bd6829ab-77bc-4ce2-8bb5-acb767f12dbe] ["take time"=45.965µs]
[2020/02/06 10:36:42.799 +08:00] [INFO] [ddl.go:282] ["[ddl] stop DDL"] [ID=bd6829ab-77bc-4ce2-8bb5-acb767f12dbe]
[2020/02/06 10:36:42.799 +08:00] [INFO] [domain.go:456] ["domain closed"] ["take time"=59.052µs]
[2020/02/06 10:36:42.799 +08:00] [INFO] [tidb.go:68] ["new domain"] [store=4b0d0f3b-56fd-4bae-9c2b-f7f3fe28cf01] ["ddl lease"=0s] ["stats lease"=-1ns]
[2020/02/06 10:36:42.799 +08:00] [INFO] [ddl.go:289] ["[ddl] start DDL"] [ID=59501462-48e6-4b43-a312-0aa08123a428]
[2020/02/06 10:36:42.799 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 27, tp general"]
[2020/02/06 10:36:42.799 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 28, tp add index"]
[2020/02/06 10:36:42.804 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=11] ["start time"=3.569095ms]
[2020/02/06 10:36:42.804 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:42.806 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:24, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:23, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.806 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create table t(a int)"]
[2020/02/06 10:36:42.806 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 27, tp general"] [job="ID:24, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:23, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.806 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.806 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 27, tp general"] [job="ID:24, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:23, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.806 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.807 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=24]
[2020/02/06 10:36:42.807 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.807 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=11] [neededSchemaVersion=12] ["start time"=64.653µs] [tblIDs="[23]"]
[2020/02/06 10:36:42.812 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 28, tp add index"] ["take time"=8.865µs]
[2020/02/06 10:36:42.812 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 27, tp general"] ["take time"=3.83µs]
[2020/02/06 10:36:42.812 +08:00] [INFO] [session_pool.go:85] ["[ddl] closing sessionPool"]
[2020/02/06 10:36:42.812 +08:00] [INFO] [ddl.go:349] ["[ddl] DDL closed"] [ID=59501462-48e6-4b43-a312-0aa08123a428] ["take time"=69.406µs]
[2020/02/06 10:36:42.812 +08:00] [INFO] [ddl.go:282] ["[ddl] stop DDL"] [ID=59501462-48e6-4b43-a312-0aa08123a428]
[2020/02/06 10:36:42.812 +08:00] [INFO] [domain.go:456] ["domain closed"] ["take time"=82.505µs]
PASS: cbo_test.go:76: testAnalyzeSuite.TestTableDual	0.041s
[2020/02/06 10:36:42.813 +08:00] [INFO] [tidb.go:68] ["new domain"] [store=a95c9903-0ae2-4e00-b49f-580443b86510] ["ddl lease"=0s] ["stats lease"=-1ns]
[2020/02/06 10:36:42.813 +08:00] [INFO] [ddl.go:289] ["[ddl] start DDL"] [ID=b5a83600-c9f9-467b-b087-8f9df774686e]
[2020/02/06 10:36:42.813 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 30, tp add index"]
[2020/02/06 10:36:42.813 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 29, tp general"]
[2020/02/06 10:36:42.813 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=0] ["start time"=60.601µs]
[2020/02/06 10:36:42.813 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:42.813 +08:00] [INFO] [tidb.go:171] ["rollbackTxn for ddl/autocommit failed"]
[2020/02/06 10:36:42.813 +08:00] [WARN] [session.go:736] ["run statement failed"] [schemaVersion=0] [error="[schema:1049]Unknown database 'mysql'"] [errorVerbose="[schema:1049]Unknown database 'mysql'\ngithub.com/pingcap/errors.AddStack\n\t/home/aliv/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20190809092503-95897b64e011/errors.go:174\ngithub.com/pingcap/tidb/parser/terror.(*Error).GenWithStackByArgs\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/terror/terror.go:240\ngithub.com/pingcap/tidb/executor.(*SimpleExec).executeUse\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/simple.go:66\ngithub.com/pingcap/tidb/executor.(*SimpleExec).Next\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/simple.go:49\ngithub.com/pingcap/tidb/executor.Next\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/executor.go:175\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelayExecutor\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:271\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelay\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:237\ngithub.com/pingcap/tidb/executor.(*ExecStmt).Exec\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:208\ngithub.com/pingcap/tidb/session.runStmt\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/tidb.go:219\ngithub.com/pingcap/tidb/session.(*session).executeStatement\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:733\ngithub.com/pingcap/tidb/session.(*session).execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:812\ngithub.com/pingcap/tidb/session.(*session).Execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:760\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:175\ngithub.com/pingcap/tidb/session.bootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:143\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:1021\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:982\ngithub.com/pingcap/tidb/planner/core_test.newStoreWithBootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/cbo_test.go:270\ngithub.com/pingcap/tidb/planner/core_test.(*testAnalyzeSuite).TestUpdateProjEliminate\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/cbo_test.go:437\nreflect.Value.call\n\t/usr/lib/go/src/reflect/value.go:460\nreflect.Value.Call\n\t/usr/lib/go/src/reflect/value.go:321\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:854\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:739\nruntime.goexit\n\t/usr/lib/go/src/runtime/asm_amd64.s:1357"] [session="{\n  \"currDBName\": \"\",\n  \"id\": 0,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": \"\"\n}"]
[2020/02/06 10:36:42.813 +08:00] [WARN] [session.go:803] ["compile SQL failed"] [error="[schema:1146]Table 'mysql.tidb' doesn't exist"] [errorVerbose="[schema:1146]Table 'mysql.tidb' doesn't exist\ngithub.com/pingcap/errors.AddStack\n\t/home/aliv/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20190809092503-95897b64e011/errors.go:174\ngithub.com/pingcap/tidb/parser/terror.(*Error).GenWithStackByArgs\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/terror/terror.go:240\ngithub.com/pingcap/tidb/infoschema.(*infoSchema).TableByName\n\t/home/aliv/go/src/github.com/pingcap/tinysql/infoschema/infoschema.go:171\ngithub.com/pingcap/tidb/planner/core.(*preprocessor).handleTableName\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:650\ngithub.com/pingcap/tidb/planner/core.(*preprocessor).Leave\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:133\ngithub.com/pingcap/tidb/parser/ast.(*TableName).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:294\ngithub.com/pingcap/tidb/parser/ast.(*TableSource).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:431\ngithub.com/pingcap/tidb/parser/ast.(*Join).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:142\ngithub.com/pingcap/tidb/parser/ast.(*TableRefsClause).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:612\ngithub.com/pingcap/tidb/parser/ast.(*SelectStmt).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:931\ngithub.com/pingcap/tidb/planner/core.Preprocess\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:48\ngithub.com/pingcap/tidb/executor.(*Compiler).Compile\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/compiler.go:34\ngithub.com/pingcap/tidb/session.(*session).execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:800\ngithub.com/pingcap/tidb/session.(*session).Execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:760\ngithub.com/pingcap/tidb/session.getTiDBVar\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:204\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:181\ngithub.com/pingcap/tidb/session.bootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:143\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:1021\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:982\ngithub.com/pingcap/tidb/planner/core_test.newStoreWithBootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/cbo_test.go:270\ngithub.com/pingcap/tidb/planner/core_test.(*testAnalyzeSuite).TestUpdateProjEliminate\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/cbo_test.go:437\nreflect.Value.call\n\t/usr/lib/go/src/reflect/value.go:460\nreflect.Value.Call\n\t/usr/lib/go/src/reflect/value.go:321\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:854\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:739\nruntime.goexit\n\t/usr/lib/go/src/runtime/asm_amd64.s:1357"] [SQL="SELECT HIGH_PRIORITY VARIABLE_VALUE FROM mysql.tidb WHERE VARIABLE_NAME=\"bootstrapped\""]
[2020/02/06 10:36:42.813 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:2, Type:create schema, State:none, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.813 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS test"]
[2020/02/06 10:36:42.814 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 29, tp general"] [job="ID:2, Type:create schema, State:none, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.813 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.814 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 29, tp general"] [job="ID:2, Type:create schema, State:synced, SchemaState:public, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.813 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.814 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=2]
[2020/02/06 10:36:42.814 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.814 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=1] ["start time"=85.746µs]
[2020/02/06 10:36:42.814 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:42.814 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:4, Type:create schema, State:none, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.814 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS mysql;"]
[2020/02/06 10:36:42.814 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 29, tp general"] [job="ID:4, Type:create schema, State:none, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.814 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.815 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 29, tp general"] [job="ID:4, Type:create schema, State:synced, SchemaState:public, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.814 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.815 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=4]
[2020/02/06 10:36:42.815 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.815 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=1] [neededSchemaVersion=2] ["start time"=27.663µs] [tblIDs="[]"]
[2020/02/06 10:36:42.815 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:6, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.815 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) Not Null PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT Null);"]
[2020/02/06 10:36:42.815 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 29, tp general"] [job="ID:6, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.815 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.816 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 29, tp general"] [job="ID:6, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.815 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.816 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=6]
[2020/02/06 10:36:42.816 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.816 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=2] [neededSchemaVersion=3] ["start time"=69.856µs] [tblIDs="[5]"]
[2020/02/06 10:36:42.816 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:8, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.816 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.tidb(\n\t\tVARIABLE_NAME  VARCHAR(64) Not Null PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT Null,\n\t\tCOMMENT VARCHAR(1024));"]
[2020/02/06 10:36:42.816 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 29, tp general"] [job="ID:8, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.816 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.817 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 29, tp general"] [job="ID:8, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.816 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.817 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=8]
[2020/02/06 10:36:42.817 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.817 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=3] [neededSchemaVersion=4] ["start time"=77.807µs] [tblIDs="[7]"]
[2020/02/06 10:36:42.817 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:10, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.817 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.help_topic (\n  \t\thelp_topic_id int(10) unsigned NOT NULL,\n  \t\tname char(64) NOT NULL,\n  \t\thelp_category_id smallint(5) unsigned NOT NULL,\n  \t\tdescription text NOT NULL,\n  \t\texample text NOT NULL,\n  \t\turl text NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id),\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"]
[2020/02/06 10:36:42.818 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 29, tp general"] [job="ID:10, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.817 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.818 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 29, tp general"] [job="ID:10, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.817 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.818 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=10]
[2020/02/06 10:36:42.818 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.819 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=4] [neededSchemaVersion=5] ["start time"=110.943µs] [tblIDs="[9]"]
[2020/02/06 10:36:42.819 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:12, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.819 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_meta (\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tcount bigint(64) unsigned NOT NULL DEFAULT 0,\n\t\tindex idx_ver(version),\n\t\tunique index tbl(table_id)\n\t);"]
[2020/02/06 10:36:42.819 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 29, tp general"] [job="ID:12, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.819 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.820 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 29, tp general"] [job="ID:12, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.819 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.820 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=12]
[2020/02/06 10:36:42.820 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.820 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=5] [neededSchemaVersion=6] ["start time"=93.478µs] [tblIDs="[11]"]
[2020/02/06 10:36:42.820 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:14, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.82 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_histograms (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tdistinct_count bigint(64) NOT NULL,\n\t\tnull_count bigint(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size bigint(64) NOT NULL DEFAULT 0,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tversion bigint(64) unsigned NOT NULL DEFAULT 0,\n\t\tcm_sketch blob,\n\t\tstats_ver bigint(64) NOT NULL DEFAULT 0,\n\t\tflag bigint(64) NOT NULL DEFAULT 0,\n\t\tcorrelation double NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos blob DEFAULT NULL,\n\t\tunique index tbl(table_id, is_index, hist_id)\n\t);"]
[2020/02/06 10:36:42.820 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 29, tp general"] [job="ID:14, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.82 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.821 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 29, tp general"] [job="ID:14, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.82 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.822 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=14]
[2020/02/06 10:36:42.822 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.822 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=6] [neededSchemaVersion=7] ["start time"=172.721µs] [tblIDs="[13]"]
[2020/02/06 10:36:42.822 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:16, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.822 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_buckets (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tbucket_id bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\trepeats bigint(64) NOT NULL,\n\t\tupper_bound blob NOT NULL,\n\t\tlower_bound blob ,\n\t\tunique index tbl(table_id, is_index, hist_id, bucket_id)\n\t);"]
[2020/02/06 10:36:42.822 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 29, tp general"] [job="ID:16, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.822 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.823 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 29, tp general"] [job="ID:16, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.822 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.823 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=16]
[2020/02/06 10:36:42.823 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.823 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=7] [neededSchemaVersion=8] ["start time"=119.445µs] [tblIDs="[15]"]
[2020/02/06 10:36:42.824 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:18, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.824 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id BIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id BIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts BIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"]
[2020/02/06 10:36:42.824 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 29, tp general"] [job="ID:18, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.824 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.825 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 29, tp general"] [job="ID:18, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.824 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.825 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=18]
[2020/02/06 10:36:42.825 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.825 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=8] [neededSchemaVersion=9] ["start time"=112.377µs] [tblIDs="[17]"]
[2020/02/06 10:36:42.825 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:20, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.825 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id BIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id BIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts BIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"]
[2020/02/06 10:36:42.826 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 29, tp general"] [job="ID:20, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.825 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.826 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 29, tp general"] [job="ID:20, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.825 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.826 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=20]
[2020/02/06 10:36:42.826 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.826 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=9] [neededSchemaVersion=10] ["start time"=94.015µs] [tblIDs="[19]"]
[2020/02/06 10:36:42.827 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:22, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.827 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_top_n (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tvalue longblob,\n\t\tcount bigint(64) UNSIGNED NOT NULL,\n\t\tindex tbl(table_id, is_index, hist_id)\n\t);"]
[2020/02/06 10:36:42.827 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 29, tp general"] [job="ID:22, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.827 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.828 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 29, tp general"] [job="ID:22, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.827 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.828 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=22]
[2020/02/06 10:36:42.828 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.828 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=10] [neededSchemaVersion=11] ["start time"=104.315µs] [tblIDs="[21]"]
[2020/02/06 10:36:42.841 +08:00] [INFO] [bootstrap.go:153] ["bootstrap successful"] ["take time"=27.466371ms]
[2020/02/06 10:36:42.841 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 29, tp general"] ["take time"=4.515µs]
[2020/02/06 10:36:42.841 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 30, tp add index"] ["take time"=2.22µs]
[2020/02/06 10:36:42.841 +08:00] [INFO] [session_pool.go:85] ["[ddl] closing sessionPool"]
[2020/02/06 10:36:42.841 +08:00] [INFO] [ddl.go:349] ["[ddl] DDL closed"] [ID=b5a83600-c9f9-467b-b087-8f9df774686e] ["take time"=35.552µs]
[2020/02/06 10:36:42.841 +08:00] [INFO] [ddl.go:282] ["[ddl] stop DDL"] [ID=b5a83600-c9f9-467b-b087-8f9df774686e]
[2020/02/06 10:36:42.841 +08:00] [INFO] [domain.go:456] ["domain closed"] ["take time"=50.824µs]
[2020/02/06 10:36:42.841 +08:00] [INFO] [tidb.go:68] ["new domain"] [store=a95c9903-0ae2-4e00-b49f-580443b86510] ["ddl lease"=0s] ["stats lease"=-1ns]
[2020/02/06 10:36:42.841 +08:00] [INFO] [ddl.go:289] ["[ddl] start DDL"] [ID=83cb345c-1939-4a49-b901-f0db6aa92ff9]
[2020/02/06 10:36:42.841 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 31, tp general"]
[2020/02/06 10:36:42.841 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 32, tp add index"]
[2020/02/06 10:36:42.845 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=11] ["start time"=3.508747ms]
[2020/02/06 10:36:42.845 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:42.847 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:24, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:23, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.847 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create table t(a int, b int)"]
[2020/02/06 10:36:42.847 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 31, tp general"] [job="ID:24, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:23, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.847 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.848 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 31, tp general"] [job="ID:24, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:23, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.847 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.848 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=24]
[2020/02/06 10:36:42.848 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.848 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=11] [neededSchemaVersion=12] ["start time"=62.82µs] [tblIDs="[23]"]
[2020/02/06 10:36:42.848 +08:00] [WARN] [session.go:781] ["parse SQL failed"] [error="line 1 column 14 near \"update t t1, (select distinct b from t) t2 set t1.b = t2.b\" "] [errorVerbose="line 1 column 14 near \"update t t1, (select distinct b from t) t2 set t1.b = t2.b\" \ngithub.com/pingcap/errors.AddStack\n\t/home/aliv/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20190809092503-95897b64e011/errors.go:174\ngithub.com/pingcap/errors.Trace\n\t/home/aliv/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20190809092503-95897b64e011/juju_adaptor.go:15\ngithub.com/pingcap/tidb/parser.(*Parser).Parse\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/yy_parser.go:146\ngithub.com/pingcap/tidb/session.(*session).ParseSQL\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:723\ngithub.com/pingcap/tidb/session.(*session).execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:778\ngithub.com/pingcap/tidb/session.(*session).Execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:760\ngithub.com/pingcap/tidb/util/testkit.(*TestKit).Exec\n\t/home/aliv/go/src/github.com/pingcap/tinysql/util/testkit/testkit.go:142\ngithub.com/pingcap/tidb/util/testkit.(*TestKit).MustExec\n\t/home/aliv/go/src/github.com/pingcap/tinysql/util/testkit/testkit.go:157\ngithub.com/pingcap/tidb/planner/core_test.(*testAnalyzeSuite).TestUpdateProjEliminate\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/cbo_test.go:448\nreflect.Value.call\n\t/usr/lib/go/src/reflect/value.go:460\nreflect.Value.Call\n\t/usr/lib/go/src/reflect/value.go:321\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:854\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:739\nruntime.goexit\n\t/usr/lib/go/src/runtime/asm_amd64.s:1357"] [SQL="explain update t t1, (select distinct b from t) t2 set t1.b = t2.b"]
[2020/02/06 10:36:42.848 +08:00] [ERROR] [misc.go:114] ["syntax error"] [error="line 1 column 14 near \"update t t1, (select distinct b from t) t2 set t1.b = t2.b\" "] [errorVerbose="line 1 column 14 near \"update t t1, (select distinct b from t) t2 set t1.b = t2.b\" \ngithub.com/pingcap/errors.AddStack\n\t/home/aliv/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20190809092503-95897b64e011/errors.go:174\ngithub.com/pingcap/errors.Trace\n\t/home/aliv/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20190809092503-95897b64e011/juju_adaptor.go:15\ngithub.com/pingcap/tidb/parser.(*Parser).Parse\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/yy_parser.go:146\ngithub.com/pingcap/tidb/session.(*session).ParseSQL\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:723\ngithub.com/pingcap/tidb/session.(*session).execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:778\ngithub.com/pingcap/tidb/session.(*session).Execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:760\ngithub.com/pingcap/tidb/util/testkit.(*TestKit).Exec\n\t/home/aliv/go/src/github.com/pingcap/tinysql/util/testkit/testkit.go:142\ngithub.com/pingcap/tidb/util/testkit.(*TestKit).MustExec\n\t/home/aliv/go/src/github.com/pingcap/tinysql/util/testkit/testkit.go:157\ngithub.com/pingcap/tidb/planner/core_test.(*testAnalyzeSuite).TestUpdateProjEliminate\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/cbo_test.go:448\nreflect.Value.call\n\t/usr/lib/go/src/reflect/value.go:460\nreflect.Value.Call\n\t/usr/lib/go/src/reflect/value.go:321\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:854\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:739\nruntime.goexit\n\t/usr/lib/go/src/runtime/asm_amd64.s:1357"] [stack="github.com/pingcap/tidb/util.SyntaxError\n\t/home/aliv/go/src/github.com/pingcap/tinysql/util/misc.go:114\ngithub.com/pingcap/tidb/session.(*session).execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:784\ngithub.com/pingcap/tidb/session.(*session).Execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:760\ngithub.com/pingcap/tidb/util/testkit.(*TestKit).Exec\n\t/home/aliv/go/src/github.com/pingcap/tinysql/util/testkit/testkit.go:142\ngithub.com/pingcap/tidb/util/testkit.(*TestKit).MustExec\n\t/home/aliv/go/src/github.com/pingcap/tinysql/util/testkit/testkit.go:157\ngithub.com/pingcap/tidb/planner/core_test.(*testAnalyzeSuite).TestUpdateProjEliminate\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/cbo_test.go:448\nreflect.Value.call\n\t/usr/lib/go/src/reflect/value.go:460\nreflect.Value.Call\n\t/usr/lib/go/src/reflect/value.go:321\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:854\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:739"]
[2020/02/06 10:36:42.849 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 31, tp general"] ["take time"=7.142µs]
[2020/02/06 10:36:42.849 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 32, tp add index"] ["take time"=4.333µs]
[2020/02/06 10:36:42.849 +08:00] [INFO] [session_pool.go:85] ["[ddl] closing sessionPool"]
[2020/02/06 10:36:42.849 +08:00] [INFO] [ddl.go:349] ["[ddl] DDL closed"] [ID=83cb345c-1939-4a49-b901-f0db6aa92ff9] ["take time"=36.246µs]
[2020/02/06 10:36:42.849 +08:00] [INFO] [ddl.go:282] ["[ddl] stop DDL"] [ID=83cb345c-1939-4a49-b901-f0db6aa92ff9]
[2020/02/06 10:36:42.849 +08:00] [INFO] [domain.go:456] ["domain closed"] ["take time"=49.008µs]

----------------------------------------------------------------------
FAIL: cbo_test.go:436: testAnalyzeSuite.TestUpdateProjEliminate

cbo_test.go:448:
    tk.MustExec("explain update t t1, (select distinct b from t) t2 set t1.b = t2.b")
/home/aliv/go/src/github.com/pingcap/tinysql/util/testkit/testkit.go:158:
    tk.c.Assert(err, check.IsNil, check.Commentf("sql:%s, error stack %v", sql, errors.ErrorStack(err)))
... value *errors.withStack = [parser:1064]You have an error in your SQL syntax; check the manual that corresponds to your TiDB version for the right syntax to use line 1 column 14 near "update t t1, (select distinct b from t) t2 set t1.b = t2.b"  ("[parser:1064]You have an error in your SQL syntax; check the manual that corresponds to your TiDB version for the right syntax to use line 1 column 14 near \"update t t1, (select distinct b from t) t2 set t1.b = t2.b\" ")
... sql:explain update t t1, (select distinct b from t) t2 set t1.b = t2.b, error stack [parser:1064]You have an error in your SQL syntax; check the manual that corresponds to your TiDB version for the right syntax to use line 1 column 14 near "update t t1, (select distinct b from t) t2 set t1.b = t2.b" 
github.com/pingcap/errors.AddStack
	/home/aliv/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20190809092503-95897b64e011/errors.go:174
github.com/pingcap/tidb/parser/terror.(*Error).GenWithStackByArgs
	/home/aliv/go/src/github.com/pingcap/tinysql/parser/terror/terror.go:240
github.com/pingcap/tidb/util.SyntaxError
	/home/aliv/go/src/github.com/pingcap/tinysql/util/misc.go:124
github.com/pingcap/tidb/session.(*session).execute
	/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:784
github.com/pingcap/tidb/session.(*session).Execute
	/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:760
github.com/pingcap/tidb/util/testkit.(*TestKit).Exec
	/home/aliv/go/src/github.com/pingcap/tinysql/util/testkit/testkit.go:142
github.com/pingcap/tidb/util/testkit.(*TestKit).MustExec
	/home/aliv/go/src/github.com/pingcap/tinysql/util/testkit/testkit.go:157
github.com/pingcap/tidb/planner/core_test.(*testAnalyzeSuite).TestUpdateProjEliminate
	/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/cbo_test.go:448
reflect.Value.call
	/usr/lib/go/src/reflect/value.go:460
reflect.Value.Call
	/usr/lib/go/src/reflect/value.go:321
github.com/pingcap/check.(*suiteRunner).forkTest.func1
	/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:854
github.com/pingcap/check.(*suiteRunner).forkCall.func1
	/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:739
runtime.goexit
	/usr/lib/go/src/runtime/asm_amd64.s:1357

[2020/02/06 10:36:42.850 +08:00] [INFO] [tidb.go:68] ["new domain"] [store=4f55e061-5873-4bce-b73f-e9e8f6f6f6ed] ["ddl lease"=0s] ["stats lease"=-1ns]
[2020/02/06 10:36:42.850 +08:00] [INFO] [ddl.go:289] ["[ddl] start DDL"] [ID=3fa4c8f8-4121-45f8-b9ed-d2d274a90cb4]
[2020/02/06 10:36:42.850 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 34, tp add index"]
[2020/02/06 10:36:42.850 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 33, tp general"]
[2020/02/06 10:36:42.850 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=0] ["start time"=51.784µs]
[2020/02/06 10:36:42.850 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:42.850 +08:00] [INFO] [tidb.go:171] ["rollbackTxn for ddl/autocommit failed"]
[2020/02/06 10:36:42.850 +08:00] [WARN] [session.go:736] ["run statement failed"] [schemaVersion=0] [error="[schema:1049]Unknown database 'mysql'"] [errorVerbose="[schema:1049]Unknown database 'mysql'\ngithub.com/pingcap/errors.AddStack\n\t/home/aliv/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20190809092503-95897b64e011/errors.go:174\ngithub.com/pingcap/tidb/parser/terror.(*Error).GenWithStackByArgs\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/terror/terror.go:240\ngithub.com/pingcap/tidb/executor.(*SimpleExec).executeUse\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/simple.go:66\ngithub.com/pingcap/tidb/executor.(*SimpleExec).Next\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/simple.go:49\ngithub.com/pingcap/tidb/executor.Next\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/executor.go:175\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelayExecutor\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:271\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelay\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:237\ngithub.com/pingcap/tidb/executor.(*ExecStmt).Exec\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:208\ngithub.com/pingcap/tidb/session.runStmt\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/tidb.go:219\ngithub.com/pingcap/tidb/session.(*session).executeStatement\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:733\ngithub.com/pingcap/tidb/session.(*session).execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:812\ngithub.com/pingcap/tidb/session.(*session).Execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:760\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:175\ngithub.com/pingcap/tidb/session.bootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:143\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:1021\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:982\ngithub.com/pingcap/tidb/planner/core_test.newStoreWithBootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/cbo_test.go:270\ngithub.com/pingcap/tidb/planner/core_test.(*testExpressionRewriterSuite).TestBinaryOpFunction\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/expression_rewriter_test.go:49\nreflect.Value.call\n\t/usr/lib/go/src/reflect/value.go:460\nreflect.Value.Call\n\t/usr/lib/go/src/reflect/value.go:321\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:854\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:739\nruntime.goexit\n\t/usr/lib/go/src/runtime/asm_amd64.s:1357"] [session="{\n  \"currDBName\": \"\",\n  \"id\": 0,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": \"\"\n}"]
[2020/02/06 10:36:42.851 +08:00] [WARN] [session.go:803] ["compile SQL failed"] [error="[schema:1146]Table 'mysql.tidb' doesn't exist"] [errorVerbose="[schema:1146]Table 'mysql.tidb' doesn't exist\ngithub.com/pingcap/errors.AddStack\n\t/home/aliv/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20190809092503-95897b64e011/errors.go:174\ngithub.com/pingcap/tidb/parser/terror.(*Error).GenWithStackByArgs\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/terror/terror.go:240\ngithub.com/pingcap/tidb/infoschema.(*infoSchema).TableByName\n\t/home/aliv/go/src/github.com/pingcap/tinysql/infoschema/infoschema.go:171\ngithub.com/pingcap/tidb/planner/core.(*preprocessor).handleTableName\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:650\ngithub.com/pingcap/tidb/planner/core.(*preprocessor).Leave\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:133\ngithub.com/pingcap/tidb/parser/ast.(*TableName).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:294\ngithub.com/pingcap/tidb/parser/ast.(*TableSource).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:431\ngithub.com/pingcap/tidb/parser/ast.(*Join).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:142\ngithub.com/pingcap/tidb/parser/ast.(*TableRefsClause).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:612\ngithub.com/pingcap/tidb/parser/ast.(*SelectStmt).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:931\ngithub.com/pingcap/tidb/planner/core.Preprocess\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:48\ngithub.com/pingcap/tidb/executor.(*Compiler).Compile\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/compiler.go:34\ngithub.com/pingcap/tidb/session.(*session).execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:800\ngithub.com/pingcap/tidb/session.(*session).Execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:760\ngithub.com/pingcap/tidb/session.getTiDBVar\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:204\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:181\ngithub.com/pingcap/tidb/session.bootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:143\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:1021\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:982\ngithub.com/pingcap/tidb/planner/core_test.newStoreWithBootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/cbo_test.go:270\ngithub.com/pingcap/tidb/planner/core_test.(*testExpressionRewriterSuite).TestBinaryOpFunction\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/expression_rewriter_test.go:49\nreflect.Value.call\n\t/usr/lib/go/src/reflect/value.go:460\nreflect.Value.Call\n\t/usr/lib/go/src/reflect/value.go:321\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:854\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:739\nruntime.goexit\n\t/usr/lib/go/src/runtime/asm_amd64.s:1357"] [SQL="SELECT HIGH_PRIORITY VARIABLE_VALUE FROM mysql.tidb WHERE VARIABLE_NAME=\"bootstrapped\""]
[2020/02/06 10:36:42.851 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:2, Type:create schema, State:none, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.851 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS test"]
[2020/02/06 10:36:42.851 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 33, tp general"] [job="ID:2, Type:create schema, State:none, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.851 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.851 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 33, tp general"] [job="ID:2, Type:create schema, State:synced, SchemaState:public, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.851 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.851 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=2]
[2020/02/06 10:36:42.851 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.851 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=1] ["start time"=92.677µs]
[2020/02/06 10:36:42.851 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:42.852 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:4, Type:create schema, State:none, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.852 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS mysql;"]
[2020/02/06 10:36:42.852 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 33, tp general"] [job="ID:4, Type:create schema, State:none, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.852 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.852 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 33, tp general"] [job="ID:4, Type:create schema, State:synced, SchemaState:public, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.852 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.852 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=4]
[2020/02/06 10:36:42.852 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.852 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=1] [neededSchemaVersion=2] ["start time"=31.501µs] [tblIDs="[]"]
[2020/02/06 10:36:42.852 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:6, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.852 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) Not Null PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT Null);"]
[2020/02/06 10:36:42.853 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 33, tp general"] [job="ID:6, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.852 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.853 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 33, tp general"] [job="ID:6, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.852 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.853 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=6]
[2020/02/06 10:36:42.853 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.853 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=2] [neededSchemaVersion=3] ["start time"=66.772µs] [tblIDs="[5]"]
[2020/02/06 10:36:42.854 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:8, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.853 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.tidb(\n\t\tVARIABLE_NAME  VARCHAR(64) Not Null PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT Null,\n\t\tCOMMENT VARCHAR(1024));"]
[2020/02/06 10:36:42.854 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 33, tp general"] [job="ID:8, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.853 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.854 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 33, tp general"] [job="ID:8, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.853 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.854 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=8]
[2020/02/06 10:36:42.854 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.854 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=3] [neededSchemaVersion=4] ["start time"=79.138µs] [tblIDs="[7]"]
[2020/02/06 10:36:42.855 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:10, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.855 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.help_topic (\n  \t\thelp_topic_id int(10) unsigned NOT NULL,\n  \t\tname char(64) NOT NULL,\n  \t\thelp_category_id smallint(5) unsigned NOT NULL,\n  \t\tdescription text NOT NULL,\n  \t\texample text NOT NULL,\n  \t\turl text NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id),\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"]
[2020/02/06 10:36:42.855 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 33, tp general"] [job="ID:10, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.855 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.855 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 33, tp general"] [job="ID:10, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.855 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.856 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=10]
[2020/02/06 10:36:42.856 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.856 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=4] [neededSchemaVersion=5] ["start time"=94.344µs] [tblIDs="[9]"]
[2020/02/06 10:36:42.856 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:12, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.856 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_meta (\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tcount bigint(64) unsigned NOT NULL DEFAULT 0,\n\t\tindex idx_ver(version),\n\t\tunique index tbl(table_id)\n\t);"]
[2020/02/06 10:36:42.856 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 33, tp general"] [job="ID:12, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.856 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.857 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 33, tp general"] [job="ID:12, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.856 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.857 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=12]
[2020/02/06 10:36:42.857 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.857 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=5] [neededSchemaVersion=6] ["start time"=94.955µs] [tblIDs="[11]"]
[2020/02/06 10:36:42.858 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:14, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.857 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_histograms (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tdistinct_count bigint(64) NOT NULL,\n\t\tnull_count bigint(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size bigint(64) NOT NULL DEFAULT 0,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tversion bigint(64) unsigned NOT NULL DEFAULT 0,\n\t\tcm_sketch blob,\n\t\tstats_ver bigint(64) NOT NULL DEFAULT 0,\n\t\tflag bigint(64) NOT NULL DEFAULT 0,\n\t\tcorrelation double NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos blob DEFAULT NULL,\n\t\tunique index tbl(table_id, is_index, hist_id)\n\t);"]
[2020/02/06 10:36:42.858 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 33, tp general"] [job="ID:14, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.857 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.859 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 33, tp general"] [job="ID:14, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.857 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.859 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=14]
[2020/02/06 10:36:42.859 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.859 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=6] [neededSchemaVersion=7] ["start time"=143.43µs] [tblIDs="[13]"]
[2020/02/06 10:36:42.859 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:16, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.859 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_buckets (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tbucket_id bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\trepeats bigint(64) NOT NULL,\n\t\tupper_bound blob NOT NULL,\n\t\tlower_bound blob ,\n\t\tunique index tbl(table_id, is_index, hist_id, bucket_id)\n\t);"]
[2020/02/06 10:36:42.860 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 33, tp general"] [job="ID:16, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.859 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.860 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 33, tp general"] [job="ID:16, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.859 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.861 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=16]
[2020/02/06 10:36:42.861 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.861 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=7] [neededSchemaVersion=8] ["start time"=119.779µs] [tblIDs="[15]"]
[2020/02/06 10:36:42.861 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:18, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.861 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id BIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id BIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts BIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"]
[2020/02/06 10:36:42.861 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 33, tp general"] [job="ID:18, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.861 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.862 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 33, tp general"] [job="ID:18, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.861 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.862 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=18]
[2020/02/06 10:36:42.862 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.862 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=8] [neededSchemaVersion=9] ["start time"=95.992µs] [tblIDs="[17]"]
[2020/02/06 10:36:42.863 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:20, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.862 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id BIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id BIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts BIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"]
[2020/02/06 10:36:42.863 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 33, tp general"] [job="ID:20, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.862 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.863 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 33, tp general"] [job="ID:20, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.862 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.864 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=20]
[2020/02/06 10:36:42.864 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.864 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=9] [neededSchemaVersion=10] ["start time"=96.948µs] [tblIDs="[19]"]
[2020/02/06 10:36:42.864 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:22, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.864 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_top_n (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tvalue longblob,\n\t\tcount bigint(64) UNSIGNED NOT NULL,\n\t\tindex tbl(table_id, is_index, hist_id)\n\t);"]
[2020/02/06 10:36:42.864 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 33, tp general"] [job="ID:22, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.864 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.865 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 33, tp general"] [job="ID:22, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.864 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.865 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=22]
[2020/02/06 10:36:42.865 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.865 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=10] [neededSchemaVersion=11] ["start time"=96.639µs] [tblIDs="[21]"]
[2020/02/06 10:36:42.877 +08:00] [INFO] [bootstrap.go:153] ["bootstrap successful"] ["take time"=26.668442ms]
[2020/02/06 10:36:42.877 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 33, tp general"] ["take time"=4.979µs]
[2020/02/06 10:36:42.877 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 34, tp add index"] ["take time"=2.601µs]
[2020/02/06 10:36:42.877 +08:00] [INFO] [session_pool.go:85] ["[ddl] closing sessionPool"]
[2020/02/06 10:36:42.877 +08:00] [INFO] [ddl.go:349] ["[ddl] DDL closed"] [ID=3fa4c8f8-4121-45f8-b9ed-d2d274a90cb4] ["take time"=31.444µs]
[2020/02/06 10:36:42.877 +08:00] [INFO] [ddl.go:282] ["[ddl] stop DDL"] [ID=3fa4c8f8-4121-45f8-b9ed-d2d274a90cb4]
[2020/02/06 10:36:42.877 +08:00] [INFO] [domain.go:456] ["domain closed"] ["take time"=43.262µs]
[2020/02/06 10:36:42.877 +08:00] [INFO] [tidb.go:68] ["new domain"] [store=4f55e061-5873-4bce-b73f-e9e8f6f6f6ed] ["ddl lease"=0s] ["stats lease"=-1ns]
[2020/02/06 10:36:42.877 +08:00] [INFO] [ddl.go:289] ["[ddl] start DDL"] [ID=c6fce166-2913-455c-a932-b3f52a3c4c27]
[2020/02/06 10:36:42.877 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 35, tp general"]
[2020/02/06 10:36:42.877 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 36, tp add index"]
[2020/02/06 10:36:42.881 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=11] ["start time"=3.253331ms]
[2020/02/06 10:36:42.881 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:42.883 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:24, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:23, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.883 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE t(a int, b int, c int);"]
[2020/02/06 10:36:42.883 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 35, tp general"] [job="ID:24, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:23, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.883 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.884 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 35, tp general"] [job="ID:24, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:23, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.883 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.884 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=24]
[2020/02/06 10:36:42.884 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.884 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=11] [neededSchemaVersion=12] ["start time"=64.188µs] [tblIDs="[23]"]
[2020/02/06 10:36:42.885 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 35, tp general"] ["take time"=2.46µs]
[2020/02/06 10:36:42.885 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 36, tp add index"] ["take time"=2.387µs]
[2020/02/06 10:36:42.885 +08:00] [INFO] [session_pool.go:85] ["[ddl] closing sessionPool"]
[2020/02/06 10:36:42.885 +08:00] [INFO] [ddl.go:349] ["[ddl] DDL closed"] [ID=c6fce166-2913-455c-a932-b3f52a3c4c27] ["take time"=31.318µs]
[2020/02/06 10:36:42.885 +08:00] [INFO] [ddl.go:282] ["[ddl] stop DDL"] [ID=c6fce166-2913-455c-a932-b3f52a3c4c27]
[2020/02/06 10:36:42.885 +08:00] [INFO] [domain.go:456] ["domain closed"] ["take time"=53.8µs]
PASS: expression_rewriter_test.go:47: testExpressionRewriterSuite.TestBinaryOpFunction	0.036s
[2020/02/06 10:36:42.887 +08:00] [INFO] [tidb.go:68] ["new domain"] [store=801ef787-027d-420e-9785-f7b9504722e8] ["ddl lease"=0s] ["stats lease"=-1ns]
[2020/02/06 10:36:42.887 +08:00] [INFO] [ddl.go:289] ["[ddl] start DDL"] [ID=a4fdcedc-d917-4543-8686-804db5882b53]
[2020/02/06 10:36:42.887 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 37, tp general"]
[2020/02/06 10:36:42.887 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 38, tp add index"]
[2020/02/06 10:36:42.887 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=0] ["start time"=103.109µs]
[2020/02/06 10:36:42.887 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:42.887 +08:00] [INFO] [tidb.go:171] ["rollbackTxn for ddl/autocommit failed"]
[2020/02/06 10:36:42.887 +08:00] [WARN] [session.go:736] ["run statement failed"] [schemaVersion=0] [error="[schema:1049]Unknown database 'mysql'"] [errorVerbose="[schema:1049]Unknown database 'mysql'\ngithub.com/pingcap/errors.AddStack\n\t/home/aliv/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20190809092503-95897b64e011/errors.go:174\ngithub.com/pingcap/tidb/parser/terror.(*Error).GenWithStackByArgs\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/terror/terror.go:240\ngithub.com/pingcap/tidb/executor.(*SimpleExec).executeUse\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/simple.go:66\ngithub.com/pingcap/tidb/executor.(*SimpleExec).Next\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/simple.go:49\ngithub.com/pingcap/tidb/executor.Next\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/executor.go:175\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelayExecutor\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:271\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelay\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:237\ngithub.com/pingcap/tidb/executor.(*ExecStmt).Exec\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:208\ngithub.com/pingcap/tidb/session.runStmt\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/tidb.go:219\ngithub.com/pingcap/tidb/session.(*session).executeStatement\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:733\ngithub.com/pingcap/tidb/session.(*session).execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:812\ngithub.com/pingcap/tidb/session.(*session).Execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:760\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:175\ngithub.com/pingcap/tidb/session.bootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:143\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:1021\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:982\ngithub.com/pingcap/tidb/planner/core_test.newStoreWithBootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/cbo_test.go:270\ngithub.com/pingcap/tidb/planner/core_test.(*testExpressionRewriterSuite).TestCheckFullGroupBy\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/expression_rewriter_test.go:128\nreflect.Value.call\n\t/usr/lib/go/src/reflect/value.go:460\nreflect.Value.Call\n\t/usr/lib/go/src/reflect/value.go:321\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:854\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:739\nruntime.goexit\n\t/usr/lib/go/src/runtime/asm_amd64.s:1357"] [session="{\n  \"currDBName\": \"\",\n  \"id\": 0,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": \"\"\n}"]
[2020/02/06 10:36:42.887 +08:00] [WARN] [session.go:803] ["compile SQL failed"] [error="[schema:1146]Table 'mysql.tidb' doesn't exist"] [errorVerbose="[schema:1146]Table 'mysql.tidb' doesn't exist\ngithub.com/pingcap/errors.AddStack\n\t/home/aliv/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20190809092503-95897b64e011/errors.go:174\ngithub.com/pingcap/tidb/parser/terror.(*Error).GenWithStackByArgs\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/terror/terror.go:240\ngithub.com/pingcap/tidb/infoschema.(*infoSchema).TableByName\n\t/home/aliv/go/src/github.com/pingcap/tinysql/infoschema/infoschema.go:171\ngithub.com/pingcap/tidb/planner/core.(*preprocessor).handleTableName\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:650\ngithub.com/pingcap/tidb/planner/core.(*preprocessor).Leave\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:133\ngithub.com/pingcap/tidb/parser/ast.(*TableName).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:294\ngithub.com/pingcap/tidb/parser/ast.(*TableSource).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:431\ngithub.com/pingcap/tidb/parser/ast.(*Join).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:142\ngithub.com/pingcap/tidb/parser/ast.(*TableRefsClause).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:612\ngithub.com/pingcap/tidb/parser/ast.(*SelectStmt).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:931\ngithub.com/pingcap/tidb/planner/core.Preprocess\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:48\ngithub.com/pingcap/tidb/executor.(*Compiler).Compile\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/compiler.go:34\ngithub.com/pingcap/tidb/session.(*session).execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:800\ngithub.com/pingcap/tidb/session.(*session).Execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:760\ngithub.com/pingcap/tidb/session.getTiDBVar\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:204\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:181\ngithub.com/pingcap/tidb/session.bootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:143\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:1021\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:982\ngithub.com/pingcap/tidb/planner/core_test.newStoreWithBootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/cbo_test.go:270\ngithub.com/pingcap/tidb/planner/core_test.(*testExpressionRewriterSuite).TestCheckFullGroupBy\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/expression_rewriter_test.go:128\nreflect.Value.call\n\t/usr/lib/go/src/reflect/value.go:460\nreflect.Value.Call\n\t/usr/lib/go/src/reflect/value.go:321\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:854\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:739\nruntime.goexit\n\t/usr/lib/go/src/runtime/asm_amd64.s:1357"] [SQL="SELECT HIGH_PRIORITY VARIABLE_VALUE FROM mysql.tidb WHERE VARIABLE_NAME=\"bootstrapped\""]
[2020/02/06 10:36:42.888 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:2, Type:create schema, State:none, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.888 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS test"]
[2020/02/06 10:36:42.888 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 37, tp general"] [job="ID:2, Type:create schema, State:none, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.888 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.889 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 37, tp general"] [job="ID:2, Type:create schema, State:synced, SchemaState:public, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.888 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.889 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=2]
[2020/02/06 10:36:42.889 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.889 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=1] ["start time"=152.054µs]
[2020/02/06 10:36:42.889 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:42.889 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:4, Type:create schema, State:none, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.889 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS mysql;"]
[2020/02/06 10:36:42.889 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 37, tp general"] [job="ID:4, Type:create schema, State:none, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.889 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.890 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 37, tp general"] [job="ID:4, Type:create schema, State:synced, SchemaState:public, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.889 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.890 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=4]
[2020/02/06 10:36:42.890 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.890 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=1] [neededSchemaVersion=2] ["start time"=76.235µs] [tblIDs="[]"]
[2020/02/06 10:36:42.891 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:6, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.89 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) Not Null PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT Null);"]
[2020/02/06 10:36:42.891 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 37, tp general"] [job="ID:6, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.89 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.892 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 37, tp general"] [job="ID:6, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.89 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.892 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=6]
[2020/02/06 10:36:42.892 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.892 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=2] [neededSchemaVersion=3] ["start time"=153.013µs] [tblIDs="[5]"]
[2020/02/06 10:36:42.893 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:8, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.893 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.tidb(\n\t\tVARIABLE_NAME  VARCHAR(64) Not Null PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT Null,\n\t\tCOMMENT VARCHAR(1024));"]
[2020/02/06 10:36:42.893 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 37, tp general"] [job="ID:8, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.893 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.894 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 37, tp general"] [job="ID:8, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.893 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.895 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=8]
[2020/02/06 10:36:42.895 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.895 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=3] [neededSchemaVersion=4] ["start time"=167.02µs] [tblIDs="[7]"]
[2020/02/06 10:36:42.896 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:10, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.895 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.help_topic (\n  \t\thelp_topic_id int(10) unsigned NOT NULL,\n  \t\tname char(64) NOT NULL,\n  \t\thelp_category_id smallint(5) unsigned NOT NULL,\n  \t\tdescription text NOT NULL,\n  \t\texample text NOT NULL,\n  \t\turl text NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id),\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"]
[2020/02/06 10:36:42.896 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 37, tp general"] [job="ID:10, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.895 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.897 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 37, tp general"] [job="ID:10, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.895 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.898 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=10]
[2020/02/06 10:36:42.898 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.898 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=4] [neededSchemaVersion=5] ["start time"=230.67µs] [tblIDs="[9]"]
[2020/02/06 10:36:42.899 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:12, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.899 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_meta (\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tcount bigint(64) unsigned NOT NULL DEFAULT 0,\n\t\tindex idx_ver(version),\n\t\tunique index tbl(table_id)\n\t);"]
[2020/02/06 10:36:42.899 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 37, tp general"] [job="ID:12, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.899 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.901 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 37, tp general"] [job="ID:12, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.899 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.901 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=12]
[2020/02/06 10:36:42.901 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.901 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=5] [neededSchemaVersion=6] ["start time"=155.654µs] [tblIDs="[11]"]
[2020/02/06 10:36:42.902 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:14, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.902 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_histograms (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tdistinct_count bigint(64) NOT NULL,\n\t\tnull_count bigint(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size bigint(64) NOT NULL DEFAULT 0,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tversion bigint(64) unsigned NOT NULL DEFAULT 0,\n\t\tcm_sketch blob,\n\t\tstats_ver bigint(64) NOT NULL DEFAULT 0,\n\t\tflag bigint(64) NOT NULL DEFAULT 0,\n\t\tcorrelation double NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos blob DEFAULT NULL,\n\t\tunique index tbl(table_id, is_index, hist_id)\n\t);"]
[2020/02/06 10:36:42.902 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 37, tp general"] [job="ID:14, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.902 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.904 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 37, tp general"] [job="ID:14, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.902 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.904 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=14]
[2020/02/06 10:36:42.904 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.904 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=6] [neededSchemaVersion=7] ["start time"=220.066µs] [tblIDs="[13]"]
[2020/02/06 10:36:42.905 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:16, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.905 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_buckets (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tbucket_id bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\trepeats bigint(64) NOT NULL,\n\t\tupper_bound blob NOT NULL,\n\t\tlower_bound blob ,\n\t\tunique index tbl(table_id, is_index, hist_id, bucket_id)\n\t);"]
[2020/02/06 10:36:42.906 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 37, tp general"] [job="ID:16, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.905 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.908 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 37, tp general"] [job="ID:16, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.905 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.908 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=16]
[2020/02/06 10:36:42.908 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.909 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=7] [neededSchemaVersion=8] ["start time"=208.688µs] [tblIDs="[15]"]
[2020/02/06 10:36:42.909 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:18, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.909 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id BIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id BIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts BIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"]
[2020/02/06 10:36:42.910 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 37, tp general"] [job="ID:18, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.909 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.910 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 37, tp general"] [job="ID:18, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.909 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.911 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=18]
[2020/02/06 10:36:42.911 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.911 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=8] [neededSchemaVersion=9] ["start time"=156.485µs] [tblIDs="[17]"]
[2020/02/06 10:36:42.912 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:20, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.911 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id BIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id BIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts BIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"]
[2020/02/06 10:36:42.912 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 37, tp general"] [job="ID:20, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.911 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.913 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 37, tp general"] [job="ID:20, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.911 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.913 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=20]
[2020/02/06 10:36:42.913 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.914 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=9] [neededSchemaVersion=10] ["start time"=226.667µs] [tblIDs="[19]"]
[2020/02/06 10:36:42.914 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:22, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.914 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_top_n (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tvalue longblob,\n\t\tcount bigint(64) UNSIGNED NOT NULL,\n\t\tindex tbl(table_id, is_index, hist_id)\n\t);"]
[2020/02/06 10:36:42.915 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 37, tp general"] [job="ID:22, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.914 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.916 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 37, tp general"] [job="ID:22, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.914 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.917 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=22]
[2020/02/06 10:36:42.917 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.917 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=10] [neededSchemaVersion=11] ["start time"=350.482µs] [tblIDs="[21]"]
[2020/02/06 10:36:42.944 +08:00] [INFO] [bootstrap.go:153] ["bootstrap successful"] ["take time"=56.656071ms]
[2020/02/06 10:36:42.944 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 37, tp general"] ["take time"=11.791µs]
[2020/02/06 10:36:42.944 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 38, tp add index"] ["take time"=9.575µs]
[2020/02/06 10:36:42.944 +08:00] [INFO] [session_pool.go:85] ["[ddl] closing sessionPool"]
[2020/02/06 10:36:42.944 +08:00] [INFO] [ddl.go:349] ["[ddl] DDL closed"] [ID=a4fdcedc-d917-4543-8686-804db5882b53] ["take time"=111.862µs]
[2020/02/06 10:36:42.944 +08:00] [INFO] [ddl.go:282] ["[ddl] stop DDL"] [ID=a4fdcedc-d917-4543-8686-804db5882b53]
[2020/02/06 10:36:42.944 +08:00] [INFO] [domain.go:456] ["domain closed"] ["take time"=142.927µs]
[2020/02/06 10:36:42.944 +08:00] [INFO] [tidb.go:68] ["new domain"] [store=801ef787-027d-420e-9785-f7b9504722e8] ["ddl lease"=0s] ["stats lease"=-1ns]
[2020/02/06 10:36:42.944 +08:00] [INFO] [ddl.go:289] ["[ddl] start DDL"] [ID=82461d6e-511a-4856-a895-d00baef3d47b]
[2020/02/06 10:36:42.944 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 39, tp general"]
[2020/02/06 10:36:42.944 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 40, tp add index"]
[2020/02/06 10:36:42.956 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=11] ["start time"=9.029374ms]
[2020/02/06 10:36:42.956 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:42.961 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:24, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:23, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.961 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create table t(a int, b int)"]
[2020/02/06 10:36:42.962 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 39, tp general"] [job="ID:24, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:23, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.961 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.964 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 39, tp general"] [job="ID:24, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:23, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.961 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.964 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=24]
[2020/02/06 10:36:42.965 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.965 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=11] [neededSchemaVersion=12] ["start time"=176.068µs] [tblIDs="[23]"]
[2020/02/06 10:36:42.966 +08:00] [WARN] [session.go:803] ["compile SQL failed"] [error="[planner:8123]In aggregated query without GROUP BY, expression #1 of SELECT list contains nonaggregated column 'a'; this is incompatible with sql_mode=only_full_group_by"] [errorVerbose="[planner:8123]In aggregated query without GROUP BY, expression #1 of SELECT list contains nonaggregated column 'a'; this is incompatible with sql_mode=only_full_group_by\ngithub.com/pingcap/errors.AddStack\n\t/home/aliv/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20190809092503-95897b64e011/errors.go:174\ngithub.com/pingcap/tidb/parser/terror.(*Error).GenWithStackByArgs\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/terror/terror.go:240\ngithub.com/pingcap/tidb/planner/core.(*colResolverForOnlyFullGroupBy).Check\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/logical_plan_builder.go:1670\ngithub.com/pingcap/tidb/planner/core.(*PlanBuilder).checkOnlyFullGroupByWithOutGroupClause\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/logical_plan_builder.go:1625\ngithub.com/pingcap/tidb/planner/core.(*PlanBuilder).checkOnlyFullGroupBy\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/logical_plan_builder.go:1556\ngithub.com/pingcap/tidb/planner/core.(*PlanBuilder).buildSelect\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/logical_plan_builder.go:1922\ngithub.com/pingcap/tidb/planner/core.(*PlanBuilder).buildResultSetNode\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/logical_plan_builder.go:198\ngithub.com/pingcap/tidb/planner/core.(*expressionRewriter).buildSubquery\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/expression_rewriter.go:272\ngithub.com/pingcap/tidb/planner/core.(*expressionRewriter).handleScalarSubquery\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/expression_rewriter.go:804\ngithub.com/pingcap/tidb/planner/core.(*expressionRewriter).Enter\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/expression_rewriter.go:326\ngithub.com/pingcap/tidb/parser/ast.(*SubqueryExpr).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/expressions.go:319\ngithub.com/pingcap/tidb/planner/core.(*PlanBuilder).rewriteExprNode\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/expression_rewriter.go:144\ngithub.com/pingcap/tidb/planner/core.(*PlanBuilder).rewriteWithPreprocess\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/expression_rewriter.go:93\ngithub.com/pingcap/tidb/planner/core.(*PlanBuilder).buildProjection\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/logical_plan_builder.go:797\ngithub.com/pingcap/tidb/planner/core.(*PlanBuilder).buildSelect\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/logical_plan_builder.go:1962\ngithub.com/pingcap/tidb/planner/core.(*PlanBuilder).Build\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/planbuilder.go:289\ngithub.com/pingcap/tidb/planner.Optimize\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/optimize.go:36\ngithub.com/pingcap/tidb/executor.(*Compiler).Compile\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/compiler.go:38\ngithub.com/pingcap/tidb/session.(*session).execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:800\ngithub.com/pingcap/tidb/session.(*session).Execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:760\ngithub.com/pingcap/tidb/util/testkit.(*TestKit).Exec\n\t/home/aliv/go/src/github.com/pingcap/tinysql/util/testkit/testkit.go:142\ngithub.com/pingcap/tidb/util/testkit.(*TestKit).ExecToErr\n\t/home/aliv/go/src/github.com/pingcap/tinysql/util/testkit/testkit.go:221\ngithub.com/pingcap/tidb/planner/core_test.(*testExpressionRewriterSuite).TestCheckFullGroupBy\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/expression_rewriter_test.go:139\nreflect.Value.call\n\t/usr/lib/go/src/reflect/value.go:460\nreflect.Value.Call\n\t/usr/lib/go/src/reflect/value.go:321\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:854\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:739\nruntime.goexit\n\t/usr/lib/go/src/runtime/asm_amd64.s:1357"] [SQL="select t1.a, (select t2.a, max(t2.b) from t t2) from t t1"]
[2020/02/06 10:36:42.966 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 40, tp add index"] ["take time"=14.353µs]
[2020/02/06 10:36:42.966 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 39, tp general"] ["take time"=8.997µs]
[2020/02/06 10:36:42.966 +08:00] [INFO] [session_pool.go:85] ["[ddl] closing sessionPool"]
[2020/02/06 10:36:42.966 +08:00] [INFO] [ddl.go:349] ["[ddl] DDL closed"] [ID=82461d6e-511a-4856-a895-d00baef3d47b] ["take time"=83.119µs]
[2020/02/06 10:36:42.966 +08:00] [INFO] [ddl.go:282] ["[ddl] stop DDL"] [ID=82461d6e-511a-4856-a895-d00baef3d47b]
[2020/02/06 10:36:42.966 +08:00] [INFO] [domain.go:456] ["domain closed"] ["take time"=111.71µs]
PASS: expression_rewriter_test.go:126: testExpressionRewriterSuite.TestCheckFullGroupBy	0.081s
[2020/02/06 10:36:42.968 +08:00] [INFO] [tidb.go:68] ["new domain"] [store=eeb73afe-4651-480d-b435-efb0e0abe13f] ["ddl lease"=0s] ["stats lease"=-1ns]
[2020/02/06 10:36:42.968 +08:00] [INFO] [ddl.go:289] ["[ddl] start DDL"] [ID=a21080cd-160e-424a-aadc-881047a4e5f6]
[2020/02/06 10:36:42.968 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 41, tp general"]
[2020/02/06 10:36:42.968 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 42, tp add index"]
[2020/02/06 10:36:42.968 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=0] ["start time"=138.13µs]
[2020/02/06 10:36:42.969 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:42.969 +08:00] [INFO] [tidb.go:171] ["rollbackTxn for ddl/autocommit failed"]
[2020/02/06 10:36:42.969 +08:00] [WARN] [session.go:736] ["run statement failed"] [schemaVersion=0] [error="[schema:1049]Unknown database 'mysql'"] [errorVerbose="[schema:1049]Unknown database 'mysql'\ngithub.com/pingcap/errors.AddStack\n\t/home/aliv/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20190809092503-95897b64e011/errors.go:174\ngithub.com/pingcap/tidb/parser/terror.(*Error).GenWithStackByArgs\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/terror/terror.go:240\ngithub.com/pingcap/tidb/executor.(*SimpleExec).executeUse\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/simple.go:66\ngithub.com/pingcap/tidb/executor.(*SimpleExec).Next\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/simple.go:49\ngithub.com/pingcap/tidb/executor.Next\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/executor.go:175\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelayExecutor\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:271\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelay\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:237\ngithub.com/pingcap/tidb/executor.(*ExecStmt).Exec\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:208\ngithub.com/pingcap/tidb/session.runStmt\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/tidb.go:219\ngithub.com/pingcap/tidb/session.(*session).executeStatement\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:733\ngithub.com/pingcap/tidb/session.(*session).execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:812\ngithub.com/pingcap/tidb/session.(*session).Execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:760\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:175\ngithub.com/pingcap/tidb/session.bootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:143\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:1021\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:982\ngithub.com/pingcap/tidb/planner/core_test.newStoreWithBootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/cbo_test.go:270\ngithub.com/pingcap/tidb/planner/core_test.(*testExpressionRewriterSuite).TestCompareSubquery\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/expression_rewriter_test.go:66\nreflect.Value.call\n\t/usr/lib/go/src/reflect/value.go:460\nreflect.Value.Call\n\t/usr/lib/go/src/reflect/value.go:321\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:854\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:739\nruntime.goexit\n\t/usr/lib/go/src/runtime/asm_amd64.s:1357"] [session="{\n  \"currDBName\": \"\",\n  \"id\": 0,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": \"\"\n}"]
[2020/02/06 10:36:42.969 +08:00] [WARN] [session.go:803] ["compile SQL failed"] [error="[schema:1146]Table 'mysql.tidb' doesn't exist"] [errorVerbose="[schema:1146]Table 'mysql.tidb' doesn't exist\ngithub.com/pingcap/errors.AddStack\n\t/home/aliv/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20190809092503-95897b64e011/errors.go:174\ngithub.com/pingcap/tidb/parser/terror.(*Error).GenWithStackByArgs\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/terror/terror.go:240\ngithub.com/pingcap/tidb/infoschema.(*infoSchema).TableByName\n\t/home/aliv/go/src/github.com/pingcap/tinysql/infoschema/infoschema.go:171\ngithub.com/pingcap/tidb/planner/core.(*preprocessor).handleTableName\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:650\ngithub.com/pingcap/tidb/planner/core.(*preprocessor).Leave\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:133\ngithub.com/pingcap/tidb/parser/ast.(*TableName).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:294\ngithub.com/pingcap/tidb/parser/ast.(*TableSource).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:431\ngithub.com/pingcap/tidb/parser/ast.(*Join).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:142\ngithub.com/pingcap/tidb/parser/ast.(*TableRefsClause).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:612\ngithub.com/pingcap/tidb/parser/ast.(*SelectStmt).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:931\ngithub.com/pingcap/tidb/planner/core.Preprocess\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:48\ngithub.com/pingcap/tidb/executor.(*Compiler).Compile\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/compiler.go:34\ngithub.com/pingcap/tidb/session.(*session).execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:800\ngithub.com/pingcap/tidb/session.(*session).Execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:760\ngithub.com/pingcap/tidb/session.getTiDBVar\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:204\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:181\ngithub.com/pingcap/tidb/session.bootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:143\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:1021\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:982\ngithub.com/pingcap/tidb/planner/core_test.newStoreWithBootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/cbo_test.go:270\ngithub.com/pingcap/tidb/planner/core_test.(*testExpressionRewriterSuite).TestCompareSubquery\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/expression_rewriter_test.go:66\nreflect.Value.call\n\t/usr/lib/go/src/reflect/value.go:460\nreflect.Value.Call\n\t/usr/lib/go/src/reflect/value.go:321\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:854\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:739\nruntime.goexit\n\t/usr/lib/go/src/runtime/asm_amd64.s:1357"] [SQL="SELECT HIGH_PRIORITY VARIABLE_VALUE FROM mysql.tidb WHERE VARIABLE_NAME=\"bootstrapped\""]
[2020/02/06 10:36:42.970 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:2, Type:create schema, State:none, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.97 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS test"]
[2020/02/06 10:36:42.970 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 41, tp general"] [job="ID:2, Type:create schema, State:none, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.97 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.971 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 41, tp general"] [job="ID:2, Type:create schema, State:synced, SchemaState:public, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.97 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.972 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=2]
[2020/02/06 10:36:42.972 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.972 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=1] ["start time"=442.359µs]
[2020/02/06 10:36:42.972 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:42.973 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:4, Type:create schema, State:none, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.973 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS mysql;"]
[2020/02/06 10:36:42.973 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 41, tp general"] [job="ID:4, Type:create schema, State:none, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.973 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.975 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 41, tp general"] [job="ID:4, Type:create schema, State:synced, SchemaState:public, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.973 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.976 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=4]
[2020/02/06 10:36:42.976 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.976 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=1] [neededSchemaVersion=2] ["start time"=415.185µs] [tblIDs="[]"]
[2020/02/06 10:36:42.977 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:6, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.977 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) Not Null PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT Null);"]
[2020/02/06 10:36:42.978 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 41, tp general"] [job="ID:6, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.977 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.979 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 41, tp general"] [job="ID:6, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.977 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.979 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=6]
[2020/02/06 10:36:42.979 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.979 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=2] [neededSchemaVersion=3] ["start time"=119.737µs] [tblIDs="[5]"]
[2020/02/06 10:36:42.980 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:8, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.979 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.tidb(\n\t\tVARIABLE_NAME  VARCHAR(64) Not Null PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT Null,\n\t\tCOMMENT VARCHAR(1024));"]
[2020/02/06 10:36:42.980 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 41, tp general"] [job="ID:8, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.979 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.981 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 41, tp general"] [job="ID:8, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.979 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.981 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=8]
[2020/02/06 10:36:42.981 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.981 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=3] [neededSchemaVersion=4] ["start time"=195.464µs] [tblIDs="[7]"]
[2020/02/06 10:36:42.982 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:10, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.982 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.help_topic (\n  \t\thelp_topic_id int(10) unsigned NOT NULL,\n  \t\tname char(64) NOT NULL,\n  \t\thelp_category_id smallint(5) unsigned NOT NULL,\n  \t\tdescription text NOT NULL,\n  \t\texample text NOT NULL,\n  \t\turl text NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id),\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"]
[2020/02/06 10:36:42.982 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 41, tp general"] [job="ID:10, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.982 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.984 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 41, tp general"] [job="ID:10, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.982 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.985 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=10]
[2020/02/06 10:36:42.985 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.985 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=4] [neededSchemaVersion=5] ["start time"=372.214µs] [tblIDs="[9]"]
[2020/02/06 10:36:42.986 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:12, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.986 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_meta (\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tcount bigint(64) unsigned NOT NULL DEFAULT 0,\n\t\tindex idx_ver(version),\n\t\tunique index tbl(table_id)\n\t);"]
[2020/02/06 10:36:42.987 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 41, tp general"] [job="ID:12, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.986 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.988 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 41, tp general"] [job="ID:12, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.986 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.989 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=12]
[2020/02/06 10:36:42.989 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.990 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=5] [neededSchemaVersion=6] ["start time"=432.134µs] [tblIDs="[11]"]
[2020/02/06 10:36:42.991 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:14, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.99 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_histograms (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tdistinct_count bigint(64) NOT NULL,\n\t\tnull_count bigint(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size bigint(64) NOT NULL DEFAULT 0,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tversion bigint(64) unsigned NOT NULL DEFAULT 0,\n\t\tcm_sketch blob,\n\t\tstats_ver bigint(64) NOT NULL DEFAULT 0,\n\t\tflag bigint(64) NOT NULL DEFAULT 0,\n\t\tcorrelation double NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos blob DEFAULT NULL,\n\t\tunique index tbl(table_id, is_index, hist_id)\n\t);"]
[2020/02/06 10:36:42.991 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 41, tp general"] [job="ID:14, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.99 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.994 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 41, tp general"] [job="ID:14, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.99 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.995 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=14]
[2020/02/06 10:36:42.995 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.995 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=6] [neededSchemaVersion=7] ["start time"=294.074µs] [tblIDs="[13]"]
[2020/02/06 10:36:42.996 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:16, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.995 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_buckets (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tbucket_id bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\trepeats bigint(64) NOT NULL,\n\t\tupper_bound blob NOT NULL,\n\t\tlower_bound blob ,\n\t\tunique index tbl(table_id, is_index, hist_id, bucket_id)\n\t);"]
[2020/02/06 10:36:42.996 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 41, tp general"] [job="ID:16, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.995 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.997 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 41, tp general"] [job="ID:16, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.995 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:42.998 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=16]
[2020/02/06 10:36:42.998 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:42.998 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=7] [neededSchemaVersion=8] ["start time"=184.394µs] [tblIDs="[15]"]
[2020/02/06 10:36:42.999 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:18, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:42.998 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id BIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id BIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts BIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"]
[2020/02/06 10:36:42.999 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 41, tp general"] [job="ID:18, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.998 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.000 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 41, tp general"] [job="ID:18, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:42.998 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.001 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=18]
[2020/02/06 10:36:43.001 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.002 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=8] [neededSchemaVersion=9] ["start time"=589.048µs] [tblIDs="[17]"]
[2020/02/06 10:36:43.003 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:20, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.003 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id BIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id BIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts BIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"]
[2020/02/06 10:36:43.004 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 41, tp general"] [job="ID:20, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.003 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.006 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 41, tp general"] [job="ID:20, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.003 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.008 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=20]
[2020/02/06 10:36:43.008 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.008 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=9] [neededSchemaVersion=10] ["start time"=313.266µs] [tblIDs="[19]"]
[2020/02/06 10:36:43.009 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:22, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.009 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_top_n (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tvalue longblob,\n\t\tcount bigint(64) UNSIGNED NOT NULL,\n\t\tindex tbl(table_id, is_index, hist_id)\n\t);"]
[2020/02/06 10:36:43.010 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 41, tp general"] [job="ID:22, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.009 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.011 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 41, tp general"] [job="ID:22, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.009 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.012 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=22]
[2020/02/06 10:36:43.012 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.012 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=10] [neededSchemaVersion=11] ["start time"=267.562µs] [tblIDs="[21]"]
[2020/02/06 10:36:43.043 +08:00] [INFO] [bootstrap.go:153] ["bootstrap successful"] ["take time"=74.222887ms]
[2020/02/06 10:36:43.043 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 41, tp general"] ["take time"=8.313µs]
[2020/02/06 10:36:43.043 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 42, tp add index"] ["take time"=5.017µs]
[2020/02/06 10:36:43.043 +08:00] [INFO] [session_pool.go:85] ["[ddl] closing sessionPool"]
[2020/02/06 10:36:43.043 +08:00] [INFO] [ddl.go:349] ["[ddl] DDL closed"] [ID=a21080cd-160e-424a-aadc-881047a4e5f6] ["take time"=81.458µs]
[2020/02/06 10:36:43.043 +08:00] [INFO] [ddl.go:282] ["[ddl] stop DDL"] [ID=a21080cd-160e-424a-aadc-881047a4e5f6]
[2020/02/06 10:36:43.043 +08:00] [INFO] [domain.go:456] ["domain closed"] ["take time"=104.93µs]
[2020/02/06 10:36:43.043 +08:00] [INFO] [tidb.go:68] ["new domain"] [store=eeb73afe-4651-480d-b435-efb0e0abe13f] ["ddl lease"=0s] ["stats lease"=-1ns]
[2020/02/06 10:36:43.043 +08:00] [INFO] [ddl.go:289] ["[ddl] start DDL"] [ID=28563c79-0e5d-4853-8a9a-78c38c91c2df]
[2020/02/06 10:36:43.043 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 43, tp general"]
[2020/02/06 10:36:43.043 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 44, tp add index"]
[2020/02/06 10:36:43.057 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=11] ["start time"=5.487414ms]
[2020/02/06 10:36:43.057 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:43.063 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:24, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:23, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.062 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create table t(a int, b int)"]
[2020/02/06 10:36:43.063 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 43, tp general"] [job="ID:24, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:23, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.062 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.064 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 43, tp general"] [job="ID:24, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:23, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.062 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.065 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=24]
[2020/02/06 10:36:43.065 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.065 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=11] [neededSchemaVersion=12] ["start time"=163.099µs] [tblIDs="[23]"]
[2020/02/06 10:36:43.065 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:26, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:25, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.065 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create table s(a int, b int)"]
[2020/02/06 10:36:43.066 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 43, tp general"] [job="ID:26, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:25, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.065 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.067 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 43, tp general"] [job="ID:26, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:25, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.065 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.067 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=26]
[2020/02/06 10:36:43.068 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.068 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=12] [neededSchemaVersion=13] ["start time"=314.319µs] [tblIDs="[25]"]
[2020/02/06 10:36:43.098 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 43, tp general"] ["take time"=3.611µs]
[2020/02/06 10:36:43.098 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 44, tp add index"] ["take time"=6.181µs]
[2020/02/06 10:36:43.098 +08:00] [INFO] [session_pool.go:85] ["[ddl] closing sessionPool"]
[2020/02/06 10:36:43.098 +08:00] [INFO] [ddl.go:349] ["[ddl] DDL closed"] [ID=28563c79-0e5d-4853-8a9a-78c38c91c2df] ["take time"=78.396µs]
[2020/02/06 10:36:43.098 +08:00] [INFO] [ddl.go:282] ["[ddl] stop DDL"] [ID=28563c79-0e5d-4853-8a9a-78c38c91c2df]
[2020/02/06 10:36:43.098 +08:00] [INFO] [domain.go:456] ["domain closed"] ["take time"=96.926µs]
PASS: expression_rewriter_test.go:64: testExpressionRewriterSuite.TestCompareSubquery	0.132s
[2020/02/06 10:36:43.101 +08:00] [INFO] [tidb.go:68] ["new domain"] [store=76c70aa2-0d05-4931-915f-32480ded07d6] ["ddl lease"=0s] ["stats lease"=-1ns]
[2020/02/06 10:36:43.101 +08:00] [INFO] [ddl.go:289] ["[ddl] start DDL"] [ID=75060eb0-6f31-44d5-b178-1840505f3497]
[2020/02/06 10:36:43.101 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 45, tp general"]
[2020/02/06 10:36:43.101 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 46, tp add index"]
[2020/02/06 10:36:43.101 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=0] ["start time"=105.248µs]
[2020/02/06 10:36:43.101 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:43.101 +08:00] [INFO] [tidb.go:171] ["rollbackTxn for ddl/autocommit failed"]
[2020/02/06 10:36:43.101 +08:00] [WARN] [session.go:736] ["run statement failed"] [schemaVersion=0] [error="[schema:1049]Unknown database 'mysql'"] [errorVerbose="[schema:1049]Unknown database 'mysql'\ngithub.com/pingcap/errors.AddStack\n\t/home/aliv/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20190809092503-95897b64e011/errors.go:174\ngithub.com/pingcap/tidb/parser/terror.(*Error).GenWithStackByArgs\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/terror/terror.go:240\ngithub.com/pingcap/tidb/executor.(*SimpleExec).executeUse\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/simple.go:66\ngithub.com/pingcap/tidb/executor.(*SimpleExec).Next\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/simple.go:49\ngithub.com/pingcap/tidb/executor.Next\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/executor.go:175\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelayExecutor\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:271\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelay\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:237\ngithub.com/pingcap/tidb/executor.(*ExecStmt).Exec\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:208\ngithub.com/pingcap/tidb/session.runStmt\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/tidb.go:219\ngithub.com/pingcap/tidb/session.(*session).executeStatement\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:733\ngithub.com/pingcap/tidb/session.(*session).execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:812\ngithub.com/pingcap/tidb/session.(*session).Execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:760\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:175\ngithub.com/pingcap/tidb/session.bootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:143\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:1021\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:982\ngithub.com/pingcap/tidb/planner/core_test.newStoreWithBootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/cbo_test.go:270\ngithub.com/pingcap/tidb/planner/core_test.(*testExpressionRewriterSuite).TestIfNullEliminateColName\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/expression_rewriter_test.go:31\nreflect.Value.call\n\t/usr/lib/go/src/reflect/value.go:460\nreflect.Value.Call\n\t/usr/lib/go/src/reflect/value.go:321\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:854\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:739\nruntime.goexit\n\t/usr/lib/go/src/runtime/asm_amd64.s:1357"] [session="{\n  \"currDBName\": \"\",\n  \"id\": 0,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": \"\"\n}"]
[2020/02/06 10:36:43.101 +08:00] [WARN] [session.go:803] ["compile SQL failed"] [error="[schema:1146]Table 'mysql.tidb' doesn't exist"] [errorVerbose="[schema:1146]Table 'mysql.tidb' doesn't exist\ngithub.com/pingcap/errors.AddStack\n\t/home/aliv/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20190809092503-95897b64e011/errors.go:174\ngithub.com/pingcap/tidb/parser/terror.(*Error).GenWithStackByArgs\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/terror/terror.go:240\ngithub.com/pingcap/tidb/infoschema.(*infoSchema).TableByName\n\t/home/aliv/go/src/github.com/pingcap/tinysql/infoschema/infoschema.go:171\ngithub.com/pingcap/tidb/planner/core.(*preprocessor).handleTableName\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:650\ngithub.com/pingcap/tidb/planner/core.(*preprocessor).Leave\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:133\ngithub.com/pingcap/tidb/parser/ast.(*TableName).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:294\ngithub.com/pingcap/tidb/parser/ast.(*TableSource).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:431\ngithub.com/pingcap/tidb/parser/ast.(*Join).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:142\ngithub.com/pingcap/tidb/parser/ast.(*TableRefsClause).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:612\ngithub.com/pingcap/tidb/parser/ast.(*SelectStmt).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:931\ngithub.com/pingcap/tidb/planner/core.Preprocess\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:48\ngithub.com/pingcap/tidb/executor.(*Compiler).Compile\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/compiler.go:34\ngithub.com/pingcap/tidb/session.(*session).execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:800\ngithub.com/pingcap/tidb/session.(*session).Execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:760\ngithub.com/pingcap/tidb/session.getTiDBVar\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:204\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:181\ngithub.com/pingcap/tidb/session.bootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:143\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:1021\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:982\ngithub.com/pingcap/tidb/planner/core_test.newStoreWithBootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/cbo_test.go:270\ngithub.com/pingcap/tidb/planner/core_test.(*testExpressionRewriterSuite).TestIfNullEliminateColName\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/expression_rewriter_test.go:31\nreflect.Value.call\n\t/usr/lib/go/src/reflect/value.go:460\nreflect.Value.Call\n\t/usr/lib/go/src/reflect/value.go:321\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:854\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:739\nruntime.goexit\n\t/usr/lib/go/src/runtime/asm_amd64.s:1357"] [SQL="SELECT HIGH_PRIORITY VARIABLE_VALUE FROM mysql.tidb WHERE VARIABLE_NAME=\"bootstrapped\""]
[2020/02/06 10:36:43.102 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:2, Type:create schema, State:none, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.102 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS test"]
[2020/02/06 10:36:43.102 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 45, tp general"] [job="ID:2, Type:create schema, State:none, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.102 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.103 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 45, tp general"] [job="ID:2, Type:create schema, State:synced, SchemaState:public, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.102 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.103 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=2]
[2020/02/06 10:36:43.103 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.104 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=1] ["start time"=288.244µs]
[2020/02/06 10:36:43.104 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:43.104 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:4, Type:create schema, State:none, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.104 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS mysql;"]
[2020/02/06 10:36:43.104 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 45, tp general"] [job="ID:4, Type:create schema, State:none, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.104 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.105 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 45, tp general"] [job="ID:4, Type:create schema, State:synced, SchemaState:public, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.104 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.106 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=4]
[2020/02/06 10:36:43.106 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.106 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=1] [neededSchemaVersion=2] ["start time"=66.642µs] [tblIDs="[]"]
[2020/02/06 10:36:43.107 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:6, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.106 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) Not Null PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT Null);"]
[2020/02/06 10:36:43.107 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 45, tp general"] [job="ID:6, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.106 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.108 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 45, tp general"] [job="ID:6, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.106 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.108 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=6]
[2020/02/06 10:36:43.108 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.108 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=2] [neededSchemaVersion=3] ["start time"=108.369µs] [tblIDs="[5]"]
[2020/02/06 10:36:43.108 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:8, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.108 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.tidb(\n\t\tVARIABLE_NAME  VARCHAR(64) Not Null PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT Null,\n\t\tCOMMENT VARCHAR(1024));"]
[2020/02/06 10:36:43.109 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 45, tp general"] [job="ID:8, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.108 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.109 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 45, tp general"] [job="ID:8, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.108 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.110 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=8]
[2020/02/06 10:36:43.110 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.110 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=3] [neededSchemaVersion=4] ["start time"=115.956µs] [tblIDs="[7]"]
[2020/02/06 10:36:43.110 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:10, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.11 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.help_topic (\n  \t\thelp_topic_id int(10) unsigned NOT NULL,\n  \t\tname char(64) NOT NULL,\n  \t\thelp_category_id smallint(5) unsigned NOT NULL,\n  \t\tdescription text NOT NULL,\n  \t\texample text NOT NULL,\n  \t\turl text NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id),\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"]
[2020/02/06 10:36:43.111 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 45, tp general"] [job="ID:10, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.11 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.112 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 45, tp general"] [job="ID:10, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.11 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.112 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=10]
[2020/02/06 10:36:43.112 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.112 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=4] [neededSchemaVersion=5] ["start time"=189.111µs] [tblIDs="[9]"]
[2020/02/06 10:36:43.113 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:12, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.112 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_meta (\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tcount bigint(64) unsigned NOT NULL DEFAULT 0,\n\t\tindex idx_ver(version),\n\t\tunique index tbl(table_id)\n\t);"]
[2020/02/06 10:36:43.113 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 45, tp general"] [job="ID:12, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.112 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.114 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 45, tp general"] [job="ID:12, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.112 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.114 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=12]
[2020/02/06 10:36:43.114 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.114 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=5] [neededSchemaVersion=6] ["start time"=137.292µs] [tblIDs="[11]"]
[2020/02/06 10:36:43.115 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:14, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.115 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_histograms (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tdistinct_count bigint(64) NOT NULL,\n\t\tnull_count bigint(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size bigint(64) NOT NULL DEFAULT 0,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tversion bigint(64) unsigned NOT NULL DEFAULT 0,\n\t\tcm_sketch blob,\n\t\tstats_ver bigint(64) NOT NULL DEFAULT 0,\n\t\tflag bigint(64) NOT NULL DEFAULT 0,\n\t\tcorrelation double NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos blob DEFAULT NULL,\n\t\tunique index tbl(table_id, is_index, hist_id)\n\t);"]
[2020/02/06 10:36:43.115 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 45, tp general"] [job="ID:14, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.115 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.117 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 45, tp general"] [job="ID:14, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.115 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.119 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=14]
[2020/02/06 10:36:43.120 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.120 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=6] [neededSchemaVersion=7] ["start time"=350.155µs] [tblIDs="[13]"]
[2020/02/06 10:36:43.121 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:16, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.121 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_buckets (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tbucket_id bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\trepeats bigint(64) NOT NULL,\n\t\tupper_bound blob NOT NULL,\n\t\tlower_bound blob ,\n\t\tunique index tbl(table_id, is_index, hist_id, bucket_id)\n\t);"]
[2020/02/06 10:36:43.122 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 45, tp general"] [job="ID:16, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.121 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.124 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 45, tp general"] [job="ID:16, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.121 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.124 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=16]
[2020/02/06 10:36:43.124 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.125 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=7] [neededSchemaVersion=8] ["start time"=182.91µs] [tblIDs="[15]"]
[2020/02/06 10:36:43.125 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:18, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.125 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id BIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id BIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts BIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"]
[2020/02/06 10:36:43.125 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 45, tp general"] [job="ID:18, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.125 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.126 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 45, tp general"] [job="ID:18, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.125 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.127 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=18]
[2020/02/06 10:36:43.127 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.127 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=8] [neededSchemaVersion=9] ["start time"=167.956µs] [tblIDs="[17]"]
[2020/02/06 10:36:43.127 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:20, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.127 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id BIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id BIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts BIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"]
[2020/02/06 10:36:43.128 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 45, tp general"] [job="ID:20, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.127 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.129 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 45, tp general"] [job="ID:20, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.127 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.129 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=20]
[2020/02/06 10:36:43.129 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.129 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=9] [neededSchemaVersion=10] ["start time"=146.267µs] [tblIDs="[19]"]
[2020/02/06 10:36:43.130 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:22, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.129 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_top_n (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tvalue longblob,\n\t\tcount bigint(64) UNSIGNED NOT NULL,\n\t\tindex tbl(table_id, is_index, hist_id)\n\t);"]
[2020/02/06 10:36:43.130 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 45, tp general"] [job="ID:22, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.129 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.131 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 45, tp general"] [job="ID:22, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.129 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.131 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=22]
[2020/02/06 10:36:43.131 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.131 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=10] [neededSchemaVersion=11] ["start time"=136.838µs] [tblIDs="[21]"]
[2020/02/06 10:36:43.155 +08:00] [INFO] [bootstrap.go:153] ["bootstrap successful"] ["take time"=54.124085ms]
[2020/02/06 10:36:43.155 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 45, tp general"] ["take time"=5.825µs]
[2020/02/06 10:36:43.155 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 46, tp add index"] ["take time"=2.719µs]
[2020/02/06 10:36:43.155 +08:00] [INFO] [session_pool.go:85] ["[ddl] closing sessionPool"]
[2020/02/06 10:36:43.155 +08:00] [INFO] [ddl.go:349] ["[ddl] DDL closed"] [ID=75060eb0-6f31-44d5-b178-1840505f3497] ["take time"=41.266µs]
[2020/02/06 10:36:43.155 +08:00] [INFO] [ddl.go:282] ["[ddl] stop DDL"] [ID=75060eb0-6f31-44d5-b178-1840505f3497]
[2020/02/06 10:36:43.155 +08:00] [INFO] [domain.go:456] ["domain closed"] ["take time"=57.299µs]
[2020/02/06 10:36:43.155 +08:00] [INFO] [tidb.go:68] ["new domain"] [store=76c70aa2-0d05-4931-915f-32480ded07d6] ["ddl lease"=0s] ["stats lease"=-1ns]
[2020/02/06 10:36:43.155 +08:00] [INFO] [ddl.go:289] ["[ddl] start DDL"] [ID=6b39f4cd-a86c-45bc-9f9f-01a08dc31b60]
[2020/02/06 10:36:43.155 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 47, tp general"]
[2020/02/06 10:36:43.155 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 48, tp add index"]
[2020/02/06 10:36:43.161 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=11] ["start time"=2.146607ms]
[2020/02/06 10:36:43.161 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:43.163 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:24, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:23, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.163 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create table t(a int not null, b int not null)"]
[2020/02/06 10:36:43.164 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 47, tp general"] [job="ID:24, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:23, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.163 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.164 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 47, tp general"] [job="ID:24, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:23, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.163 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.164 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=24]
[2020/02/06 10:36:43.165 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.165 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=11] [neededSchemaVersion=12] ["start time"=75.066µs] [tblIDs="[23]"]
[2020/02/06 10:36:43.165 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 47, tp general"] ["take time"=3.248µs]
[2020/02/06 10:36:43.165 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 48, tp add index"] ["take time"=2.332µs]
[2020/02/06 10:36:43.165 +08:00] [INFO] [session_pool.go:85] ["[ddl] closing sessionPool"]
[2020/02/06 10:36:43.165 +08:00] [INFO] [ddl.go:349] ["[ddl] DDL closed"] [ID=6b39f4cd-a86c-45bc-9f9f-01a08dc31b60] ["take time"=32.859µs]
[2020/02/06 10:36:43.165 +08:00] [INFO] [ddl.go:282] ["[ddl] stop DDL"] [ID=6b39f4cd-a86c-45bc-9f9f-01a08dc31b60]
[2020/02/06 10:36:43.165 +08:00] [INFO] [domain.go:456] ["domain closed"] ["take time"=47.306µs]
PASS: expression_rewriter_test.go:29: testExpressionRewriterSuite.TestIfNullEliminateColName	0.067s
[2020/02/06 10:36:43.165 +08:00] [ERROR] [mvcc_leveldb.go:366] ["seek to next key error"] [error="leveldb: closed"] [stack="github.com/pingcap/tidb/store/mockstore/mocktikv.(*MVCCLevelDB).Scan\n\t/home/aliv/go/src/github.com/pingcap/tinysql/store/mockstore/mocktikv/mvcc_leveldb.go:366\ngithub.com/pingcap/tidb/store/mockstore/mocktikv.(*tableScanExec).getRowFromRange\n\t/home/aliv/go/src/github.com/pingcap/tinysql/store/mockstore/mocktikv/executor.go:158\ngithub.com/pingcap/tidb/store/mockstore/mocktikv.(*tableScanExec).Next\n\t/home/aliv/go/src/github.com/pingcap/tinysql/store/mockstore/mocktikv/executor.go:108\ngithub.com/pingcap/tidb/store/mockstore/mocktikv.(*rpcHandler).handleCopDAGRequest\n\t/home/aliv/go/src/github.com/pingcap/tinysql/store/mockstore/mocktikv/cop_handler_dag.go:64\ngithub.com/pingcap/tidb/store/mockstore/mocktikv.(*RPCClient).SendRequest\n\t/home/aliv/go/src/github.com/pingcap/tinysql/store/mockstore/mocktikv/rpc.go:598\ngithub.com/pingcap/tidb/store/tikv.(*RegionRequestSender).sendReqToRegion\n\t/home/aliv/go/src/github.com/pingcap/tinysql/store/tikv/region_request.go:148\ngithub.com/pingcap/tidb/store/tikv.(*RegionRequestSender).SendReqCtx\n\t/home/aliv/go/src/github.com/pingcap/tinysql/store/tikv/region_request.go:118\ngithub.com/pingcap/tidb/store/tikv.(*clientHelper).SendReqCtx\n\t/home/aliv/go/src/github.com/pingcap/tinysql/store/tikv/coprocessor.go:695\ngithub.com/pingcap/tidb/store/tikv.(*copIteratorWorker).handleTaskOnce\n\t/home/aliv/go/src/github.com/pingcap/tinysql/store/tikv/coprocessor.go:620\ngithub.com/pingcap/tidb/store/tikv.(*copIteratorWorker).handleTask\n\t/home/aliv/go/src/github.com/pingcap/tinysql/store/tikv/coprocessor.go:585\ngithub.com/pingcap/tidb/store/tikv.(*copIteratorWorker).run\n\t/home/aliv/go/src/github.com/pingcap/tinysql/store/tikv/coprocessor.go:415"]
[2020/02/06 10:36:43.165 +08:00] [WARN] [coprocessor.go:738] ["other error"] [txnStartTS=414438287780085761] [regionID=3] [storeAddr=store1] [error="other error: leveldb: closed"] [errorVerbose="other error: leveldb: closed\ngithub.com/pingcap/tidb/store/tikv.(*copIteratorWorker).handleCopResponse\n\t/home/aliv/go/src/github.com/pingcap/tinysql/store/tikv/coprocessor.go:737\ngithub.com/pingcap/tidb/store/tikv.(*copIteratorWorker).handleTaskOnce\n\t/home/aliv/go/src/github.com/pingcap/tinysql/store/tikv/coprocessor.go:631\ngithub.com/pingcap/tidb/store/tikv.(*copIteratorWorker).handleTask\n\t/home/aliv/go/src/github.com/pingcap/tinysql/store/tikv/coprocessor.go:585\ngithub.com/pingcap/tidb/store/tikv.(*copIteratorWorker).run\n\t/home/aliv/go/src/github.com/pingcap/tinysql/store/tikv/coprocessor.go:415\nruntime.goexit\n\t/usr/lib/go/src/runtime/asm_amd64.s:1357"]
[2020/02/06 10:36:43.166 +08:00] [INFO] [tidb.go:68] ["new domain"] [store=fe576d34-5264-4793-a199-27158854df73] ["ddl lease"=0s] ["stats lease"=-1ns]
[2020/02/06 10:36:43.166 +08:00] [INFO] [ddl.go:289] ["[ddl] start DDL"] [ID=f24d6ba5-0e56-4ce0-afed-f2ccd0382d47]
[2020/02/06 10:36:43.166 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 49, tp general"]
[2020/02/06 10:36:43.166 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 50, tp add index"]
[2020/02/06 10:36:43.166 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=0] ["start time"=55.672µs]
[2020/02/06 10:36:43.166 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:43.166 +08:00] [INFO] [tidb.go:171] ["rollbackTxn for ddl/autocommit failed"]
[2020/02/06 10:36:43.166 +08:00] [WARN] [session.go:736] ["run statement failed"] [schemaVersion=0] [error="[schema:1049]Unknown database 'mysql'"] [errorVerbose="[schema:1049]Unknown database 'mysql'\ngithub.com/pingcap/errors.AddStack\n\t/home/aliv/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20190809092503-95897b64e011/errors.go:174\ngithub.com/pingcap/tidb/parser/terror.(*Error).GenWithStackByArgs\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/terror/terror.go:240\ngithub.com/pingcap/tidb/executor.(*SimpleExec).executeUse\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/simple.go:66\ngithub.com/pingcap/tidb/executor.(*SimpleExec).Next\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/simple.go:49\ngithub.com/pingcap/tidb/executor.Next\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/executor.go:175\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelayExecutor\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:271\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelay\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:237\ngithub.com/pingcap/tidb/executor.(*ExecStmt).Exec\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:208\ngithub.com/pingcap/tidb/session.runStmt\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/tidb.go:219\ngithub.com/pingcap/tidb/session.(*session).executeStatement\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:733\ngithub.com/pingcap/tidb/session.(*session).execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:812\ngithub.com/pingcap/tidb/session.(*session).Execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:760\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:175\ngithub.com/pingcap/tidb/session.bootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:143\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:1021\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:982\ngithub.com/pingcap/tidb/planner/core_test.newStoreWithBootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/cbo_test.go:270\ngithub.com/pingcap/tidb/planner/core_test.(*testIntegrationSuite).SetUpTest\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/integration_test.go:45\nreflect.Value.call\n\t/usr/lib/go/src/reflect/value.go:460\nreflect.Value.Call\n\t/usr/lib/go/src/reflect/value.go:321\ngithub.com/pingcap/check.(*suiteRunner).runFixture.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:803\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:739\nruntime.goexit\n\t/usr/lib/go/src/runtime/asm_amd64.s:1357"] [session="{\n  \"currDBName\": \"\",\n  \"id\": 0,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": \"\"\n}"]
[2020/02/06 10:36:43.166 +08:00] [WARN] [session.go:803] ["compile SQL failed"] [error="[schema:1146]Table 'mysql.tidb' doesn't exist"] [errorVerbose="[schema:1146]Table 'mysql.tidb' doesn't exist\ngithub.com/pingcap/errors.AddStack\n\t/home/aliv/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20190809092503-95897b64e011/errors.go:174\ngithub.com/pingcap/tidb/parser/terror.(*Error).GenWithStackByArgs\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/terror/terror.go:240\ngithub.com/pingcap/tidb/infoschema.(*infoSchema).TableByName\n\t/home/aliv/go/src/github.com/pingcap/tinysql/infoschema/infoschema.go:171\ngithub.com/pingcap/tidb/planner/core.(*preprocessor).handleTableName\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:650\ngithub.com/pingcap/tidb/planner/core.(*preprocessor).Leave\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:133\ngithub.com/pingcap/tidb/parser/ast.(*TableName).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:294\ngithub.com/pingcap/tidb/parser/ast.(*TableSource).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:431\ngithub.com/pingcap/tidb/parser/ast.(*Join).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:142\ngithub.com/pingcap/tidb/parser/ast.(*TableRefsClause).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:612\ngithub.com/pingcap/tidb/parser/ast.(*SelectStmt).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:931\ngithub.com/pingcap/tidb/planner/core.Preprocess\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:48\ngithub.com/pingcap/tidb/executor.(*Compiler).Compile\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/compiler.go:34\ngithub.com/pingcap/tidb/session.(*session).execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:800\ngithub.com/pingcap/tidb/session.(*session).Execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:760\ngithub.com/pingcap/tidb/session.getTiDBVar\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:204\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:181\ngithub.com/pingcap/tidb/session.bootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:143\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:1021\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:982\ngithub.com/pingcap/tidb/planner/core_test.newStoreWithBootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/cbo_test.go:270\ngithub.com/pingcap/tidb/planner/core_test.(*testIntegrationSuite).SetUpTest\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/integration_test.go:45\nreflect.Value.call\n\t/usr/lib/go/src/reflect/value.go:460\nreflect.Value.Call\n\t/usr/lib/go/src/reflect/value.go:321\ngithub.com/pingcap/check.(*suiteRunner).runFixture.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:803\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:739\nruntime.goexit\n\t/usr/lib/go/src/runtime/asm_amd64.s:1357"] [SQL="SELECT HIGH_PRIORITY VARIABLE_VALUE FROM mysql.tidb WHERE VARIABLE_NAME=\"bootstrapped\""]
[2020/02/06 10:36:43.166 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:2, Type:create schema, State:none, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.166 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS test"]
[2020/02/06 10:36:43.166 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 49, tp general"] [job="ID:2, Type:create schema, State:none, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.166 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.167 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 49, tp general"] [job="ID:2, Type:create schema, State:synced, SchemaState:public, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.166 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.167 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=2]
[2020/02/06 10:36:43.167 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.167 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=1] ["start time"=114.015µs]
[2020/02/06 10:36:43.167 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:43.168 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:4, Type:create schema, State:none, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.167 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS mysql;"]
[2020/02/06 10:36:43.168 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 49, tp general"] [job="ID:4, Type:create schema, State:none, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.167 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.168 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 49, tp general"] [job="ID:4, Type:create schema, State:synced, SchemaState:public, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.167 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.168 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=4]
[2020/02/06 10:36:43.168 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.168 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=1] [neededSchemaVersion=2] ["start time"=35.229µs] [tblIDs="[]"]
[2020/02/06 10:36:43.168 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:6, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.168 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) Not Null PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT Null);"]
[2020/02/06 10:36:43.169 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 49, tp general"] [job="ID:6, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.168 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.169 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 49, tp general"] [job="ID:6, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.168 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.169 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=6]
[2020/02/06 10:36:43.169 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.169 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=2] [neededSchemaVersion=3] ["start time"=86.724µs] [tblIDs="[5]"]
[2020/02/06 10:36:43.170 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:8, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.17 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.tidb(\n\t\tVARIABLE_NAME  VARCHAR(64) Not Null PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT Null,\n\t\tCOMMENT VARCHAR(1024));"]
[2020/02/06 10:36:43.170 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 49, tp general"] [job="ID:8, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.17 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.171 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 49, tp general"] [job="ID:8, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.17 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.171 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=8]
[2020/02/06 10:36:43.171 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.172 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=3] [neededSchemaVersion=4] ["start time"=172.272µs] [tblIDs="[7]"]
[2020/02/06 10:36:43.172 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:10, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.172 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.help_topic (\n  \t\thelp_topic_id int(10) unsigned NOT NULL,\n  \t\tname char(64) NOT NULL,\n  \t\thelp_category_id smallint(5) unsigned NOT NULL,\n  \t\tdescription text NOT NULL,\n  \t\texample text NOT NULL,\n  \t\turl text NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id),\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"]
[2020/02/06 10:36:43.173 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 49, tp general"] [job="ID:10, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.172 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.174 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 49, tp general"] [job="ID:10, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.172 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.174 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=10]
[2020/02/06 10:36:43.174 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.174 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=4] [neededSchemaVersion=5] ["start time"=122.388µs] [tblIDs="[9]"]
[2020/02/06 10:36:43.174 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:12, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.174 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_meta (\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tcount bigint(64) unsigned NOT NULL DEFAULT 0,\n\t\tindex idx_ver(version),\n\t\tunique index tbl(table_id)\n\t);"]
[2020/02/06 10:36:43.175 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 49, tp general"] [job="ID:12, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.174 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.175 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 49, tp general"] [job="ID:12, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.174 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.176 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=12]
[2020/02/06 10:36:43.176 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.176 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=5] [neededSchemaVersion=6] ["start time"=110.505µs] [tblIDs="[11]"]
[2020/02/06 10:36:43.176 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:14, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.176 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_histograms (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tdistinct_count bigint(64) NOT NULL,\n\t\tnull_count bigint(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size bigint(64) NOT NULL DEFAULT 0,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tversion bigint(64) unsigned NOT NULL DEFAULT 0,\n\t\tcm_sketch blob,\n\t\tstats_ver bigint(64) NOT NULL DEFAULT 0,\n\t\tflag bigint(64) NOT NULL DEFAULT 0,\n\t\tcorrelation double NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos blob DEFAULT NULL,\n\t\tunique index tbl(table_id, is_index, hist_id)\n\t);"]
[2020/02/06 10:36:43.176 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 49, tp general"] [job="ID:14, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.176 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.177 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 49, tp general"] [job="ID:14, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.176 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.178 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=14]
[2020/02/06 10:36:43.178 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.178 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=6] [neededSchemaVersion=7] ["start time"=175.429µs] [tblIDs="[13]"]
[2020/02/06 10:36:43.178 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:16, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.178 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_buckets (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tbucket_id bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\trepeats bigint(64) NOT NULL,\n\t\tupper_bound blob NOT NULL,\n\t\tlower_bound blob ,\n\t\tunique index tbl(table_id, is_index, hist_id, bucket_id)\n\t);"]
[2020/02/06 10:36:43.179 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 49, tp general"] [job="ID:16, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.178 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.179 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 49, tp general"] [job="ID:16, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.178 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.180 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=16]
[2020/02/06 10:36:43.180 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.180 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=7] [neededSchemaVersion=8] ["start time"=137.798µs] [tblIDs="[15]"]
[2020/02/06 10:36:43.180 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:18, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.18 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id BIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id BIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts BIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"]
[2020/02/06 10:36:43.180 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 49, tp general"] [job="ID:18, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.18 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.181 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 49, tp general"] [job="ID:18, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.18 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.182 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=18]
[2020/02/06 10:36:43.182 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.182 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=8] [neededSchemaVersion=9] ["start time"=119.782µs] [tblIDs="[17]"]
[2020/02/06 10:36:43.182 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:20, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.182 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id BIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id BIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts BIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"]
[2020/02/06 10:36:43.182 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 49, tp general"] [job="ID:20, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.182 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.183 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 49, tp general"] [job="ID:20, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.182 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.184 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=20]
[2020/02/06 10:36:43.184 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.184 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=9] [neededSchemaVersion=10] ["start time"=158.507µs] [tblIDs="[19]"]
[2020/02/06 10:36:43.185 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:22, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.185 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_top_n (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tvalue longblob,\n\t\tcount bigint(64) UNSIGNED NOT NULL,\n\t\tindex tbl(table_id, is_index, hist_id)\n\t);"]
[2020/02/06 10:36:43.185 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 49, tp general"] [job="ID:22, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.185 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.186 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 49, tp general"] [job="ID:22, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.185 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.187 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=22]
[2020/02/06 10:36:43.187 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.187 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=10] [neededSchemaVersion=11] ["start time"=171.122µs] [tblIDs="[21]"]
[2020/02/06 10:36:43.202 +08:00] [INFO] [bootstrap.go:153] ["bootstrap successful"] ["take time"=36.723642ms]
[2020/02/06 10:36:43.203 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 49, tp general"] ["take time"=6.398µs]
[2020/02/06 10:36:43.203 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 50, tp add index"] ["take time"=2.083µs]
[2020/02/06 10:36:43.203 +08:00] [INFO] [session_pool.go:85] ["[ddl] closing sessionPool"]
[2020/02/06 10:36:43.203 +08:00] [INFO] [ddl.go:349] ["[ddl] DDL closed"] [ID=f24d6ba5-0e56-4ce0-afed-f2ccd0382d47] ["take time"=40.057µs]
[2020/02/06 10:36:43.203 +08:00] [INFO] [ddl.go:282] ["[ddl] stop DDL"] [ID=f24d6ba5-0e56-4ce0-afed-f2ccd0382d47]
[2020/02/06 10:36:43.203 +08:00] [INFO] [domain.go:456] ["domain closed"] ["take time"=54.99µs]
[2020/02/06 10:36:43.203 +08:00] [INFO] [tidb.go:68] ["new domain"] [store=fe576d34-5264-4793-a199-27158854df73] ["ddl lease"=0s] ["stats lease"=-1ns]
[2020/02/06 10:36:43.203 +08:00] [INFO] [ddl.go:289] ["[ddl] start DDL"] [ID=e0043cce-7428-47a7-9b59-f56e32f03e2d]
[2020/02/06 10:36:43.203 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 51, tp general"]
[2020/02/06 10:36:43.203 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 52, tp add index"]
[2020/02/06 10:36:43.209 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=11] ["start time"=4.151406ms]
[2020/02/06 10:36:43.209 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:43.210 +08:00] [INFO] [tidb.go:68] ["new domain"] [store=ae7a16ce-a2a0-4707-8af8-ab439e7de46c] ["ddl lease"=0s] ["stats lease"=-1ns]
[2020/02/06 10:36:43.210 +08:00] [INFO] [ddl.go:289] ["[ddl] start DDL"] [ID=efc5f683-81bb-4aef-9121-4f17885d0059]
[2020/02/06 10:36:43.210 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 53, tp general"]
[2020/02/06 10:36:43.210 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 54, tp add index"]
[2020/02/06 10:36:43.210 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=0] ["start time"=55.113µs]
[2020/02/06 10:36:43.210 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:43.210 +08:00] [INFO] [tidb.go:171] ["rollbackTxn for ddl/autocommit failed"]
[2020/02/06 10:36:43.210 +08:00] [WARN] [session.go:736] ["run statement failed"] [schemaVersion=0] [error="[schema:1049]Unknown database 'mysql'"] [errorVerbose="[schema:1049]Unknown database 'mysql'\ngithub.com/pingcap/errors.AddStack\n\t/home/aliv/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20190809092503-95897b64e011/errors.go:174\ngithub.com/pingcap/tidb/parser/terror.(*Error).GenWithStackByArgs\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/terror/terror.go:240\ngithub.com/pingcap/tidb/executor.(*SimpleExec).executeUse\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/simple.go:66\ngithub.com/pingcap/tidb/executor.(*SimpleExec).Next\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/simple.go:49\ngithub.com/pingcap/tidb/executor.Next\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/executor.go:175\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelayExecutor\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:271\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelay\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:237\ngithub.com/pingcap/tidb/executor.(*ExecStmt).Exec\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:208\ngithub.com/pingcap/tidb/session.runStmt\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/tidb.go:219\ngithub.com/pingcap/tidb/session.(*session).executeStatement\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:733\ngithub.com/pingcap/tidb/session.(*session).execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:812\ngithub.com/pingcap/tidb/session.(*session).Execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:760\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:175\ngithub.com/pingcap/tidb/session.bootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:143\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:1021\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:982\ngithub.com/pingcap/tidb/planner/core_test.newStoreWithBootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/cbo_test.go:270\ngithub.com/pingcap/tidb/planner/core_test.(*testIntegrationSuite).TestAntiJoinConstProp\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/integration_test.go:112\nreflect.Value.call\n\t/usr/lib/go/src/reflect/value.go:460\nreflect.Value.Call\n\t/usr/lib/go/src/reflect/value.go:321\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:854\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:739\nruntime.goexit\n\t/usr/lib/go/src/runtime/asm_amd64.s:1357"] [session="{\n  \"currDBName\": \"\",\n  \"id\": 0,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": \"\"\n}"]
[2020/02/06 10:36:43.210 +08:00] [WARN] [session.go:803] ["compile SQL failed"] [error="[schema:1146]Table 'mysql.tidb' doesn't exist"] [errorVerbose="[schema:1146]Table 'mysql.tidb' doesn't exist\ngithub.com/pingcap/errors.AddStack\n\t/home/aliv/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20190809092503-95897b64e011/errors.go:174\ngithub.com/pingcap/tidb/parser/terror.(*Error).GenWithStackByArgs\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/terror/terror.go:240\ngithub.com/pingcap/tidb/infoschema.(*infoSchema).TableByName\n\t/home/aliv/go/src/github.com/pingcap/tinysql/infoschema/infoschema.go:171\ngithub.com/pingcap/tidb/planner/core.(*preprocessor).handleTableName\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:650\ngithub.com/pingcap/tidb/planner/core.(*preprocessor).Leave\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:133\ngithub.com/pingcap/tidb/parser/ast.(*TableName).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:294\ngithub.com/pingcap/tidb/parser/ast.(*TableSource).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:431\ngithub.com/pingcap/tidb/parser/ast.(*Join).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:142\ngithub.com/pingcap/tidb/parser/ast.(*TableRefsClause).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:612\ngithub.com/pingcap/tidb/parser/ast.(*SelectStmt).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:931\ngithub.com/pingcap/tidb/planner/core.Preprocess\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:48\ngithub.com/pingcap/tidb/executor.(*Compiler).Compile\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/compiler.go:34\ngithub.com/pingcap/tidb/session.(*session).execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:800\ngithub.com/pingcap/tidb/session.(*session).Execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:760\ngithub.com/pingcap/tidb/session.getTiDBVar\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:204\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:181\ngithub.com/pingcap/tidb/session.bootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:143\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:1021\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:982\ngithub.com/pingcap/tidb/planner/core_test.newStoreWithBootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/cbo_test.go:270\ngithub.com/pingcap/tidb/planner/core_test.(*testIntegrationSuite).TestAntiJoinConstProp\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/integration_test.go:112\nreflect.Value.call\n\t/usr/lib/go/src/reflect/value.go:460\nreflect.Value.Call\n\t/usr/lib/go/src/reflect/value.go:321\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:854\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:739\nruntime.goexit\n\t/usr/lib/go/src/runtime/asm_amd64.s:1357"] [SQL="SELECT HIGH_PRIORITY VARIABLE_VALUE FROM mysql.tidb WHERE VARIABLE_NAME=\"bootstrapped\""]
[2020/02/06 10:36:43.211 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:2, Type:create schema, State:none, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.21 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS test"]
[2020/02/06 10:36:43.211 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 53, tp general"] [job="ID:2, Type:create schema, State:none, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.21 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.211 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 53, tp general"] [job="ID:2, Type:create schema, State:synced, SchemaState:public, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.21 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.211 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=2]
[2020/02/06 10:36:43.211 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.211 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=1] ["start time"=101.074µs]
[2020/02/06 10:36:43.211 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:43.212 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:4, Type:create schema, State:none, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.211 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS mysql;"]
[2020/02/06 10:36:43.212 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 53, tp general"] [job="ID:4, Type:create schema, State:none, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.211 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.212 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 53, tp general"] [job="ID:4, Type:create schema, State:synced, SchemaState:public, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.211 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.212 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=4]
[2020/02/06 10:36:43.212 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.212 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=1] [neededSchemaVersion=2] ["start time"=33.21µs] [tblIDs="[]"]
[2020/02/06 10:36:43.212 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:6, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.212 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) Not Null PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT Null);"]
[2020/02/06 10:36:43.213 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 53, tp general"] [job="ID:6, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.212 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.213 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 53, tp general"] [job="ID:6, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.212 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.213 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=6]
[2020/02/06 10:36:43.213 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.213 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=2] [neededSchemaVersion=3] ["start time"=82.031µs] [tblIDs="[5]"]
[2020/02/06 10:36:43.214 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:8, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.213 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.tidb(\n\t\tVARIABLE_NAME  VARCHAR(64) Not Null PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT Null,\n\t\tCOMMENT VARCHAR(1024));"]
[2020/02/06 10:36:43.214 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 53, tp general"] [job="ID:8, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.213 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.214 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 53, tp general"] [job="ID:8, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.213 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.215 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=8]
[2020/02/06 10:36:43.215 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.215 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=3] [neededSchemaVersion=4] ["start time"=89.555µs] [tblIDs="[7]"]
[2020/02/06 10:36:43.215 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:10, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.215 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.help_topic (\n  \t\thelp_topic_id int(10) unsigned NOT NULL,\n  \t\tname char(64) NOT NULL,\n  \t\thelp_category_id smallint(5) unsigned NOT NULL,\n  \t\tdescription text NOT NULL,\n  \t\texample text NOT NULL,\n  \t\turl text NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id),\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"]
[2020/02/06 10:36:43.215 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 53, tp general"] [job="ID:10, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.215 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.216 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 53, tp general"] [job="ID:10, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.215 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.216 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=10]
[2020/02/06 10:36:43.216 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.216 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=4] [neededSchemaVersion=5] ["start time"=206.677µs] [tblIDs="[9]"]
[2020/02/06 10:36:43.217 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:12, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.217 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_meta (\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tcount bigint(64) unsigned NOT NULL DEFAULT 0,\n\t\tindex idx_ver(version),\n\t\tunique index tbl(table_id)\n\t);"]
[2020/02/06 10:36:43.218 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 53, tp general"] [job="ID:12, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.217 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.219 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 53, tp general"] [job="ID:12, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.217 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.220 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=12]
[2020/02/06 10:36:43.220 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.221 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=5] [neededSchemaVersion=6] ["start time"=291.042µs] [tblIDs="[11]"]
[2020/02/06 10:36:43.222 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:14, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.222 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_histograms (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tdistinct_count bigint(64) NOT NULL,\n\t\tnull_count bigint(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size bigint(64) NOT NULL DEFAULT 0,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tversion bigint(64) unsigned NOT NULL DEFAULT 0,\n\t\tcm_sketch blob,\n\t\tstats_ver bigint(64) NOT NULL DEFAULT 0,\n\t\tflag bigint(64) NOT NULL DEFAULT 0,\n\t\tcorrelation double NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos blob DEFAULT NULL,\n\t\tunique index tbl(table_id, is_index, hist_id)\n\t);"]
[2020/02/06 10:36:43.222 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 53, tp general"] [job="ID:14, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.222 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.224 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 53, tp general"] [job="ID:14, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.222 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.225 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=14]
[2020/02/06 10:36:43.225 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.226 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=6] [neededSchemaVersion=7] ["start time"=213.124µs] [tblIDs="[13]"]
[2020/02/06 10:36:43.226 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:16, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.226 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_buckets (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tbucket_id bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\trepeats bigint(64) NOT NULL,\n\t\tupper_bound blob NOT NULL,\n\t\tlower_bound blob ,\n\t\tunique index tbl(table_id, is_index, hist_id, bucket_id)\n\t);"]
[2020/02/06 10:36:43.226 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 53, tp general"] [job="ID:16, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.226 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.227 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 53, tp general"] [job="ID:16, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.226 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.227 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=16]
[2020/02/06 10:36:43.227 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.228 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=7] [neededSchemaVersion=8] ["start time"=139.136µs] [tblIDs="[15]"]
[2020/02/06 10:36:43.228 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:18, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.228 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id BIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id BIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts BIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"]
[2020/02/06 10:36:43.228 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 53, tp general"] [job="ID:18, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.228 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.229 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 53, tp general"] [job="ID:18, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.228 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.229 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=18]
[2020/02/06 10:36:43.229 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.229 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=8] [neededSchemaVersion=9] ["start time"=121.349µs] [tblIDs="[17]"]
[2020/02/06 10:36:43.230 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:20, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.23 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id BIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id BIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts BIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"]
[2020/02/06 10:36:43.230 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 53, tp general"] [job="ID:20, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.23 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.231 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 53, tp general"] [job="ID:20, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.23 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.231 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=20]
[2020/02/06 10:36:43.231 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.231 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=9] [neededSchemaVersion=10] ["start time"=114.421µs] [tblIDs="[19]"]
[2020/02/06 10:36:43.232 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:22, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.231 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_top_n (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tvalue longblob,\n\t\tcount bigint(64) UNSIGNED NOT NULL,\n\t\tindex tbl(table_id, is_index, hist_id)\n\t);"]
[2020/02/06 10:36:43.232 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 53, tp general"] [job="ID:22, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.231 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.232 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 53, tp general"] [job="ID:22, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.231 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.233 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=22]
[2020/02/06 10:36:43.233 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.233 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=10] [neededSchemaVersion=11] ["start time"=257.731µs] [tblIDs="[21]"]
[2020/02/06 10:36:43.250 +08:00] [INFO] [bootstrap.go:153] ["bootstrap successful"] ["take time"=39.518717ms]
[2020/02/06 10:36:43.250 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 53, tp general"] ["take time"=6.262µs]
[2020/02/06 10:36:43.250 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 54, tp add index"] ["take time"=5.861µs]
[2020/02/06 10:36:43.250 +08:00] [INFO] [session_pool.go:85] ["[ddl] closing sessionPool"]
[2020/02/06 10:36:43.250 +08:00] [INFO] [ddl.go:349] ["[ddl] DDL closed"] [ID=efc5f683-81bb-4aef-9121-4f17885d0059] ["take time"=53.63µs]
[2020/02/06 10:36:43.250 +08:00] [INFO] [ddl.go:282] ["[ddl] stop DDL"] [ID=efc5f683-81bb-4aef-9121-4f17885d0059]
[2020/02/06 10:36:43.250 +08:00] [INFO] [domain.go:456] ["domain closed"] ["take time"=68.543µs]
[2020/02/06 10:36:43.250 +08:00] [INFO] [tidb.go:68] ["new domain"] [store=ae7a16ce-a2a0-4707-8af8-ab439e7de46c] ["ddl lease"=0s] ["stats lease"=-1ns]
[2020/02/06 10:36:43.250 +08:00] [INFO] [ddl.go:289] ["[ddl] start DDL"] [ID=e32eb1f0-4855-408e-86d0-c4fb16d7a5ee]
[2020/02/06 10:36:43.250 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 56, tp add index"]
[2020/02/06 10:36:43.250 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 55, tp general"]
[2020/02/06 10:36:43.258 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=11] ["start time"=5.362159ms]
[2020/02/06 10:36:43.258 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:43.261 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:24, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:23, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.26 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create table t1(a int not null, b int not null)"]
[2020/02/06 10:36:43.261 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 55, tp general"] [job="ID:24, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:23, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.26 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.261 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 55, tp general"] [job="ID:24, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:23, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.26 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.262 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=24]
[2020/02/06 10:36:43.262 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.262 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=11] [neededSchemaVersion=12] ["start time"=75.723µs] [tblIDs="[23]"]
[2020/02/06 10:36:43.262 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:26, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:25, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.262 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create table t2(a int not null, b int not null)"]
[2020/02/06 10:36:43.262 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 55, tp general"] [job="ID:26, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:25, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.262 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.263 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 55, tp general"] [job="ID:26, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:25, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.262 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.263 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=26]
[2020/02/06 10:36:43.263 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.263 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=12] [neededSchemaVersion=13] ["start time"=70.954µs] [tblIDs="[25]"]
[2020/02/06 10:36:43.266 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:27, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:23, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.266 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="drop table t1, t2"]
[2020/02/06 10:36:43.267 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 55, tp general"] [job="ID:27, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:23, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.266 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.268 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 55, tp general"] [job="ID:27, Type:drop table, State:running, SchemaState:write only, SchemaID:1, TableID:23, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.266 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.268 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 55, tp general"] [job="ID:27, Type:drop table, State:running, SchemaState:delete only, SchemaID:1, TableID:23, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.266 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.269 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 55, tp general"] [job="ID:27, Type:drop table, State:synced, SchemaState:none, SchemaID:1, TableID:23, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.266 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.270 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=27]
[2020/02/06 10:36:43.270 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.270 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=13] [neededSchemaVersion=16] ["start time"=114.039µs] [tblIDs="[23,23,23]"]
[2020/02/06 10:36:43.270 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:28, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:25, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.27 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="drop table t1, t2"]
[2020/02/06 10:36:43.271 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 55, tp general"] [job="ID:28, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:25, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.27 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.271 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 55, tp general"] [job="ID:28, Type:drop table, State:running, SchemaState:write only, SchemaID:1, TableID:25, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.27 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.272 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 55, tp general"] [job="ID:28, Type:drop table, State:running, SchemaState:delete only, SchemaID:1, TableID:25, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.27 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.272 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 55, tp general"] [job="ID:28, Type:drop table, State:synced, SchemaState:none, SchemaID:1, TableID:25, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.27 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.273 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=28]
[2020/02/06 10:36:43.273 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.273 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=16] [neededSchemaVersion=19] ["start time"=48.982µs] [tblIDs="[25,25,25]"]
[2020/02/06 10:36:43.273 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:30, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:29, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.273 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create table t1(a int not null, b int)"]
[2020/02/06 10:36:43.273 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 55, tp general"] [job="ID:30, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:29, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.273 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.274 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 55, tp general"] [job="ID:30, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:29, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.273 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.274 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=30]
[2020/02/06 10:36:43.274 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.274 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=19] [neededSchemaVersion=20] ["start time"=75.193µs] [tblIDs="[29]"]
[2020/02/06 10:36:43.275 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:32, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:31, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.275 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create table t2(a int not null, b int)"]
[2020/02/06 10:36:43.275 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 55, tp general"] [job="ID:32, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:31, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.275 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.276 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 55, tp general"] [job="ID:32, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:31, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.275 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.276 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=32]
[2020/02/06 10:36:43.276 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.276 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=20] [neededSchemaVersion=21] ["start time"=74.946µs] [tblIDs="[31]"]
[2020/02/06 10:36:43.277 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 55, tp general"] ["take time"=5.493µs]
[2020/02/06 10:36:43.277 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 56, tp add index"] ["take time"=4.028µs]
[2020/02/06 10:36:43.277 +08:00] [INFO] [session_pool.go:85] ["[ddl] closing sessionPool"]
[2020/02/06 10:36:43.277 +08:00] [INFO] [ddl.go:349] ["[ddl] DDL closed"] [ID=e32eb1f0-4855-408e-86d0-c4fb16d7a5ee] ["take time"=50.028µs]
[2020/02/06 10:36:43.277 +08:00] [INFO] [ddl.go:282] ["[ddl] stop DDL"] [ID=e32eb1f0-4855-408e-86d0-c4fb16d7a5ee]
[2020/02/06 10:36:43.277 +08:00] [INFO] [domain.go:456] ["domain closed"] ["take time"=64.805µs]
[2020/02/06 10:36:43.278 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 51, tp general"] ["take time"=5.917µs]
[2020/02/06 10:36:43.278 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 52, tp add index"] ["take time"=1.885µs]
[2020/02/06 10:36:43.278 +08:00] [INFO] [session_pool.go:85] ["[ddl] closing sessionPool"]
[2020/02/06 10:36:43.278 +08:00] [INFO] [ddl.go:349] ["[ddl] DDL closed"] [ID=e0043cce-7428-47a7-9b59-f56e32f03e2d] ["take time"=43.106µs]
[2020/02/06 10:36:43.278 +08:00] [INFO] [ddl.go:282] ["[ddl] stop DDL"] [ID=e0043cce-7428-47a7-9b59-f56e32f03e2d]
[2020/02/06 10:36:43.278 +08:00] [INFO] [domain.go:456] ["domain closed"] ["take time"=56.104µs]
PASS: integration_test.go:111: testIntegrationSuite.TestAntiJoinConstProp	0.068s
[2020/02/06 10:36:43.278 +08:00] [INFO] [tidb.go:68] ["new domain"] [store=3da66df2-e8aa-4a80-a40f-69ef8a9f7c5c] ["ddl lease"=0s] ["stats lease"=-1ns]
[2020/02/06 10:36:43.278 +08:00] [INFO] [ddl.go:289] ["[ddl] start DDL"] [ID=238bb013-969d-44d0-96be-853bb444fc35]
[2020/02/06 10:36:43.278 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 57, tp general"]
[2020/02/06 10:36:43.278 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 58, tp add index"]
[2020/02/06 10:36:43.278 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=0] ["start time"=87.247µs]
[2020/02/06 10:36:43.278 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:43.278 +08:00] [INFO] [tidb.go:171] ["rollbackTxn for ddl/autocommit failed"]
[2020/02/06 10:36:43.278 +08:00] [WARN] [session.go:736] ["run statement failed"] [schemaVersion=0] [error="[schema:1049]Unknown database 'mysql'"] [errorVerbose="[schema:1049]Unknown database 'mysql'\ngithub.com/pingcap/errors.AddStack\n\t/home/aliv/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20190809092503-95897b64e011/errors.go:174\ngithub.com/pingcap/tidb/parser/terror.(*Error).GenWithStackByArgs\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/terror/terror.go:240\ngithub.com/pingcap/tidb/executor.(*SimpleExec).executeUse\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/simple.go:66\ngithub.com/pingcap/tidb/executor.(*SimpleExec).Next\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/simple.go:49\ngithub.com/pingcap/tidb/executor.Next\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/executor.go:175\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelayExecutor\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:271\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelay\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:237\ngithub.com/pingcap/tidb/executor.(*ExecStmt).Exec\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:208\ngithub.com/pingcap/tidb/session.runStmt\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/tidb.go:219\ngithub.com/pingcap/tidb/session.(*session).executeStatement\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:733\ngithub.com/pingcap/tidb/session.(*session).execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:812\ngithub.com/pingcap/tidb/session.(*session).Execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:760\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:175\ngithub.com/pingcap/tidb/session.bootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:143\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:1021\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:982\ngithub.com/pingcap/tidb/planner/core_test.newStoreWithBootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/cbo_test.go:270\ngithub.com/pingcap/tidb/planner/core_test.(*testIntegrationSuite).SetUpTest\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/integration_test.go:45\nreflect.Value.call\n\t/usr/lib/go/src/reflect/value.go:460\nreflect.Value.Call\n\t/usr/lib/go/src/reflect/value.go:321\ngithub.com/pingcap/check.(*suiteRunner).runFixture.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:803\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:739\nruntime.goexit\n\t/usr/lib/go/src/runtime/asm_amd64.s:1357"] [session="{\n  \"currDBName\": \"\",\n  \"id\": 0,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": \"\"\n}"]
[2020/02/06 10:36:43.278 +08:00] [WARN] [session.go:803] ["compile SQL failed"] [error="[schema:1146]Table 'mysql.tidb' doesn't exist"] [errorVerbose="[schema:1146]Table 'mysql.tidb' doesn't exist\ngithub.com/pingcap/errors.AddStack\n\t/home/aliv/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20190809092503-95897b64e011/errors.go:174\ngithub.com/pingcap/tidb/parser/terror.(*Error).GenWithStackByArgs\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/terror/terror.go:240\ngithub.com/pingcap/tidb/infoschema.(*infoSchema).TableByName\n\t/home/aliv/go/src/github.com/pingcap/tinysql/infoschema/infoschema.go:171\ngithub.com/pingcap/tidb/planner/core.(*preprocessor).handleTableName\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:650\ngithub.com/pingcap/tidb/planner/core.(*preprocessor).Leave\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:133\ngithub.com/pingcap/tidb/parser/ast.(*TableName).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:294\ngithub.com/pingcap/tidb/parser/ast.(*TableSource).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:431\ngithub.com/pingcap/tidb/parser/ast.(*Join).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:142\ngithub.com/pingcap/tidb/parser/ast.(*TableRefsClause).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:612\ngithub.com/pingcap/tidb/parser/ast.(*SelectStmt).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:931\ngithub.com/pingcap/tidb/planner/core.Preprocess\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:48\ngithub.com/pingcap/tidb/executor.(*Compiler).Compile\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/compiler.go:34\ngithub.com/pingcap/tidb/session.(*session).execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:800\ngithub.com/pingcap/tidb/session.(*session).Execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:760\ngithub.com/pingcap/tidb/session.getTiDBVar\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:204\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:181\ngithub.com/pingcap/tidb/session.bootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:143\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:1021\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:982\ngithub.com/pingcap/tidb/planner/core_test.newStoreWithBootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/cbo_test.go:270\ngithub.com/pingcap/tidb/planner/core_test.(*testIntegrationSuite).SetUpTest\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/integration_test.go:45\nreflect.Value.call\n\t/usr/lib/go/src/reflect/value.go:460\nreflect.Value.Call\n\t/usr/lib/go/src/reflect/value.go:321\ngithub.com/pingcap/check.(*suiteRunner).runFixture.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:803\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:739\nruntime.goexit\n\t/usr/lib/go/src/runtime/asm_amd64.s:1357"] [SQL="SELECT HIGH_PRIORITY VARIABLE_VALUE FROM mysql.tidb WHERE VARIABLE_NAME=\"bootstrapped\""]
[2020/02/06 10:36:43.279 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:2, Type:create schema, State:none, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.278 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS test"]
[2020/02/06 10:36:43.279 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 57, tp general"] [job="ID:2, Type:create schema, State:none, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.278 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.279 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 57, tp general"] [job="ID:2, Type:create schema, State:synced, SchemaState:public, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.278 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.279 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=2]
[2020/02/06 10:36:43.279 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.279 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=1] ["start time"=103.103µs]
[2020/02/06 10:36:43.279 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:43.280 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:4, Type:create schema, State:none, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.279 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS mysql;"]
[2020/02/06 10:36:43.280 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 57, tp general"] [job="ID:4, Type:create schema, State:none, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.279 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.280 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 57, tp general"] [job="ID:4, Type:create schema, State:synced, SchemaState:public, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.279 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.280 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=4]
[2020/02/06 10:36:43.280 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.280 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=1] [neededSchemaVersion=2] ["start time"=63.94µs] [tblIDs="[]"]
[2020/02/06 10:36:43.280 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:6, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.28 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) Not Null PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT Null);"]
[2020/02/06 10:36:43.281 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 57, tp general"] [job="ID:6, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.28 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.281 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 57, tp general"] [job="ID:6, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.28 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.281 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=6]
[2020/02/06 10:36:43.281 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.282 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=2] [neededSchemaVersion=3] ["start time"=83.634µs] [tblIDs="[5]"]
[2020/02/06 10:36:43.282 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:8, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.282 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.tidb(\n\t\tVARIABLE_NAME  VARCHAR(64) Not Null PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT Null,\n\t\tCOMMENT VARCHAR(1024));"]
[2020/02/06 10:36:43.282 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 57, tp general"] [job="ID:8, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.282 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.283 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 57, tp general"] [job="ID:8, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.282 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.283 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=8]
[2020/02/06 10:36:43.283 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.283 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=3] [neededSchemaVersion=4] ["start time"=96.594µs] [tblIDs="[7]"]
[2020/02/06 10:36:43.284 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:10, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.283 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.help_topic (\n  \t\thelp_topic_id int(10) unsigned NOT NULL,\n  \t\tname char(64) NOT NULL,\n  \t\thelp_category_id smallint(5) unsigned NOT NULL,\n  \t\tdescription text NOT NULL,\n  \t\texample text NOT NULL,\n  \t\turl text NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id),\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"]
[2020/02/06 10:36:43.284 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 57, tp general"] [job="ID:10, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.283 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.284 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 57, tp general"] [job="ID:10, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.283 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.285 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=10]
[2020/02/06 10:36:43.285 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.285 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=4] [neededSchemaVersion=5] ["start time"=116.252µs] [tblIDs="[9]"]
[2020/02/06 10:36:43.285 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:12, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.285 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_meta (\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tcount bigint(64) unsigned NOT NULL DEFAULT 0,\n\t\tindex idx_ver(version),\n\t\tunique index tbl(table_id)\n\t);"]
[2020/02/06 10:36:43.285 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 57, tp general"] [job="ID:12, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.285 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.286 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 57, tp general"] [job="ID:12, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.285 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.287 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=12]
[2020/02/06 10:36:43.287 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.287 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=5] [neededSchemaVersion=6] ["start time"=204.734µs] [tblIDs="[11]"]
[2020/02/06 10:36:43.288 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:14, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.287 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_histograms (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tdistinct_count bigint(64) NOT NULL,\n\t\tnull_count bigint(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size bigint(64) NOT NULL DEFAULT 0,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tversion bigint(64) unsigned NOT NULL DEFAULT 0,\n\t\tcm_sketch blob,\n\t\tstats_ver bigint(64) NOT NULL DEFAULT 0,\n\t\tflag bigint(64) NOT NULL DEFAULT 0,\n\t\tcorrelation double NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos blob DEFAULT NULL,\n\t\tunique index tbl(table_id, is_index, hist_id)\n\t);"]
[2020/02/06 10:36:43.288 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 57, tp general"] [job="ID:14, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.287 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.290 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 57, tp general"] [job="ID:14, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.287 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.290 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=14]
[2020/02/06 10:36:43.290 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.290 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=6] [neededSchemaVersion=7] ["start time"=236.654µs] [tblIDs="[13]"]
[2020/02/06 10:36:43.291 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:16, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.291 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_buckets (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tbucket_id bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\trepeats bigint(64) NOT NULL,\n\t\tupper_bound blob NOT NULL,\n\t\tlower_bound blob ,\n\t\tunique index tbl(table_id, is_index, hist_id, bucket_id)\n\t);"]
[2020/02/06 10:36:43.292 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 57, tp general"] [job="ID:16, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.291 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.293 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 57, tp general"] [job="ID:16, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.291 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.294 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=16]
[2020/02/06 10:36:43.294 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.294 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=7] [neededSchemaVersion=8] ["start time"=184.486µs] [tblIDs="[15]"]
[2020/02/06 10:36:43.294 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:18, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.294 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id BIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id BIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts BIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"]
[2020/02/06 10:36:43.295 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 57, tp general"] [job="ID:18, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.294 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.295 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 57, tp general"] [job="ID:18, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.294 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.296 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=18]
[2020/02/06 10:36:43.296 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.296 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=8] [neededSchemaVersion=9] ["start time"=119.846µs] [tblIDs="[17]"]
[2020/02/06 10:36:43.296 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:20, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.296 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id BIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id BIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts BIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"]
[2020/02/06 10:36:43.297 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 57, tp general"] [job="ID:20, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.296 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.297 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 57, tp general"] [job="ID:20, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.296 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.298 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=20]
[2020/02/06 10:36:43.298 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.298 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=9] [neededSchemaVersion=10] ["start time"=114.631µs] [tblIDs="[19]"]
[2020/02/06 10:36:43.298 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:22, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.298 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_top_n (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tvalue longblob,\n\t\tcount bigint(64) UNSIGNED NOT NULL,\n\t\tindex tbl(table_id, is_index, hist_id)\n\t);"]
[2020/02/06 10:36:43.298 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 57, tp general"] [job="ID:22, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.298 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.299 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 57, tp general"] [job="ID:22, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.298 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.299 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=22]
[2020/02/06 10:36:43.299 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.300 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=10] [neededSchemaVersion=11] ["start time"=157.343µs] [tblIDs="[21]"]
[2020/02/06 10:36:43.314 +08:00] [INFO] [bootstrap.go:153] ["bootstrap successful"] ["take time"=36.275291ms]
[2020/02/06 10:36:43.315 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 57, tp general"] ["take time"=6.209µs]
[2020/02/06 10:36:43.315 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 58, tp add index"] ["take time"=2.832µs]
[2020/02/06 10:36:43.315 +08:00] [INFO] [session_pool.go:85] ["[ddl] closing sessionPool"]
[2020/02/06 10:36:43.315 +08:00] [INFO] [ddl.go:349] ["[ddl] DDL closed"] [ID=238bb013-969d-44d0-96be-853bb444fc35] ["take time"=47.754µs]
[2020/02/06 10:36:43.315 +08:00] [INFO] [ddl.go:282] ["[ddl] stop DDL"] [ID=238bb013-969d-44d0-96be-853bb444fc35]
[2020/02/06 10:36:43.315 +08:00] [INFO] [domain.go:456] ["domain closed"] ["take time"=63.52µs]
[2020/02/06 10:36:43.315 +08:00] [INFO] [tidb.go:68] ["new domain"] [store=3da66df2-e8aa-4a80-a40f-69ef8a9f7c5c] ["ddl lease"=0s] ["stats lease"=-1ns]
[2020/02/06 10:36:43.315 +08:00] [INFO] [ddl.go:289] ["[ddl] start DDL"] [ID=8c83818f-75d5-47aa-9f93-003a14d1184b]
[2020/02/06 10:36:43.315 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 59, tp general"]
[2020/02/06 10:36:43.315 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 60, tp add index"]
[2020/02/06 10:36:43.324 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=11] ["start time"=8.422138ms]
[2020/02/06 10:36:43.324 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:43.328 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:24, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:23, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.328 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create table bit_col_t (a bit(64))"]
[2020/02/06 10:36:43.329 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 59, tp general"] [job="ID:24, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:23, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.328 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.329 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 59, tp general"] [job="ID:24, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:23, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.328 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.329 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=24]
[2020/02/06 10:36:43.329 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.330 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=11] [neededSchemaVersion=12] ["start time"=79.507µs] [tblIDs="[23]"]
[2020/02/06 10:36:43.330 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:25, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:23, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.33 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="drop table bit_col_t"]
[2020/02/06 10:36:43.330 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 59, tp general"] [job="ID:25, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:23, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.33 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.330 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 59, tp general"] [job="ID:25, Type:drop table, State:running, SchemaState:write only, SchemaID:1, TableID:23, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.33 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.331 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 59, tp general"] [job="ID:25, Type:drop table, State:running, SchemaState:delete only, SchemaID:1, TableID:23, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.33 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.331 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 59, tp general"] [job="ID:25, Type:drop table, State:synced, SchemaState:none, SchemaID:1, TableID:23, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.33 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.332 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=25]
[2020/02/06 10:36:43.332 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.332 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=12] [neededSchemaVersion=15] ["start time"=51.982µs] [tblIDs="[23,23,23]"]
[2020/02/06 10:36:43.332 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:27, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:26, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.332 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create table bit_col_t (a bit(1))"]
[2020/02/06 10:36:43.332 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 59, tp general"] [job="ID:27, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:26, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.332 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.333 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 59, tp general"] [job="ID:27, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:26, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.332 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.333 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=27]
[2020/02/06 10:36:43.333 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.333 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=15] [neededSchemaVersion=16] ["start time"=70.866µs] [tblIDs="[26]"]
[2020/02/06 10:36:43.333 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:28, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:26, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.333 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="drop table bit_col_t"]
[2020/02/06 10:36:43.334 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 59, tp general"] [job="ID:28, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:26, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.333 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.334 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 59, tp general"] [job="ID:28, Type:drop table, State:running, SchemaState:write only, SchemaID:1, TableID:26, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.333 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.334 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 59, tp general"] [job="ID:28, Type:drop table, State:running, SchemaState:delete only, SchemaID:1, TableID:26, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.333 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.335 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 59, tp general"] [job="ID:28, Type:drop table, State:synced, SchemaState:none, SchemaID:1, TableID:26, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.333 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.335 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=28]
[2020/02/06 10:36:43.335 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.335 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=16] [neededSchemaVersion=19] ["start time"=55.604µs] [tblIDs="[26,26,26]"]
[2020/02/06 10:36:43.335 +08:00] [WARN] [session.go:803] ["compile SQL failed"] [error="[types:3013]Invalid size for column 'a'."] [errorVerbose="[types:3013]Invalid size for column 'a'.\ngithub.com/pingcap/errors.AddStack\n\t/home/aliv/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20190809092503-95897b64e011/errors.go:174\ngithub.com/pingcap/tidb/parser/terror.(*Error).GenWithStackByArgs\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/terror/terror.go:240\ngithub.com/pingcap/tidb/planner/core.checkColumn\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:568\ngithub.com/pingcap/tidb/planner/core.(*preprocessor).checkCreateTableGrammar\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:320\ngithub.com/pingcap/tidb/planner/core.(*preprocessor).Enter\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:81\ngithub.com/pingcap/tidb/parser/ast.(*CreateTableStmt).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/ddl.go:648\ngithub.com/pingcap/tidb/planner/core.Preprocess\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:48\ngithub.com/pingcap/tidb/executor.(*Compiler).Compile\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/compiler.go:34\ngithub.com/pingcap/tidb/session.(*session).execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:800\ngithub.com/pingcap/tidb/session.(*session).Execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:760\ngithub.com/pingcap/tidb/util/testkit.(*TestKit).Exec\n\t/home/aliv/go/src/github.com/pingcap/tinysql/util/testkit/testkit.go:142\ngithub.com/pingcap/tidb/util/testkit.(*TestKit).MustGetErrCode\n\t/home/aliv/go/src/github.com/pingcap/tinysql/util/testkit/testkit.go:230\ngithub.com/pingcap/tidb/planner/core_test.(*testIntegrationSuite).TestBitColErrorMessage\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/integration_test.go:64\nreflect.Value.call\n\t/usr/lib/go/src/reflect/value.go:460\nreflect.Value.Call\n\t/usr/lib/go/src/reflect/value.go:321\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:854\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:739\nruntime.goexit\n\t/usr/lib/go/src/runtime/asm_amd64.s:1357"] [SQL="create table bit_col_t (a bit(0))"]
[2020/02/06 10:36:43.335 +08:00] [WARN] [session.go:803] ["compile SQL failed"] [error="[types:1439]Display width out of range for column 'a' (max = 64)"] [errorVerbose="[types:1439]Display width out of range for column 'a' (max = 64)\ngithub.com/pingcap/errors.AddStack\n\t/home/aliv/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20190809092503-95897b64e011/errors.go:174\ngithub.com/pingcap/tidb/parser/terror.(*Error).GenWithStackByArgs\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/terror/terror.go:240\ngithub.com/pingcap/tidb/planner/core.checkColumn\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:571\ngithub.com/pingcap/tidb/planner/core.(*preprocessor).checkCreateTableGrammar\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:320\ngithub.com/pingcap/tidb/planner/core.(*preprocessor).Enter\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:81\ngithub.com/pingcap/tidb/parser/ast.(*CreateTableStmt).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/ddl.go:648\ngithub.com/pingcap/tidb/planner/core.Preprocess\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:48\ngithub.com/pingcap/tidb/executor.(*Compiler).Compile\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/compiler.go:34\ngithub.com/pingcap/tidb/session.(*session).execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:800\ngithub.com/pingcap/tidb/session.(*session).Execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:760\ngithub.com/pingcap/tidb/util/testkit.(*TestKit).Exec\n\t/home/aliv/go/src/github.com/pingcap/tinysql/util/testkit/testkit.go:142\ngithub.com/pingcap/tidb/util/testkit.(*TestKit).MustGetErrCode\n\t/home/aliv/go/src/github.com/pingcap/tinysql/util/testkit/testkit.go:230\ngithub.com/pingcap/tidb/planner/core_test.(*testIntegrationSuite).TestBitColErrorMessage\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/integration_test.go:65\nreflect.Value.call\n\t/usr/lib/go/src/reflect/value.go:460\nreflect.Value.Call\n\t/usr/lib/go/src/reflect/value.go:321\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:854\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:739\nruntime.goexit\n\t/usr/lib/go/src/runtime/asm_amd64.s:1357"] [SQL="create table bit_col_t (a bit(65))"]
[2020/02/06 10:36:43.336 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 59, tp general"] ["take time"=3.098µs]
[2020/02/06 10:36:43.336 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 60, tp add index"] ["take time"=2.016µs]
[2020/02/06 10:36:43.336 +08:00] [INFO] [session_pool.go:85] ["[ddl] closing sessionPool"]
[2020/02/06 10:36:43.336 +08:00] [INFO] [ddl.go:349] ["[ddl] DDL closed"] [ID=8c83818f-75d5-47aa-9f93-003a14d1184b] ["take time"=40.161µs]
[2020/02/06 10:36:43.336 +08:00] [INFO] [ddl.go:282] ["[ddl] stop DDL"] [ID=8c83818f-75d5-47aa-9f93-003a14d1184b]
[2020/02/06 10:36:43.336 +08:00] [INFO] [domain.go:456] ["domain closed"] ["take time"=53.857µs]
PASS: integration_test.go:55: testIntegrationSuite.TestBitColErrorMessage	0.010s
[2020/02/06 10:36:43.336 +08:00] [INFO] [tidb.go:68] ["new domain"] [store=c9b30d02-1cd6-4bda-950b-144dc300bf8c] ["ddl lease"=0s] ["stats lease"=-1ns]
[2020/02/06 10:36:43.336 +08:00] [INFO] [ddl.go:289] ["[ddl] start DDL"] [ID=450f60e8-4596-4ecc-96fb-ac1ac4ab1062]
[2020/02/06 10:36:43.337 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=0] ["start time"=174.47µs]
[2020/02/06 10:36:43.337 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:43.337 +08:00] [INFO] [tidb.go:171] ["rollbackTxn for ddl/autocommit failed"]
[2020/02/06 10:36:43.337 +08:00] [WARN] [session.go:736] ["run statement failed"] [schemaVersion=0] [error="[schema:1049]Unknown database 'mysql'"] [errorVerbose="[schema:1049]Unknown database 'mysql'\ngithub.com/pingcap/errors.AddStack\n\t/home/aliv/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20190809092503-95897b64e011/errors.go:174\ngithub.com/pingcap/tidb/parser/terror.(*Error).GenWithStackByArgs\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/terror/terror.go:240\ngithub.com/pingcap/tidb/executor.(*SimpleExec).executeUse\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/simple.go:66\ngithub.com/pingcap/tidb/executor.(*SimpleExec).Next\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/simple.go:49\ngithub.com/pingcap/tidb/executor.Next\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/executor.go:175\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelayExecutor\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:271\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelay\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:237\ngithub.com/pingcap/tidb/executor.(*ExecStmt).Exec\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:208\ngithub.com/pingcap/tidb/session.runStmt\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/tidb.go:219\ngithub.com/pingcap/tidb/session.(*session).executeStatement\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:733\ngithub.com/pingcap/tidb/session.(*session).execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:812\ngithub.com/pingcap/tidb/session.(*session).Execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:760\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:175\ngithub.com/pingcap/tidb/session.bootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:143\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:1021\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:982\ngithub.com/pingcap/tidb/planner/core_test.newStoreWithBootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/cbo_test.go:270\ngithub.com/pingcap/tidb/planner/core_test.(*testIntegrationSuite).SetUpTest\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/integration_test.go:45\nreflect.Value.call\n\t/usr/lib/go/src/reflect/value.go:460\nreflect.Value.Call\n\t/usr/lib/go/src/reflect/value.go:321\ngithub.com/pingcap/check.(*suiteRunner).runFixture.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:803\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:739\nruntime.goexit\n\t/usr/lib/go/src/runtime/asm_amd64.s:1357"] [session="{\n  \"currDBName\": \"\",\n  \"id\": 0,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": \"\"\n}"]
[2020/02/06 10:36:43.337 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 61, tp general"]
[2020/02/06 10:36:43.337 +08:00] [WARN] [session.go:803] ["compile SQL failed"] [error="[schema:1146]Table 'mysql.tidb' doesn't exist"] [errorVerbose="[schema:1146]Table 'mysql.tidb' doesn't exist\ngithub.com/pingcap/errors.AddStack\n\t/home/aliv/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20190809092503-95897b64e011/errors.go:174\ngithub.com/pingcap/tidb/parser/terror.(*Error).GenWithStackByArgs\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/terror/terror.go:240\ngithub.com/pingcap/tidb/infoschema.(*infoSchema).TableByName\n\t/home/aliv/go/src/github.com/pingcap/tinysql/infoschema/infoschema.go:171\ngithub.com/pingcap/tidb/planner/core.(*preprocessor).handleTableName\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:650\ngithub.com/pingcap/tidb/planner/core.(*preprocessor).Leave\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:133\ngithub.com/pingcap/tidb/parser/ast.(*TableName).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:294\ngithub.com/pingcap/tidb/parser/ast.(*TableSource).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:431\ngithub.com/pingcap/tidb/parser/ast.(*Join).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:142\ngithub.com/pingcap/tidb/parser/ast.(*TableRefsClause).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:612\ngithub.com/pingcap/tidb/parser/ast.(*SelectStmt).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:931\ngithub.com/pingcap/tidb/planner/core.Preprocess\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:48\ngithub.com/pingcap/tidb/executor.(*Compiler).Compile\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/compiler.go:34\ngithub.com/pingcap/tidb/session.(*session).execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:800\ngithub.com/pingcap/tidb/session.(*session).Execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:760\ngithub.com/pingcap/tidb/session.getTiDBVar\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:204\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:181\ngithub.com/pingcap/tidb/session.bootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:143\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:1021\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:982\ngithub.com/pingcap/tidb/planner/core_test.newStoreWithBootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/cbo_test.go:270\ngithub.com/pingcap/tidb/planner/core_test.(*testIntegrationSuite).SetUpTest\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/integration_test.go:45\nreflect.Value.call\n\t/usr/lib/go/src/reflect/value.go:460\nreflect.Value.Call\n\t/usr/lib/go/src/reflect/value.go:321\ngithub.com/pingcap/check.(*suiteRunner).runFixture.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:803\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:739\nruntime.goexit\n\t/usr/lib/go/src/runtime/asm_amd64.s:1357"] [SQL="SELECT HIGH_PRIORITY VARIABLE_VALUE FROM mysql.tidb WHERE VARIABLE_NAME=\"bootstrapped\""]
[2020/02/06 10:36:43.337 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 62, tp add index"]
[2020/02/06 10:36:43.338 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:2, Type:create schema, State:none, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.337 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS test"]
[2020/02/06 10:36:43.338 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 61, tp general"] [job="ID:2, Type:create schema, State:none, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.337 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.338 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 61, tp general"] [job="ID:2, Type:create schema, State:synced, SchemaState:public, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.337 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.339 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=2]
[2020/02/06 10:36:43.339 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.339 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=1] ["start time"=192.763µs]
[2020/02/06 10:36:43.339 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:43.339 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:4, Type:create schema, State:none, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.339 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS mysql;"]
[2020/02/06 10:36:43.339 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 61, tp general"] [job="ID:4, Type:create schema, State:none, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.339 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.340 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 61, tp general"] [job="ID:4, Type:create schema, State:synced, SchemaState:public, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.339 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.340 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=4]
[2020/02/06 10:36:43.340 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.340 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=1] [neededSchemaVersion=2] ["start time"=81.016µs] [tblIDs="[]"]
[2020/02/06 10:36:43.341 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:6, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.34 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) Not Null PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT Null);"]
[2020/02/06 10:36:43.341 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 61, tp general"] [job="ID:6, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.34 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.342 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 61, tp general"] [job="ID:6, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.34 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.342 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=6]
[2020/02/06 10:36:43.342 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.343 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=2] [neededSchemaVersion=3] ["start time"=211.273µs] [tblIDs="[5]"]
[2020/02/06 10:36:43.343 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:8, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.343 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.tidb(\n\t\tVARIABLE_NAME  VARCHAR(64) Not Null PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT Null,\n\t\tCOMMENT VARCHAR(1024));"]
[2020/02/06 10:36:43.343 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 61, tp general"] [job="ID:8, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.343 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.344 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 61, tp general"] [job="ID:8, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.343 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.345 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=8]
[2020/02/06 10:36:43.345 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.345 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=3] [neededSchemaVersion=4] ["start time"=113.724µs] [tblIDs="[7]"]
[2020/02/06 10:36:43.345 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:10, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.345 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.help_topic (\n  \t\thelp_topic_id int(10) unsigned NOT NULL,\n  \t\tname char(64) NOT NULL,\n  \t\thelp_category_id smallint(5) unsigned NOT NULL,\n  \t\tdescription text NOT NULL,\n  \t\texample text NOT NULL,\n  \t\turl text NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id),\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"]
[2020/02/06 10:36:43.345 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 61, tp general"] [job="ID:10, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.345 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.346 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 61, tp general"] [job="ID:10, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.345 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.347 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=10]
[2020/02/06 10:36:43.347 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.347 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=4] [neededSchemaVersion=5] ["start time"=151.567µs] [tblIDs="[9]"]
[2020/02/06 10:36:43.347 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:12, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.347 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_meta (\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tcount bigint(64) unsigned NOT NULL DEFAULT 0,\n\t\tindex idx_ver(version),\n\t\tunique index tbl(table_id)\n\t);"]
[2020/02/06 10:36:43.348 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 61, tp general"] [job="ID:12, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.347 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.348 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 61, tp general"] [job="ID:12, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.347 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.349 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=12]
[2020/02/06 10:36:43.349 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.349 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=5] [neededSchemaVersion=6] ["start time"=112.896µs] [tblIDs="[11]"]
[2020/02/06 10:36:43.350 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:14, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.349 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_histograms (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tdistinct_count bigint(64) NOT NULL,\n\t\tnull_count bigint(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size bigint(64) NOT NULL DEFAULT 0,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tversion bigint(64) unsigned NOT NULL DEFAULT 0,\n\t\tcm_sketch blob,\n\t\tstats_ver bigint(64) NOT NULL DEFAULT 0,\n\t\tflag bigint(64) NOT NULL DEFAULT 0,\n\t\tcorrelation double NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos blob DEFAULT NULL,\n\t\tunique index tbl(table_id, is_index, hist_id)\n\t);"]
[2020/02/06 10:36:43.350 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 61, tp general"] [job="ID:14, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.349 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.351 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 61, tp general"] [job="ID:14, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.349 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.352 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=14]
[2020/02/06 10:36:43.352 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.352 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=6] [neededSchemaVersion=7] ["start time"=222.573µs] [tblIDs="[13]"]
[2020/02/06 10:36:43.353 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:16, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.352 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_buckets (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tbucket_id bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\trepeats bigint(64) NOT NULL,\n\t\tupper_bound blob NOT NULL,\n\t\tlower_bound blob ,\n\t\tunique index tbl(table_id, is_index, hist_id, bucket_id)\n\t);"]
[2020/02/06 10:36:43.353 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 61, tp general"] [job="ID:16, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.352 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.354 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 61, tp general"] [job="ID:16, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.352 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.354 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=16]
[2020/02/06 10:36:43.354 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.355 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=7] [neededSchemaVersion=8] ["start time"=145.561µs] [tblIDs="[15]"]
[2020/02/06 10:36:43.355 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:18, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.355 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id BIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id BIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts BIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"]
[2020/02/06 10:36:43.356 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 61, tp general"] [job="ID:18, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.355 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.358 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 61, tp general"] [job="ID:18, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.355 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.358 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=18]
[2020/02/06 10:36:43.358 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.359 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=8] [neededSchemaVersion=9] ["start time"=278.276µs] [tblIDs="[17]"]
[2020/02/06 10:36:43.360 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:20, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.359 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id BIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id BIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts BIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"]
[2020/02/06 10:36:43.360 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 61, tp general"] [job="ID:20, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.359 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.362 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 61, tp general"] [job="ID:20, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.359 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.362 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=20]
[2020/02/06 10:36:43.362 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.363 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=9] [neededSchemaVersion=10] ["start time"=235.143µs] [tblIDs="[19]"]
[2020/02/06 10:36:43.363 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:22, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.363 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_top_n (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tvalue longblob,\n\t\tcount bigint(64) UNSIGNED NOT NULL,\n\t\tindex tbl(table_id, is_index, hist_id)\n\t);"]
[2020/02/06 10:36:43.363 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 61, tp general"] [job="ID:22, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.363 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.364 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 61, tp general"] [job="ID:22, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.363 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.365 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=22]
[2020/02/06 10:36:43.365 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.365 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=10] [neededSchemaVersion=11] ["start time"=155.679µs] [tblIDs="[21]"]
[2020/02/06 10:36:43.381 +08:00] [INFO] [bootstrap.go:153] ["bootstrap successful"] ["take time"=44.277643ms]
[2020/02/06 10:36:43.381 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 62, tp add index"] ["take time"=6.653µs]
[2020/02/06 10:36:43.381 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 61, tp general"] ["take time"=2.636µs]
[2020/02/06 10:36:43.381 +08:00] [INFO] [session_pool.go:85] ["[ddl] closing sessionPool"]
[2020/02/06 10:36:43.381 +08:00] [INFO] [ddl.go:349] ["[ddl] DDL closed"] [ID=450f60e8-4596-4ecc-96fb-ac1ac4ab1062] ["take time"=41.661µs]
[2020/02/06 10:36:43.381 +08:00] [INFO] [ddl.go:282] ["[ddl] stop DDL"] [ID=450f60e8-4596-4ecc-96fb-ac1ac4ab1062]
[2020/02/06 10:36:43.381 +08:00] [INFO] [domain.go:456] ["domain closed"] ["take time"=57.761µs]
[2020/02/06 10:36:43.381 +08:00] [INFO] [tidb.go:68] ["new domain"] [store=c9b30d02-1cd6-4bda-950b-144dc300bf8c] ["ddl lease"=0s] ["stats lease"=-1ns]
[2020/02/06 10:36:43.381 +08:00] [INFO] [ddl.go:289] ["[ddl] start DDL"] [ID=83dd6274-ba51-4af9-b72e-12e47d992be4]
[2020/02/06 10:36:43.381 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 63, tp general"]
[2020/02/06 10:36:43.381 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 64, tp add index"]
[2020/02/06 10:36:43.388 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=11] ["start time"=5.810034ms]
[2020/02/06 10:36:43.388 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:43.390 +08:00] [INFO] [tidb.go:68] ["new domain"] [store=ef85bd30-e312-418a-a41b-9873745afb23] ["ddl lease"=0s] ["stats lease"=-1ns]
[2020/02/06 10:36:43.390 +08:00] [INFO] [ddl.go:289] ["[ddl] start DDL"] [ID=2ea7412b-c781-4f56-91ab-92a9adf0b730]
[2020/02/06 10:36:43.390 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 65, tp general"]
[2020/02/06 10:36:43.390 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 66, tp add index"]
[2020/02/06 10:36:43.390 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=0] ["start time"=148.894µs]
[2020/02/06 10:36:43.390 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:43.390 +08:00] [INFO] [tidb.go:171] ["rollbackTxn for ddl/autocommit failed"]
[2020/02/06 10:36:43.390 +08:00] [WARN] [session.go:736] ["run statement failed"] [schemaVersion=0] [error="[schema:1049]Unknown database 'mysql'"] [errorVerbose="[schema:1049]Unknown database 'mysql'\ngithub.com/pingcap/errors.AddStack\n\t/home/aliv/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20190809092503-95897b64e011/errors.go:174\ngithub.com/pingcap/tidb/parser/terror.(*Error).GenWithStackByArgs\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/terror/terror.go:240\ngithub.com/pingcap/tidb/executor.(*SimpleExec).executeUse\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/simple.go:66\ngithub.com/pingcap/tidb/executor.(*SimpleExec).Next\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/simple.go:49\ngithub.com/pingcap/tidb/executor.Next\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/executor.go:175\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelayExecutor\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:271\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelay\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:237\ngithub.com/pingcap/tidb/executor.(*ExecStmt).Exec\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:208\ngithub.com/pingcap/tidb/session.runStmt\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/tidb.go:219\ngithub.com/pingcap/tidb/session.(*session).executeStatement\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:733\ngithub.com/pingcap/tidb/session.(*session).execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:812\ngithub.com/pingcap/tidb/session.(*session).Execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:760\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:175\ngithub.com/pingcap/tidb/session.bootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:143\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:1021\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:982\ngithub.com/pingcap/tidb/planner/core_test.newStoreWithBootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/cbo_test.go:270\ngithub.com/pingcap/tidb/planner/core_test.(*testIntegrationSuite).TestJoinNotNullFlag\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/integration_test.go:93\nreflect.Value.call\n\t/usr/lib/go/src/reflect/value.go:460\nreflect.Value.Call\n\t/usr/lib/go/src/reflect/value.go:321\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:854\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:739\nruntime.goexit\n\t/usr/lib/go/src/runtime/asm_amd64.s:1357"] [session="{\n  \"currDBName\": \"\",\n  \"id\": 0,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": \"\"\n}"]
[2020/02/06 10:36:43.391 +08:00] [WARN] [session.go:803] ["compile SQL failed"] [error="[schema:1146]Table 'mysql.tidb' doesn't exist"] [errorVerbose="[schema:1146]Table 'mysql.tidb' doesn't exist\ngithub.com/pingcap/errors.AddStack\n\t/home/aliv/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20190809092503-95897b64e011/errors.go:174\ngithub.com/pingcap/tidb/parser/terror.(*Error).GenWithStackByArgs\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/terror/terror.go:240\ngithub.com/pingcap/tidb/infoschema.(*infoSchema).TableByName\n\t/home/aliv/go/src/github.com/pingcap/tinysql/infoschema/infoschema.go:171\ngithub.com/pingcap/tidb/planner/core.(*preprocessor).handleTableName\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:650\ngithub.com/pingcap/tidb/planner/core.(*preprocessor).Leave\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:133\ngithub.com/pingcap/tidb/parser/ast.(*TableName).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:294\ngithub.com/pingcap/tidb/parser/ast.(*TableSource).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:431\ngithub.com/pingcap/tidb/parser/ast.(*Join).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:142\ngithub.com/pingcap/tidb/parser/ast.(*TableRefsClause).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:612\ngithub.com/pingcap/tidb/parser/ast.(*SelectStmt).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:931\ngithub.com/pingcap/tidb/planner/core.Preprocess\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:48\ngithub.com/pingcap/tidb/executor.(*Compiler).Compile\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/compiler.go:34\ngithub.com/pingcap/tidb/session.(*session).execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:800\ngithub.com/pingcap/tidb/session.(*session).Execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:760\ngithub.com/pingcap/tidb/session.getTiDBVar\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:204\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:181\ngithub.com/pingcap/tidb/session.bootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:143\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:1021\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:982\ngithub.com/pingcap/tidb/planner/core_test.newStoreWithBootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/cbo_test.go:270\ngithub.com/pingcap/tidb/planner/core_test.(*testIntegrationSuite).TestJoinNotNullFlag\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/integration_test.go:93\nreflect.Value.call\n\t/usr/lib/go/src/reflect/value.go:460\nreflect.Value.Call\n\t/usr/lib/go/src/reflect/value.go:321\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:854\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:739\nruntime.goexit\n\t/usr/lib/go/src/runtime/asm_amd64.s:1357"] [SQL="SELECT HIGH_PRIORITY VARIABLE_VALUE FROM mysql.tidb WHERE VARIABLE_NAME=\"bootstrapped\""]
[2020/02/06 10:36:43.391 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:2, Type:create schema, State:none, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.391 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS test"]
[2020/02/06 10:36:43.391 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 65, tp general"] [job="ID:2, Type:create schema, State:none, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.391 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.392 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 65, tp general"] [job="ID:2, Type:create schema, State:synced, SchemaState:public, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.391 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.392 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=2]
[2020/02/06 10:36:43.392 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.392 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=1] ["start time"=141.263µs]
[2020/02/06 10:36:43.392 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:43.392 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:4, Type:create schema, State:none, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.392 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS mysql;"]
[2020/02/06 10:36:43.392 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 65, tp general"] [job="ID:4, Type:create schema, State:none, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.392 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.393 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 65, tp general"] [job="ID:4, Type:create schema, State:synced, SchemaState:public, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.392 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.393 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=4]
[2020/02/06 10:36:43.393 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.393 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=1] [neededSchemaVersion=2] ["start time"=36.614µs] [tblIDs="[]"]
[2020/02/06 10:36:43.393 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:6, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.393 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) Not Null PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT Null);"]
[2020/02/06 10:36:43.393 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 65, tp general"] [job="ID:6, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.393 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.394 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 65, tp general"] [job="ID:6, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.393 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.394 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=6]
[2020/02/06 10:36:43.394 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.394 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=2] [neededSchemaVersion=3] ["start time"=83.305µs] [tblIDs="[5]"]
[2020/02/06 10:36:43.395 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:8, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.394 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.tidb(\n\t\tVARIABLE_NAME  VARCHAR(64) Not Null PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT Null,\n\t\tCOMMENT VARCHAR(1024));"]
[2020/02/06 10:36:43.395 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 65, tp general"] [job="ID:8, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.394 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.395 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 65, tp general"] [job="ID:8, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.394 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.395 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=8]
[2020/02/06 10:36:43.395 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.396 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=3] [neededSchemaVersion=4] ["start time"=90.503µs] [tblIDs="[7]"]
[2020/02/06 10:36:43.396 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:10, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.396 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.help_topic (\n  \t\thelp_topic_id int(10) unsigned NOT NULL,\n  \t\tname char(64) NOT NULL,\n  \t\thelp_category_id smallint(5) unsigned NOT NULL,\n  \t\tdescription text NOT NULL,\n  \t\texample text NOT NULL,\n  \t\turl text NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id),\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"]
[2020/02/06 10:36:43.396 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 65, tp general"] [job="ID:10, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.396 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.397 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 65, tp general"] [job="ID:10, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.396 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.397 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=10]
[2020/02/06 10:36:43.397 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.397 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=4] [neededSchemaVersion=5] ["start time"=112.558µs] [tblIDs="[9]"]
[2020/02/06 10:36:43.398 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:12, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.397 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_meta (\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tcount bigint(64) unsigned NOT NULL DEFAULT 0,\n\t\tindex idx_ver(version),\n\t\tunique index tbl(table_id)\n\t);"]
[2020/02/06 10:36:43.398 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 65, tp general"] [job="ID:12, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.397 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.398 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 65, tp general"] [job="ID:12, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.397 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.399 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=12]
[2020/02/06 10:36:43.399 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.399 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=5] [neededSchemaVersion=6] ["start time"=111.95µs] [tblIDs="[11]"]
[2020/02/06 10:36:43.400 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:14, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.399 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_histograms (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tdistinct_count bigint(64) NOT NULL,\n\t\tnull_count bigint(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size bigint(64) NOT NULL DEFAULT 0,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tversion bigint(64) unsigned NOT NULL DEFAULT 0,\n\t\tcm_sketch blob,\n\t\tstats_ver bigint(64) NOT NULL DEFAULT 0,\n\t\tflag bigint(64) NOT NULL DEFAULT 0,\n\t\tcorrelation double NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos blob DEFAULT NULL,\n\t\tunique index tbl(table_id, is_index, hist_id)\n\t);"]
[2020/02/06 10:36:43.401 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 65, tp general"] [job="ID:14, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.399 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.403 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 65, tp general"] [job="ID:14, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.399 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.404 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=14]
[2020/02/06 10:36:43.404 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.404 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=6] [neededSchemaVersion=7] ["start time"=280.295µs] [tblIDs="[13]"]
[2020/02/06 10:36:43.405 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:16, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.405 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_buckets (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tbucket_id bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\trepeats bigint(64) NOT NULL,\n\t\tupper_bound blob NOT NULL,\n\t\tlower_bound blob ,\n\t\tunique index tbl(table_id, is_index, hist_id, bucket_id)\n\t);"]
[2020/02/06 10:36:43.406 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 65, tp general"] [job="ID:16, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.405 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.407 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 65, tp general"] [job="ID:16, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.405 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.408 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=16]
[2020/02/06 10:36:43.408 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.408 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=7] [neededSchemaVersion=8] ["start time"=259.869µs] [tblIDs="[15]"]
[2020/02/06 10:36:43.411 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:18, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.41 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id BIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id BIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts BIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"]
[2020/02/06 10:36:43.411 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 65, tp general"] [job="ID:18, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.41 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.412 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 65, tp general"] [job="ID:18, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.41 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.413 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=18]
[2020/02/06 10:36:43.413 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.413 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=8] [neededSchemaVersion=9] ["start time"=146.019µs] [tblIDs="[17]"]
[2020/02/06 10:36:43.413 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:20, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.413 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id BIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id BIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts BIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"]
[2020/02/06 10:36:43.414 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 65, tp general"] [job="ID:20, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.413 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.414 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 65, tp general"] [job="ID:20, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.413 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.415 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=20]
[2020/02/06 10:36:43.415 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.415 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=9] [neededSchemaVersion=10] ["start time"=130.48µs] [tblIDs="[19]"]
[2020/02/06 10:36:43.415 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:22, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.415 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_top_n (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tvalue longblob,\n\t\tcount bigint(64) UNSIGNED NOT NULL,\n\t\tindex tbl(table_id, is_index, hist_id)\n\t);"]
[2020/02/06 10:36:43.416 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 65, tp general"] [job="ID:22, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.415 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.417 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 65, tp general"] [job="ID:22, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.415 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.418 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=22]
[2020/02/06 10:36:43.418 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.419 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=10] [neededSchemaVersion=11] ["start time"=319.02µs] [tblIDs="[21]"]
[2020/02/06 10:36:43.445 +08:00] [INFO] [bootstrap.go:153] ["bootstrap successful"] ["take time"=54.431663ms]
[2020/02/06 10:36:43.445 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 65, tp general"] ["take time"=7.218µs]
[2020/02/06 10:36:43.445 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 66, tp add index"] ["take time"=4.076µs]
[2020/02/06 10:36:43.445 +08:00] [INFO] [session_pool.go:85] ["[ddl] closing sessionPool"]
[2020/02/06 10:36:43.445 +08:00] [INFO] [ddl.go:349] ["[ddl] DDL closed"] [ID=2ea7412b-c781-4f56-91ab-92a9adf0b730] ["take time"=84.359µs]
[2020/02/06 10:36:43.445 +08:00] [INFO] [ddl.go:282] ["[ddl] stop DDL"] [ID=2ea7412b-c781-4f56-91ab-92a9adf0b730]
[2020/02/06 10:36:43.445 +08:00] [INFO] [domain.go:456] ["domain closed"] ["take time"=109.958µs]
[2020/02/06 10:36:43.445 +08:00] [INFO] [tidb.go:68] ["new domain"] [store=ef85bd30-e312-418a-a41b-9873745afb23] ["ddl lease"=0s] ["stats lease"=-1ns]
[2020/02/06 10:36:43.445 +08:00] [INFO] [ddl.go:289] ["[ddl] start DDL"] [ID=d2baae1a-b7b5-476b-8730-66844256b175]
[2020/02/06 10:36:43.445 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 67, tp general"]
[2020/02/06 10:36:43.445 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 68, tp add index"]
[2020/02/06 10:36:43.453 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=11] ["start time"=4.004084ms]
[2020/02/06 10:36:43.453 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:43.456 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:24, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:23, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.456 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create table t1(x int not null)"]
[2020/02/06 10:36:43.456 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 67, tp general"] [job="ID:24, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:23, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.456 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.457 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 67, tp general"] [job="ID:24, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:23, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.456 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.458 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=24]
[2020/02/06 10:36:43.458 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.458 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=11] [neededSchemaVersion=12] ["start time"=149.759µs] [tblIDs="[23]"]
[2020/02/06 10:36:43.458 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:26, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:25, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.458 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create table t2(x int)"]
[2020/02/06 10:36:43.459 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 67, tp general"] [job="ID:26, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:25, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.458 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.460 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 67, tp general"] [job="ID:26, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:25, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.458 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.460 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=26]
[2020/02/06 10:36:43.460 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.460 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=12] [neededSchemaVersion=13] ["start time"=81.372µs] [tblIDs="[25]"]
[2020/02/06 10:36:43.460 +08:00] [WARN] [builtin.go:98] ["unmatched arg type 3 with 0"]
[2020/02/06 10:36:43.461 +08:00] [WARN] [builtin.go:98] ["unmatched arg type 3 with 0"]
[2020/02/06 10:36:43.461 +08:00] [WARN] [builtin.go:98] ["unmatched arg type 3 with 0"]
[2020/02/06 10:36:43.462 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 67, tp general"] ["take time"=4.37µs]
[2020/02/06 10:36:43.462 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 68, tp add index"] ["take time"=7.75µs]
[2020/02/06 10:36:43.462 +08:00] [INFO] [session_pool.go:85] ["[ddl] closing sessionPool"]
[2020/02/06 10:36:43.462 +08:00] [INFO] [ddl.go:349] ["[ddl] DDL closed"] [ID=d2baae1a-b7b5-476b-8730-66844256b175] ["take time"=64.755µs]
[2020/02/06 10:36:43.462 +08:00] [INFO] [ddl.go:282] ["[ddl] stop DDL"] [ID=d2baae1a-b7b5-476b-8730-66844256b175]
[2020/02/06 10:36:43.462 +08:00] [INFO] [domain.go:456] ["domain closed"] ["take time"=81.491µs]
[2020/02/06 10:36:43.462 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 63, tp general"] ["take time"=3.043µs]
[2020/02/06 10:36:43.462 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 64, tp add index"] ["take time"=6.12µs]
[2020/02/06 10:36:43.462 +08:00] [INFO] [session_pool.go:85] ["[ddl] closing sessionPool"]
[2020/02/06 10:36:43.462 +08:00] [INFO] [ddl.go:349] ["[ddl] DDL closed"] [ID=83dd6274-ba51-4af9-b72e-12e47d992be4] ["take time"=50.573µs]
[2020/02/06 10:36:43.462 +08:00] [INFO] [ddl.go:282] ["[ddl] stop DDL"] [ID=83dd6274-ba51-4af9-b72e-12e47d992be4]
[2020/02/06 10:36:43.462 +08:00] [INFO] [domain.go:456] ["domain closed"] ["take time"=65.723µs]
PASS: integration_test.go:92: testIntegrationSuite.TestJoinNotNullFlag	0.073s
[2020/02/06 10:36:43.462 +08:00] [INFO] [tidb.go:68] ["new domain"] [store=e097d84f-52bd-407f-a5cf-3c2516e30763] ["ddl lease"=0s] ["stats lease"=-1ns]
[2020/02/06 10:36:43.463 +08:00] [INFO] [ddl.go:289] ["[ddl] start DDL"] [ID=ead97a3e-3288-45e9-9885-1cf4c61e5941]
[2020/02/06 10:36:43.463 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 70, tp add index"]
[2020/02/06 10:36:43.463 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 69, tp general"]
[2020/02/06 10:36:43.463 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=0] ["start time"=91.518µs]
[2020/02/06 10:36:43.463 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:43.463 +08:00] [INFO] [tidb.go:171] ["rollbackTxn for ddl/autocommit failed"]
[2020/02/06 10:36:43.463 +08:00] [WARN] [session.go:736] ["run statement failed"] [schemaVersion=0] [error="[schema:1049]Unknown database 'mysql'"] [errorVerbose="[schema:1049]Unknown database 'mysql'\ngithub.com/pingcap/errors.AddStack\n\t/home/aliv/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20190809092503-95897b64e011/errors.go:174\ngithub.com/pingcap/tidb/parser/terror.(*Error).GenWithStackByArgs\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/terror/terror.go:240\ngithub.com/pingcap/tidb/executor.(*SimpleExec).executeUse\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/simple.go:66\ngithub.com/pingcap/tidb/executor.(*SimpleExec).Next\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/simple.go:49\ngithub.com/pingcap/tidb/executor.Next\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/executor.go:175\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelayExecutor\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:271\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelay\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:237\ngithub.com/pingcap/tidb/executor.(*ExecStmt).Exec\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:208\ngithub.com/pingcap/tidb/session.runStmt\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/tidb.go:219\ngithub.com/pingcap/tidb/session.(*session).executeStatement\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:733\ngithub.com/pingcap/tidb/session.(*session).execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:812\ngithub.com/pingcap/tidb/session.(*session).Execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:760\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:175\ngithub.com/pingcap/tidb/session.bootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:143\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:1021\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:982\ngithub.com/pingcap/tidb/planner/core_test.newStoreWithBootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/cbo_test.go:270\ngithub.com/pingcap/tidb/planner/core_test.(*testIntegrationSuite).SetUpTest\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/integration_test.go:45\nreflect.Value.call\n\t/usr/lib/go/src/reflect/value.go:460\nreflect.Value.Call\n\t/usr/lib/go/src/reflect/value.go:321\ngithub.com/pingcap/check.(*suiteRunner).runFixture.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:803\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:739\nruntime.goexit\n\t/usr/lib/go/src/runtime/asm_amd64.s:1357"] [session="{\n  \"currDBName\": \"\",\n  \"id\": 0,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": \"\"\n}"]
[2020/02/06 10:36:43.463 +08:00] [WARN] [session.go:803] ["compile SQL failed"] [error="[schema:1146]Table 'mysql.tidb' doesn't exist"] [errorVerbose="[schema:1146]Table 'mysql.tidb' doesn't exist\ngithub.com/pingcap/errors.AddStack\n\t/home/aliv/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20190809092503-95897b64e011/errors.go:174\ngithub.com/pingcap/tidb/parser/terror.(*Error).GenWithStackByArgs\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/terror/terror.go:240\ngithub.com/pingcap/tidb/infoschema.(*infoSchema).TableByName\n\t/home/aliv/go/src/github.com/pingcap/tinysql/infoschema/infoschema.go:171\ngithub.com/pingcap/tidb/planner/core.(*preprocessor).handleTableName\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:650\ngithub.com/pingcap/tidb/planner/core.(*preprocessor).Leave\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:133\ngithub.com/pingcap/tidb/parser/ast.(*TableName).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:294\ngithub.com/pingcap/tidb/parser/ast.(*TableSource).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:431\ngithub.com/pingcap/tidb/parser/ast.(*Join).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:142\ngithub.com/pingcap/tidb/parser/ast.(*TableRefsClause).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:612\ngithub.com/pingcap/tidb/parser/ast.(*SelectStmt).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:931\ngithub.com/pingcap/tidb/planner/core.Preprocess\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:48\ngithub.com/pingcap/tidb/executor.(*Compiler).Compile\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/compiler.go:34\ngithub.com/pingcap/tidb/session.(*session).execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:800\ngithub.com/pingcap/tidb/session.(*session).Execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:760\ngithub.com/pingcap/tidb/session.getTiDBVar\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:204\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:181\ngithub.com/pingcap/tidb/session.bootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:143\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:1021\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:982\ngithub.com/pingcap/tidb/planner/core_test.newStoreWithBootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/cbo_test.go:270\ngithub.com/pingcap/tidb/planner/core_test.(*testIntegrationSuite).SetUpTest\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/integration_test.go:45\nreflect.Value.call\n\t/usr/lib/go/src/reflect/value.go:460\nreflect.Value.Call\n\t/usr/lib/go/src/reflect/value.go:321\ngithub.com/pingcap/check.(*suiteRunner).runFixture.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:803\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:739\nruntime.goexit\n\t/usr/lib/go/src/runtime/asm_amd64.s:1357"] [SQL="SELECT HIGH_PRIORITY VARIABLE_VALUE FROM mysql.tidb WHERE VARIABLE_NAME=\"bootstrapped\""]
[2020/02/06 10:36:43.463 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:2, Type:create schema, State:none, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.463 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS test"]
[2020/02/06 10:36:43.464 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 69, tp general"] [job="ID:2, Type:create schema, State:none, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.463 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.464 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 69, tp general"] [job="ID:2, Type:create schema, State:synced, SchemaState:public, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.463 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.464 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=2]
[2020/02/06 10:36:43.464 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.464 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=1] ["start time"=115.442µs]
[2020/02/06 10:36:43.464 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:43.464 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:4, Type:create schema, State:none, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.464 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS mysql;"]
[2020/02/06 10:36:43.465 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 69, tp general"] [job="ID:4, Type:create schema, State:none, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.464 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.465 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 69, tp general"] [job="ID:4, Type:create schema, State:synced, SchemaState:public, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.464 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.465 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=4]
[2020/02/06 10:36:43.465 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.465 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=1] [neededSchemaVersion=2] ["start time"=42.659µs] [tblIDs="[]"]
[2020/02/06 10:36:43.465 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:6, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.465 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) Not Null PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT Null);"]
[2020/02/06 10:36:43.466 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 69, tp general"] [job="ID:6, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.465 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.466 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 69, tp general"] [job="ID:6, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.465 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.467 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=6]
[2020/02/06 10:36:43.468 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.468 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=2] [neededSchemaVersion=3] ["start time"=266µs] [tblIDs="[5]"]
[2020/02/06 10:36:43.469 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:8, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.468 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.tidb(\n\t\tVARIABLE_NAME  VARCHAR(64) Not Null PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT Null,\n\t\tCOMMENT VARCHAR(1024));"]
[2020/02/06 10:36:43.469 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 69, tp general"] [job="ID:8, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.468 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.470 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 69, tp general"] [job="ID:8, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.468 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.471 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=8]
[2020/02/06 10:36:43.471 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.471 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=3] [neededSchemaVersion=4] ["start time"=179.891µs] [tblIDs="[7]"]
[2020/02/06 10:36:43.472 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:10, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.472 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.help_topic (\n  \t\thelp_topic_id int(10) unsigned NOT NULL,\n  \t\tname char(64) NOT NULL,\n  \t\thelp_category_id smallint(5) unsigned NOT NULL,\n  \t\tdescription text NOT NULL,\n  \t\texample text NOT NULL,\n  \t\turl text NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id),\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"]
[2020/02/06 10:36:43.472 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 69, tp general"] [job="ID:10, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.472 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.474 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 69, tp general"] [job="ID:10, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.472 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.474 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=10]
[2020/02/06 10:36:43.474 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.475 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=4] [neededSchemaVersion=5] ["start time"=182.474µs] [tblIDs="[9]"]
[2020/02/06 10:36:43.475 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:12, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.475 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_meta (\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tcount bigint(64) unsigned NOT NULL DEFAULT 0,\n\t\tindex idx_ver(version),\n\t\tunique index tbl(table_id)\n\t);"]
[2020/02/06 10:36:43.476 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 69, tp general"] [job="ID:12, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.475 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.476 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 69, tp general"] [job="ID:12, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.475 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.477 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=12]
[2020/02/06 10:36:43.477 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.477 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=5] [neededSchemaVersion=6] ["start time"=151.932µs] [tblIDs="[11]"]
[2020/02/06 10:36:43.478 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:14, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.477 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_histograms (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tdistinct_count bigint(64) NOT NULL,\n\t\tnull_count bigint(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size bigint(64) NOT NULL DEFAULT 0,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tversion bigint(64) unsigned NOT NULL DEFAULT 0,\n\t\tcm_sketch blob,\n\t\tstats_ver bigint(64) NOT NULL DEFAULT 0,\n\t\tflag bigint(64) NOT NULL DEFAULT 0,\n\t\tcorrelation double NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos blob DEFAULT NULL,\n\t\tunique index tbl(table_id, is_index, hist_id)\n\t);"]
[2020/02/06 10:36:43.478 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 69, tp general"] [job="ID:14, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.477 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.479 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 69, tp general"] [job="ID:14, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.477 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.480 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=14]
[2020/02/06 10:36:43.480 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.480 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=6] [neededSchemaVersion=7] ["start time"=217.015µs] [tblIDs="[13]"]
[2020/02/06 10:36:43.480 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:16, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.48 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_buckets (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tbucket_id bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\trepeats bigint(64) NOT NULL,\n\t\tupper_bound blob NOT NULL,\n\t\tlower_bound blob ,\n\t\tunique index tbl(table_id, is_index, hist_id, bucket_id)\n\t);"]
[2020/02/06 10:36:43.481 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 69, tp general"] [job="ID:16, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.48 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.482 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 69, tp general"] [job="ID:16, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.48 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.482 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=16]
[2020/02/06 10:36:43.482 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.482 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=7] [neededSchemaVersion=8] ["start time"=240.643µs] [tblIDs="[15]"]
[2020/02/06 10:36:43.484 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:18, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.483 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id BIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id BIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts BIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"]
[2020/02/06 10:36:43.484 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 69, tp general"] [job="ID:18, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.483 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.486 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 69, tp general"] [job="ID:18, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.483 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.486 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=18]
[2020/02/06 10:36:43.487 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.487 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=8] [neededSchemaVersion=9] ["start time"=278.803µs] [tblIDs="[17]"]
[2020/02/06 10:36:43.488 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:20, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.487 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id BIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id BIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts BIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"]
[2020/02/06 10:36:43.488 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 69, tp general"] [job="ID:20, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.487 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.489 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 69, tp general"] [job="ID:20, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.487 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.490 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=20]
[2020/02/06 10:36:43.490 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.490 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=9] [neededSchemaVersion=10] ["start time"=234.668µs] [tblIDs="[19]"]
[2020/02/06 10:36:43.491 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:22, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.49 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_top_n (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tvalue longblob,\n\t\tcount bigint(64) UNSIGNED NOT NULL,\n\t\tindex tbl(table_id, is_index, hist_id)\n\t);"]
[2020/02/06 10:36:43.491 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 69, tp general"] [job="ID:22, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.49 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.494 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 69, tp general"] [job="ID:22, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.49 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.494 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=22]
[2020/02/06 10:36:43.495 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.495 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=10] [neededSchemaVersion=11] ["start time"=238.321µs] [tblIDs="[21]"]
[2020/02/06 10:36:43.517 +08:00] [INFO] [bootstrap.go:153] ["bootstrap successful"] ["take time"=54.691787ms]
[2020/02/06 10:36:43.518 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 69, tp general"] ["take time"=13.299µs]
[2020/02/06 10:36:43.518 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 70, tp add index"] ["take time"=21.305µs]
[2020/02/06 10:36:43.518 +08:00] [INFO] [session_pool.go:85] ["[ddl] closing sessionPool"]
[2020/02/06 10:36:43.518 +08:00] [INFO] [ddl.go:349] ["[ddl] DDL closed"] [ID=ead97a3e-3288-45e9-9885-1cf4c61e5941] ["take time"=113.48µs]
[2020/02/06 10:36:43.518 +08:00] [INFO] [ddl.go:282] ["[ddl] stop DDL"] [ID=ead97a3e-3288-45e9-9885-1cf4c61e5941]
[2020/02/06 10:36:43.518 +08:00] [INFO] [domain.go:456] ["domain closed"] ["take time"=138.399µs]
[2020/02/06 10:36:43.518 +08:00] [INFO] [tidb.go:68] ["new domain"] [store=e097d84f-52bd-407f-a5cf-3c2516e30763] ["ddl lease"=0s] ["stats lease"=-1ns]
[2020/02/06 10:36:43.518 +08:00] [INFO] [ddl.go:289] ["[ddl] start DDL"] [ID=4ef65351-b99a-4e80-a173-85c7e3b693b8]
[2020/02/06 10:36:43.518 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 72, tp add index"]
[2020/02/06 10:36:43.518 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 71, tp general"]
[2020/02/06 10:36:43.528 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=11] ["start time"=3.716448ms]
[2020/02/06 10:36:43.528 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:43.531 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:24, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:23, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.531 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create table tbl(a int, b int, c int, key idx_b_c(b,c))"]
[2020/02/06 10:36:43.531 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 71, tp general"] [job="ID:24, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:23, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.531 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.532 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 71, tp general"] [job="ID:24, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:23, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.531 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.533 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=24]
[2020/02/06 10:36:43.533 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.533 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=11] [neededSchemaVersion=12] ["start time"=174.108µs] [tblIDs="[23]"]
[2020/02/06 10:36:43.558 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 71, tp general"] ["take time"=10.518µs]
[2020/02/06 10:36:43.558 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 72, tp add index"] ["take time"=6.062µs]
[2020/02/06 10:36:43.558 +08:00] [INFO] [session_pool.go:85] ["[ddl] closing sessionPool"]
[2020/02/06 10:36:43.558 +08:00] [INFO] [ddl.go:349] ["[ddl] DDL closed"] [ID=4ef65351-b99a-4e80-a173-85c7e3b693b8] ["take time"=87.886µs]
[2020/02/06 10:36:43.558 +08:00] [INFO] [ddl.go:282] ["[ddl] stop DDL"] [ID=4ef65351-b99a-4e80-a173-85c7e3b693b8]
[2020/02/06 10:36:43.558 +08:00] [INFO] [domain.go:456] ["domain closed"] ["take time"=105.243µs]
PASS: integration_test.go:68: testIntegrationSuite.TestPushLimitDownIndexLookUpReader	0.029s
[2020/02/06 10:36:43.561 +08:00] [INFO] [tidb.go:68] ["new domain"] [store=5fe1414f-dcee-4150-9102-1acd09883e3a] ["ddl lease"=0s] ["stats lease"=-1ns]
[2020/02/06 10:36:43.561 +08:00] [INFO] [ddl.go:289] ["[ddl] start DDL"] [ID=d7de6e29-0be0-4b1d-84b0-5a1475d316fc]
[2020/02/06 10:36:43.561 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 73, tp general"]
[2020/02/06 10:36:43.561 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 74, tp add index"]
[2020/02/06 10:36:43.561 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=0] ["start time"=72.361µs]
[2020/02/06 10:36:43.561 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:43.561 +08:00] [INFO] [tidb.go:171] ["rollbackTxn for ddl/autocommit failed"]
[2020/02/06 10:36:43.561 +08:00] [WARN] [session.go:736] ["run statement failed"] [schemaVersion=0] [error="[schema:1049]Unknown database 'mysql'"] [errorVerbose="[schema:1049]Unknown database 'mysql'\ngithub.com/pingcap/errors.AddStack\n\t/home/aliv/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20190809092503-95897b64e011/errors.go:174\ngithub.com/pingcap/tidb/parser/terror.(*Error).GenWithStackByArgs\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/terror/terror.go:240\ngithub.com/pingcap/tidb/executor.(*SimpleExec).executeUse\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/simple.go:66\ngithub.com/pingcap/tidb/executor.(*SimpleExec).Next\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/simple.go:49\ngithub.com/pingcap/tidb/executor.Next\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/executor.go:175\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelayExecutor\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:271\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelay\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:237\ngithub.com/pingcap/tidb/executor.(*ExecStmt).Exec\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:208\ngithub.com/pingcap/tidb/session.runStmt\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/tidb.go:219\ngithub.com/pingcap/tidb/session.(*session).executeStatement\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:733\ngithub.com/pingcap/tidb/session.(*session).execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:812\ngithub.com/pingcap/tidb/session.(*session).Execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:760\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:175\ngithub.com/pingcap/tidb/session.bootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:143\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:1021\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:982\ngithub.com/pingcap/tidb/planner/core_test.newStoreWithBootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/cbo_test.go:270\ngithub.com/pingcap/tidb/planner/core_test.(*testPlanSuite).TestAggEliminator\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/physical_plan_test.go:362\nreflect.Value.call\n\t/usr/lib/go/src/reflect/value.go:460\nreflect.Value.Call\n\t/usr/lib/go/src/reflect/value.go:321\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:854\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:739\nruntime.goexit\n\t/usr/lib/go/src/runtime/asm_amd64.s:1357"] [session="{\n  \"currDBName\": \"\",\n  \"id\": 0,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": \"\"\n}"]
[2020/02/06 10:36:43.561 +08:00] [WARN] [session.go:803] ["compile SQL failed"] [error="[schema:1146]Table 'mysql.tidb' doesn't exist"] [errorVerbose="[schema:1146]Table 'mysql.tidb' doesn't exist\ngithub.com/pingcap/errors.AddStack\n\t/home/aliv/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20190809092503-95897b64e011/errors.go:174\ngithub.com/pingcap/tidb/parser/terror.(*Error).GenWithStackByArgs\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/terror/terror.go:240\ngithub.com/pingcap/tidb/infoschema.(*infoSchema).TableByName\n\t/home/aliv/go/src/github.com/pingcap/tinysql/infoschema/infoschema.go:171\ngithub.com/pingcap/tidb/planner/core.(*preprocessor).handleTableName\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:650\ngithub.com/pingcap/tidb/planner/core.(*preprocessor).Leave\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:133\ngithub.com/pingcap/tidb/parser/ast.(*TableName).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:294\ngithub.com/pingcap/tidb/parser/ast.(*TableSource).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:431\ngithub.com/pingcap/tidb/parser/ast.(*Join).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:142\ngithub.com/pingcap/tidb/parser/ast.(*TableRefsClause).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:612\ngithub.com/pingcap/tidb/parser/ast.(*SelectStmt).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:931\ngithub.com/pingcap/tidb/planner/core.Preprocess\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:48\ngithub.com/pingcap/tidb/executor.(*Compiler).Compile\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/compiler.go:34\ngithub.com/pingcap/tidb/session.(*session).execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:800\ngithub.com/pingcap/tidb/session.(*session).Execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:760\ngithub.com/pingcap/tidb/session.getTiDBVar\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:204\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:181\ngithub.com/pingcap/tidb/session.bootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:143\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:1021\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:982\ngithub.com/pingcap/tidb/planner/core_test.newStoreWithBootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/cbo_test.go:270\ngithub.com/pingcap/tidb/planner/core_test.(*testPlanSuite).TestAggEliminator\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/physical_plan_test.go:362\nreflect.Value.call\n\t/usr/lib/go/src/reflect/value.go:460\nreflect.Value.Call\n\t/usr/lib/go/src/reflect/value.go:321\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:854\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:739\nruntime.goexit\n\t/usr/lib/go/src/runtime/asm_amd64.s:1357"] [SQL="SELECT HIGH_PRIORITY VARIABLE_VALUE FROM mysql.tidb WHERE VARIABLE_NAME=\"bootstrapped\""]
[2020/02/06 10:36:43.561 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:2, Type:create schema, State:none, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.561 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS test"]
[2020/02/06 10:36:43.562 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 73, tp general"] [job="ID:2, Type:create schema, State:none, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.561 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.562 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 73, tp general"] [job="ID:2, Type:create schema, State:synced, SchemaState:public, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.561 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.562 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=2]
[2020/02/06 10:36:43.562 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.563 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=1] ["start time"=182.319µs]
[2020/02/06 10:36:43.563 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:43.563 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:4, Type:create schema, State:none, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.563 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS mysql;"]
[2020/02/06 10:36:43.563 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 73, tp general"] [job="ID:4, Type:create schema, State:none, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.563 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.564 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 73, tp general"] [job="ID:4, Type:create schema, State:synced, SchemaState:public, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.563 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.564 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=4]
[2020/02/06 10:36:43.564 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.564 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=1] [neededSchemaVersion=2] ["start time"=55.68µs] [tblIDs="[]"]
[2020/02/06 10:36:43.565 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:6, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.564 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) Not Null PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT Null);"]
[2020/02/06 10:36:43.565 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 73, tp general"] [job="ID:6, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.564 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.566 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 73, tp general"] [job="ID:6, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.564 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.567 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=6]
[2020/02/06 10:36:43.567 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.567 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=2] [neededSchemaVersion=3] ["start time"=241.368µs] [tblIDs="[5]"]
[2020/02/06 10:36:43.568 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:8, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.568 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.tidb(\n\t\tVARIABLE_NAME  VARCHAR(64) Not Null PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT Null,\n\t\tCOMMENT VARCHAR(1024));"]
[2020/02/06 10:36:43.569 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 73, tp general"] [job="ID:8, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.568 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.570 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 73, tp general"] [job="ID:8, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.568 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.570 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=8]
[2020/02/06 10:36:43.570 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.570 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=3] [neededSchemaVersion=4] ["start time"=178.686µs] [tblIDs="[7]"]
[2020/02/06 10:36:43.571 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:10, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.571 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.help_topic (\n  \t\thelp_topic_id int(10) unsigned NOT NULL,\n  \t\tname char(64) NOT NULL,\n  \t\thelp_category_id smallint(5) unsigned NOT NULL,\n  \t\tdescription text NOT NULL,\n  \t\texample text NOT NULL,\n  \t\turl text NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id),\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"]
[2020/02/06 10:36:43.571 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 73, tp general"] [job="ID:10, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.571 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.572 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 73, tp general"] [job="ID:10, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.571 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.573 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=10]
[2020/02/06 10:36:43.573 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.573 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=4] [neededSchemaVersion=5] ["start time"=202.482µs] [tblIDs="[9]"]
[2020/02/06 10:36:43.574 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:12, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.573 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_meta (\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tcount bigint(64) unsigned NOT NULL DEFAULT 0,\n\t\tindex idx_ver(version),\n\t\tunique index tbl(table_id)\n\t);"]
[2020/02/06 10:36:43.574 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 73, tp general"] [job="ID:12, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.573 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.575 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 73, tp general"] [job="ID:12, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.573 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.576 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=12]
[2020/02/06 10:36:43.576 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.576 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=5] [neededSchemaVersion=6] ["start time"=141.988µs] [tblIDs="[11]"]
[2020/02/06 10:36:43.577 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:14, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.576 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_histograms (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tdistinct_count bigint(64) NOT NULL,\n\t\tnull_count bigint(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size bigint(64) NOT NULL DEFAULT 0,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tversion bigint(64) unsigned NOT NULL DEFAULT 0,\n\t\tcm_sketch blob,\n\t\tstats_ver bigint(64) NOT NULL DEFAULT 0,\n\t\tflag bigint(64) NOT NULL DEFAULT 0,\n\t\tcorrelation double NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos blob DEFAULT NULL,\n\t\tunique index tbl(table_id, is_index, hist_id)\n\t);"]
[2020/02/06 10:36:43.577 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 73, tp general"] [job="ID:14, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.576 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.578 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 73, tp general"] [job="ID:14, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.576 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.578 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=14]
[2020/02/06 10:36:43.578 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.579 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=6] [neededSchemaVersion=7] ["start time"=231.502µs] [tblIDs="[13]"]
[2020/02/06 10:36:43.579 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:16, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.579 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_buckets (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tbucket_id bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\trepeats bigint(64) NOT NULL,\n\t\tupper_bound blob NOT NULL,\n\t\tlower_bound blob ,\n\t\tunique index tbl(table_id, is_index, hist_id, bucket_id)\n\t);"]
[2020/02/06 10:36:43.580 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 73, tp general"] [job="ID:16, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.579 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.581 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 73, tp general"] [job="ID:16, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.579 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.581 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=16]
[2020/02/06 10:36:43.581 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.581 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=7] [neededSchemaVersion=8] ["start time"=234.905µs] [tblIDs="[15]"]
[2020/02/06 10:36:43.582 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:18, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.582 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id BIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id BIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts BIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"]
[2020/02/06 10:36:43.583 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 73, tp general"] [job="ID:18, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.582 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.585 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 73, tp general"] [job="ID:18, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.582 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.586 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=18]
[2020/02/06 10:36:43.586 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.586 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=8] [neededSchemaVersion=9] ["start time"=303.278µs] [tblIDs="[17]"]
[2020/02/06 10:36:43.587 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:20, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.587 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id BIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id BIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts BIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"]
[2020/02/06 10:36:43.588 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 73, tp general"] [job="ID:20, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.587 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.589 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 73, tp general"] [job="ID:20, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.587 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.589 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=20]
[2020/02/06 10:36:43.589 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.589 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=9] [neededSchemaVersion=10] ["start time"=140.621µs] [tblIDs="[19]"]
[2020/02/06 10:36:43.590 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:22, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.59 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_top_n (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tvalue longblob,\n\t\tcount bigint(64) UNSIGNED NOT NULL,\n\t\tindex tbl(table_id, is_index, hist_id)\n\t);"]
[2020/02/06 10:36:43.590 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 73, tp general"] [job="ID:22, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.59 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.591 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 73, tp general"] [job="ID:22, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.59 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.591 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=22]
[2020/02/06 10:36:43.591 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.591 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=10] [neededSchemaVersion=11] ["start time"=138.133µs] [tblIDs="[21]"]
[2020/02/06 10:36:43.611 +08:00] [INFO] [bootstrap.go:153] ["bootstrap successful"] ["take time"=49.761523ms]
[2020/02/06 10:36:43.612 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 73, tp general"] ["take time"=4.777µs]
[2020/02/06 10:36:43.612 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 74, tp add index"] ["take time"=7.213µs]
[2020/02/06 10:36:43.612 +08:00] [INFO] [session_pool.go:85] ["[ddl] closing sessionPool"]
[2020/02/06 10:36:43.612 +08:00] [INFO] [ddl.go:349] ["[ddl] DDL closed"] [ID=d7de6e29-0be0-4b1d-84b0-5a1475d316fc] ["take time"=62.87µs]
[2020/02/06 10:36:43.612 +08:00] [INFO] [ddl.go:282] ["[ddl] stop DDL"] [ID=d7de6e29-0be0-4b1d-84b0-5a1475d316fc]
[2020/02/06 10:36:43.612 +08:00] [INFO] [domain.go:456] ["domain closed"] ["take time"=80.709µs]
[2020/02/06 10:36:43.612 +08:00] [INFO] [tidb.go:68] ["new domain"] [store=5fe1414f-dcee-4150-9102-1acd09883e3a] ["ddl lease"=0s] ["stats lease"=-1ns]
[2020/02/06 10:36:43.612 +08:00] [INFO] [ddl.go:289] ["[ddl] start DDL"] [ID=ec416859-3550-4657-9b40-8c410d471dc1]
[2020/02/06 10:36:43.612 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 76, tp add index"]
[2020/02/06 10:36:43.612 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 75, tp general"]
[2020/02/06 10:36:43.618 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=11] ["start time"=1.423048ms]
[2020/02/06 10:36:43.619 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:43.622 +08:00] [INFO] [set.go:180] ["set session var"] [conn=0] [name=sql_mode] [val=STRICT_TRANS_TABLES]
[2020/02/06 10:36:43.626 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 75, tp general"] ["take time"=13.747µs]
[2020/02/06 10:36:43.626 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 76, tp add index"] ["take time"=6.454µs]
[2020/02/06 10:36:43.626 +08:00] [INFO] [session_pool.go:85] ["[ddl] closing sessionPool"]
[2020/02/06 10:36:43.626 +08:00] [INFO] [ddl.go:349] ["[ddl] DDL closed"] [ID=ec416859-3550-4657-9b40-8c410d471dc1] ["take time"=103.098µs]
[2020/02/06 10:36:43.626 +08:00] [INFO] [ddl.go:282] ["[ddl] stop DDL"] [ID=ec416859-3550-4657-9b40-8c410d471dc1]
[2020/02/06 10:36:43.626 +08:00] [INFO] [domain.go:456] ["domain closed"] ["take time"=123.607µs]
PASS: physical_plan_test.go:360: testPlanSuite.TestAggEliminator	0.066s
[2020/02/06 10:36:43.628 +08:00] [INFO] [tidb.go:68] ["new domain"] [store=c30de765-ad6f-4ceb-a626-d0c19742aa45] ["ddl lease"=0s] ["stats lease"=-1ns]
[2020/02/06 10:36:43.628 +08:00] [INFO] [ddl.go:289] ["[ddl] start DDL"] [ID=e0f94e49-10a4-4d2e-8a7c-136d0b598d7a]
[2020/02/06 10:36:43.628 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 77, tp general"]
[2020/02/06 10:36:43.628 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=0] ["start time"=71.436µs]
[2020/02/06 10:36:43.628 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 78, tp add index"]
[2020/02/06 10:36:43.628 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:43.628 +08:00] [INFO] [tidb.go:171] ["rollbackTxn for ddl/autocommit failed"]
[2020/02/06 10:36:43.628 +08:00] [WARN] [session.go:736] ["run statement failed"] [schemaVersion=0] [error="[schema:1049]Unknown database 'mysql'"] [errorVerbose="[schema:1049]Unknown database 'mysql'\ngithub.com/pingcap/errors.AddStack\n\t/home/aliv/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20190809092503-95897b64e011/errors.go:174\ngithub.com/pingcap/tidb/parser/terror.(*Error).GenWithStackByArgs\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/terror/terror.go:240\ngithub.com/pingcap/tidb/executor.(*SimpleExec).executeUse\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/simple.go:66\ngithub.com/pingcap/tidb/executor.(*SimpleExec).Next\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/simple.go:49\ngithub.com/pingcap/tidb/executor.Next\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/executor.go:175\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelayExecutor\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:271\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelay\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:237\ngithub.com/pingcap/tidb/executor.(*ExecStmt).Exec\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:208\ngithub.com/pingcap/tidb/session.runStmt\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/tidb.go:219\ngithub.com/pingcap/tidb/session.(*session).executeStatement\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:733\ngithub.com/pingcap/tidb/session.(*session).execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:812\ngithub.com/pingcap/tidb/session.(*session).Execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:760\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:175\ngithub.com/pingcap/tidb/session.bootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:143\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:1021\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:982\ngithub.com/pingcap/tidb/planner/core_test.newStoreWithBootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/cbo_test.go:270\ngithub.com/pingcap/tidb/planner/core_test.(*testPlanSuite).TestAggregationHints\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/physical_plan_test.go:618\nreflect.Value.call\n\t/usr/lib/go/src/reflect/value.go:460\nreflect.Value.Call\n\t/usr/lib/go/src/reflect/value.go:321\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:854\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:739\nruntime.goexit\n\t/usr/lib/go/src/runtime/asm_amd64.s:1357"] [session="{\n  \"currDBName\": \"\",\n  \"id\": 0,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": \"\"\n}"]
[2020/02/06 10:36:43.629 +08:00] [WARN] [session.go:803] ["compile SQL failed"] [error="[schema:1146]Table 'mysql.tidb' doesn't exist"] [errorVerbose="[schema:1146]Table 'mysql.tidb' doesn't exist\ngithub.com/pingcap/errors.AddStack\n\t/home/aliv/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20190809092503-95897b64e011/errors.go:174\ngithub.com/pingcap/tidb/parser/terror.(*Error).GenWithStackByArgs\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/terror/terror.go:240\ngithub.com/pingcap/tidb/infoschema.(*infoSchema).TableByName\n\t/home/aliv/go/src/github.com/pingcap/tinysql/infoschema/infoschema.go:171\ngithub.com/pingcap/tidb/planner/core.(*preprocessor).handleTableName\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:650\ngithub.com/pingcap/tidb/planner/core.(*preprocessor).Leave\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:133\ngithub.com/pingcap/tidb/parser/ast.(*TableName).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:294\ngithub.com/pingcap/tidb/parser/ast.(*TableSource).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:431\ngithub.com/pingcap/tidb/parser/ast.(*Join).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:142\ngithub.com/pingcap/tidb/parser/ast.(*TableRefsClause).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:612\ngithub.com/pingcap/tidb/parser/ast.(*SelectStmt).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:931\ngithub.com/pingcap/tidb/planner/core.Preprocess\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:48\ngithub.com/pingcap/tidb/executor.(*Compiler).Compile\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/compiler.go:34\ngithub.com/pingcap/tidb/session.(*session).execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:800\ngithub.com/pingcap/tidb/session.(*session).Execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:760\ngithub.com/pingcap/tidb/session.getTiDBVar\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:204\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:181\ngithub.com/pingcap/tidb/session.bootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:143\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:1021\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:982\ngithub.com/pingcap/tidb/planner/core_test.newStoreWithBootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/cbo_test.go:270\ngithub.com/pingcap/tidb/planner/core_test.(*testPlanSuite).TestAggregationHints\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/physical_plan_test.go:618\nreflect.Value.call\n\t/usr/lib/go/src/reflect/value.go:460\nreflect.Value.Call\n\t/usr/lib/go/src/reflect/value.go:321\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:854\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:739\nruntime.goexit\n\t/usr/lib/go/src/runtime/asm_amd64.s:1357"] [SQL="SELECT HIGH_PRIORITY VARIABLE_VALUE FROM mysql.tidb WHERE VARIABLE_NAME=\"bootstrapped\""]
[2020/02/06 10:36:43.629 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:2, Type:create schema, State:none, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.629 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS test"]
[2020/02/06 10:36:43.629 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 77, tp general"] [job="ID:2, Type:create schema, State:none, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.629 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.630 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 77, tp general"] [job="ID:2, Type:create schema, State:synced, SchemaState:public, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.629 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.630 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=2]
[2020/02/06 10:36:43.630 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.630 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=1] ["start time"=165.51µs]
[2020/02/06 10:36:43.630 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:43.630 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:4, Type:create schema, State:none, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.63 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS mysql;"]
[2020/02/06 10:36:43.630 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 77, tp general"] [job="ID:4, Type:create schema, State:none, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.63 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.631 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 77, tp general"] [job="ID:4, Type:create schema, State:synced, SchemaState:public, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.63 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.631 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=4]
[2020/02/06 10:36:43.631 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.631 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=1] [neededSchemaVersion=2] ["start time"=39.772µs] [tblIDs="[]"]
[2020/02/06 10:36:43.631 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:6, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.631 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) Not Null PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT Null);"]
[2020/02/06 10:36:43.631 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 77, tp general"] [job="ID:6, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.631 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.632 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 77, tp general"] [job="ID:6, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.631 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.632 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=6]
[2020/02/06 10:36:43.632 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.633 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=2] [neededSchemaVersion=3] ["start time"=122.99µs] [tblIDs="[5]"]
[2020/02/06 10:36:43.633 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:8, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.633 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.tidb(\n\t\tVARIABLE_NAME  VARCHAR(64) Not Null PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT Null,\n\t\tCOMMENT VARCHAR(1024));"]
[2020/02/06 10:36:43.634 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 77, tp general"] [job="ID:8, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.633 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.635 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 77, tp general"] [job="ID:8, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.633 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.635 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=8]
[2020/02/06 10:36:43.636 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.636 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=3] [neededSchemaVersion=4] ["start time"=136.216µs] [tblIDs="[7]"]
[2020/02/06 10:36:43.637 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:10, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.636 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.help_topic (\n  \t\thelp_topic_id int(10) unsigned NOT NULL,\n  \t\tname char(64) NOT NULL,\n  \t\thelp_category_id smallint(5) unsigned NOT NULL,\n  \t\tdescription text NOT NULL,\n  \t\texample text NOT NULL,\n  \t\turl text NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id),\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"]
[2020/02/06 10:36:43.637 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 77, tp general"] [job="ID:10, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.636 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.639 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 77, tp general"] [job="ID:10, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.636 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.639 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=10]
[2020/02/06 10:36:43.639 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.640 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=4] [neededSchemaVersion=5] ["start time"=267.783µs] [tblIDs="[9]"]
[2020/02/06 10:36:43.640 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:12, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.64 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_meta (\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tcount bigint(64) unsigned NOT NULL DEFAULT 0,\n\t\tindex idx_ver(version),\n\t\tunique index tbl(table_id)\n\t);"]
[2020/02/06 10:36:43.641 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 77, tp general"] [job="ID:12, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.64 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.641 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 77, tp general"] [job="ID:12, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.64 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.642 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=12]
[2020/02/06 10:36:43.642 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.642 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=5] [neededSchemaVersion=6] ["start time"=130.661µs] [tblIDs="[11]"]
[2020/02/06 10:36:43.642 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:14, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.642 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_histograms (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tdistinct_count bigint(64) NOT NULL,\n\t\tnull_count bigint(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size bigint(64) NOT NULL DEFAULT 0,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tversion bigint(64) unsigned NOT NULL DEFAULT 0,\n\t\tcm_sketch blob,\n\t\tstats_ver bigint(64) NOT NULL DEFAULT 0,\n\t\tflag bigint(64) NOT NULL DEFAULT 0,\n\t\tcorrelation double NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos blob DEFAULT NULL,\n\t\tunique index tbl(table_id, is_index, hist_id)\n\t);"]
[2020/02/06 10:36:43.643 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 77, tp general"] [job="ID:14, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.642 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.644 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 77, tp general"] [job="ID:14, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.642 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.644 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=14]
[2020/02/06 10:36:43.644 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.645 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=6] [neededSchemaVersion=7] ["start time"=206.706µs] [tblIDs="[13]"]
[2020/02/06 10:36:43.645 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:16, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.645 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_buckets (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tbucket_id bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\trepeats bigint(64) NOT NULL,\n\t\tupper_bound blob NOT NULL,\n\t\tlower_bound blob ,\n\t\tunique index tbl(table_id, is_index, hist_id, bucket_id)\n\t);"]
[2020/02/06 10:36:43.645 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 77, tp general"] [job="ID:16, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.645 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.646 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 77, tp general"] [job="ID:16, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.645 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.647 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=16]
[2020/02/06 10:36:43.647 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.647 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=7] [neededSchemaVersion=8] ["start time"=332.518µs] [tblIDs="[15]"]
[2020/02/06 10:36:43.647 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:18, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.647 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id BIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id BIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts BIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"]
[2020/02/06 10:36:43.648 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 77, tp general"] [job="ID:18, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.647 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.649 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 77, tp general"] [job="ID:18, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.647 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.649 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=18]
[2020/02/06 10:36:43.649 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.649 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=8] [neededSchemaVersion=9] ["start time"=165.296µs] [tblIDs="[17]"]
[2020/02/06 10:36:43.650 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:20, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.65 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id BIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id BIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts BIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"]
[2020/02/06 10:36:43.650 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 77, tp general"] [job="ID:20, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.65 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.651 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 77, tp general"] [job="ID:20, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.65 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.651 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=20]
[2020/02/06 10:36:43.651 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.652 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=9] [neededSchemaVersion=10] ["start time"=140.657µs] [tblIDs="[19]"]
[2020/02/06 10:36:43.652 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:22, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.652 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_top_n (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tvalue longblob,\n\t\tcount bigint(64) UNSIGNED NOT NULL,\n\t\tindex tbl(table_id, is_index, hist_id)\n\t);"]
[2020/02/06 10:36:43.652 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 77, tp general"] [job="ID:22, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.652 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.653 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 77, tp general"] [job="ID:22, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.652 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.654 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=22]
[2020/02/06 10:36:43.654 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.654 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=10] [neededSchemaVersion=11] ["start time"=277.892µs] [tblIDs="[21]"]
[2020/02/06 10:36:43.673 +08:00] [INFO] [bootstrap.go:153] ["bootstrap successful"] ["take time"=44.867349ms]
[2020/02/06 10:36:43.673 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 77, tp general"] ["take time"=8.891µs]
[2020/02/06 10:36:43.673 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 78, tp add index"] ["take time"=4.268µs]
[2020/02/06 10:36:43.673 +08:00] [INFO] [session_pool.go:85] ["[ddl] closing sessionPool"]
[2020/02/06 10:36:43.673 +08:00] [INFO] [ddl.go:349] ["[ddl] DDL closed"] [ID=e0f94e49-10a4-4d2e-8a7c-136d0b598d7a] ["take time"=71.557µs]
[2020/02/06 10:36:43.673 +08:00] [INFO] [ddl.go:282] ["[ddl] stop DDL"] [ID=e0f94e49-10a4-4d2e-8a7c-136d0b598d7a]
[2020/02/06 10:36:43.673 +08:00] [INFO] [domain.go:456] ["domain closed"] ["take time"=100.924µs]
[2020/02/06 10:36:43.673 +08:00] [INFO] [tidb.go:68] ["new domain"] [store=c30de765-ad6f-4ceb-a626-d0c19742aa45] ["ddl lease"=0s] ["stats lease"=-1ns]
[2020/02/06 10:36:43.673 +08:00] [INFO] [ddl.go:289] ["[ddl] start DDL"] [ID=3b4241cb-45ba-4688-85de-efebd6ef4556]
[2020/02/06 10:36:43.674 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 79, tp general"]
[2020/02/06 10:36:43.674 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 80, tp add index"]
[2020/02/06 10:36:43.680 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=11] ["start time"=4.865694ms]
[2020/02/06 10:36:43.680 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:43.687 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 79, tp general"] ["take time"=18.006µs]
[2020/02/06 10:36:43.687 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 80, tp add index"] ["take time"=4.434µs]
[2020/02/06 10:36:43.687 +08:00] [INFO] [session_pool.go:85] ["[ddl] closing sessionPool"]
[2020/02/06 10:36:43.687 +08:00] [INFO] [ddl.go:349] ["[ddl] DDL closed"] [ID=3b4241cb-45ba-4688-85de-efebd6ef4556] ["take time"=101.612µs]
[2020/02/06 10:36:43.687 +08:00] [INFO] [ddl.go:282] ["[ddl] stop DDL"] [ID=3b4241cb-45ba-4688-85de-efebd6ef4556]
[2020/02/06 10:36:43.687 +08:00] [INFO] [domain.go:456] ["domain closed"] ["take time"=120.674µs]
PASS: physical_plan_test.go:616: testPlanSuite.TestAggregationHints	0.061s
[2020/02/06 10:36:43.688 +08:00] [INFO] [tidb.go:68] ["new domain"] [store=f7ecb159-4f02-48fe-870e-ebb023328b32] ["ddl lease"=0s] ["stats lease"=-1ns]
[2020/02/06 10:36:43.688 +08:00] [INFO] [ddl.go:289] ["[ddl] start DDL"] [ID=2fcfbe97-c66e-4692-855e-9e8f17a105ca]
[2020/02/06 10:36:43.688 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 81, tp general"]
[2020/02/06 10:36:43.688 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 82, tp add index"]
[2020/02/06 10:36:43.688 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=0] ["start time"=131.113µs]
[2020/02/06 10:36:43.688 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:43.688 +08:00] [INFO] [tidb.go:171] ["rollbackTxn for ddl/autocommit failed"]
[2020/02/06 10:36:43.689 +08:00] [WARN] [session.go:736] ["run statement failed"] [schemaVersion=0] [error="[schema:1049]Unknown database 'mysql'"] [errorVerbose="[schema:1049]Unknown database 'mysql'\ngithub.com/pingcap/errors.AddStack\n\t/home/aliv/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20190809092503-95897b64e011/errors.go:174\ngithub.com/pingcap/tidb/parser/terror.(*Error).GenWithStackByArgs\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/terror/terror.go:240\ngithub.com/pingcap/tidb/executor.(*SimpleExec).executeUse\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/simple.go:66\ngithub.com/pingcap/tidb/executor.(*SimpleExec).Next\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/simple.go:49\ngithub.com/pingcap/tidb/executor.Next\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/executor.go:175\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelayExecutor\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:271\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelay\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:237\ngithub.com/pingcap/tidb/executor.(*ExecStmt).Exec\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:208\ngithub.com/pingcap/tidb/session.runStmt\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/tidb.go:219\ngithub.com/pingcap/tidb/session.(*session).executeStatement\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:733\ngithub.com/pingcap/tidb/session.(*session).execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:812\ngithub.com/pingcap/tidb/session.(*session).Execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:760\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:175\ngithub.com/pingcap/tidb/session.bootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:143\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:1021\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:982\ngithub.com/pingcap/tidb/planner/core_test.newStoreWithBootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/cbo_test.go:270\ngithub.com/pingcap/tidb/planner/core_test.(*testPlanSuite).TestDAGPlanBuilderAgg\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/physical_plan_test.go:289\nreflect.Value.call\n\t/usr/lib/go/src/reflect/value.go:460\nreflect.Value.Call\n\t/usr/lib/go/src/reflect/value.go:321\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:854\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:739\nruntime.goexit\n\t/usr/lib/go/src/runtime/asm_amd64.s:1357"] [session="{\n  \"currDBName\": \"\",\n  \"id\": 0,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": \"\"\n}"]
[2020/02/06 10:36:43.689 +08:00] [WARN] [session.go:803] ["compile SQL failed"] [error="[schema:1146]Table 'mysql.tidb' doesn't exist"] [errorVerbose="[schema:1146]Table 'mysql.tidb' doesn't exist\ngithub.com/pingcap/errors.AddStack\n\t/home/aliv/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20190809092503-95897b64e011/errors.go:174\ngithub.com/pingcap/tidb/parser/terror.(*Error).GenWithStackByArgs\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/terror/terror.go:240\ngithub.com/pingcap/tidb/infoschema.(*infoSchema).TableByName\n\t/home/aliv/go/src/github.com/pingcap/tinysql/infoschema/infoschema.go:171\ngithub.com/pingcap/tidb/planner/core.(*preprocessor).handleTableName\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:650\ngithub.com/pingcap/tidb/planner/core.(*preprocessor).Leave\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:133\ngithub.com/pingcap/tidb/parser/ast.(*TableName).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:294\ngithub.com/pingcap/tidb/parser/ast.(*TableSource).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:431\ngithub.com/pingcap/tidb/parser/ast.(*Join).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:142\ngithub.com/pingcap/tidb/parser/ast.(*TableRefsClause).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:612\ngithub.com/pingcap/tidb/parser/ast.(*SelectStmt).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:931\ngithub.com/pingcap/tidb/planner/core.Preprocess\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:48\ngithub.com/pingcap/tidb/executor.(*Compiler).Compile\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/compiler.go:34\ngithub.com/pingcap/tidb/session.(*session).execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:800\ngithub.com/pingcap/tidb/session.(*session).Execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:760\ngithub.com/pingcap/tidb/session.getTiDBVar\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:204\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:181\ngithub.com/pingcap/tidb/session.bootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:143\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:1021\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:982\ngithub.com/pingcap/tidb/planner/core_test.newStoreWithBootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/cbo_test.go:270\ngithub.com/pingcap/tidb/planner/core_test.(*testPlanSuite).TestDAGPlanBuilderAgg\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/physical_plan_test.go:289\nreflect.Value.call\n\t/usr/lib/go/src/reflect/value.go:460\nreflect.Value.Call\n\t/usr/lib/go/src/reflect/value.go:321\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:854\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:739\nruntime.goexit\n\t/usr/lib/go/src/runtime/asm_amd64.s:1357"] [SQL="SELECT HIGH_PRIORITY VARIABLE_VALUE FROM mysql.tidb WHERE VARIABLE_NAME=\"bootstrapped\""]
[2020/02/06 10:36:43.689 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:2, Type:create schema, State:none, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.689 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS test"]
[2020/02/06 10:36:43.689 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 81, tp general"] [job="ID:2, Type:create schema, State:none, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.689 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.690 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 81, tp general"] [job="ID:2, Type:create schema, State:synced, SchemaState:public, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.689 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.690 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=2]
[2020/02/06 10:36:43.690 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.690 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=1] ["start time"=158.45µs]
[2020/02/06 10:36:43.690 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:43.691 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:4, Type:create schema, State:none, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.691 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS mysql;"]
[2020/02/06 10:36:43.691 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 81, tp general"] [job="ID:4, Type:create schema, State:none, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.691 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.691 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 81, tp general"] [job="ID:4, Type:create schema, State:synced, SchemaState:public, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.691 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.692 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=4]
[2020/02/06 10:36:43.692 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.692 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=1] [neededSchemaVersion=2] ["start time"=41.122µs] [tblIDs="[]"]
[2020/02/06 10:36:43.692 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:6, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.692 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) Not Null PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT Null);"]
[2020/02/06 10:36:43.692 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 81, tp general"] [job="ID:6, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.692 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.693 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 81, tp general"] [job="ID:6, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.692 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.693 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=6]
[2020/02/06 10:36:43.693 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.693 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=2] [neededSchemaVersion=3] ["start time"=99.638µs] [tblIDs="[5]"]
[2020/02/06 10:36:43.694 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:8, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.693 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.tidb(\n\t\tVARIABLE_NAME  VARCHAR(64) Not Null PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT Null,\n\t\tCOMMENT VARCHAR(1024));"]
[2020/02/06 10:36:43.694 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 81, tp general"] [job="ID:8, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.693 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.694 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 81, tp general"] [job="ID:8, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.693 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.695 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=8]
[2020/02/06 10:36:43.695 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.695 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=3] [neededSchemaVersion=4] ["start time"=118.92µs] [tblIDs="[7]"]
[2020/02/06 10:36:43.695 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:10, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.695 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.help_topic (\n  \t\thelp_topic_id int(10) unsigned NOT NULL,\n  \t\tname char(64) NOT NULL,\n  \t\thelp_category_id smallint(5) unsigned NOT NULL,\n  \t\tdescription text NOT NULL,\n  \t\texample text NOT NULL,\n  \t\turl text NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id),\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"]
[2020/02/06 10:36:43.696 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 81, tp general"] [job="ID:10, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.695 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.696 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 81, tp general"] [job="ID:10, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.695 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.697 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=10]
[2020/02/06 10:36:43.697 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.697 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=4] [neededSchemaVersion=5] ["start time"=162.694µs] [tblIDs="[9]"]
[2020/02/06 10:36:43.697 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:12, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.697 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_meta (\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tcount bigint(64) unsigned NOT NULL DEFAULT 0,\n\t\tindex idx_ver(version),\n\t\tunique index tbl(table_id)\n\t);"]
[2020/02/06 10:36:43.697 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 81, tp general"] [job="ID:12, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.697 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.698 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 81, tp general"] [job="ID:12, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.697 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.699 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=12]
[2020/02/06 10:36:43.699 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.699 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=5] [neededSchemaVersion=6] ["start time"=158.748µs] [tblIDs="[11]"]
[2020/02/06 10:36:43.699 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:14, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.699 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_histograms (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tdistinct_count bigint(64) NOT NULL,\n\t\tnull_count bigint(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size bigint(64) NOT NULL DEFAULT 0,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tversion bigint(64) unsigned NOT NULL DEFAULT 0,\n\t\tcm_sketch blob,\n\t\tstats_ver bigint(64) NOT NULL DEFAULT 0,\n\t\tflag bigint(64) NOT NULL DEFAULT 0,\n\t\tcorrelation double NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos blob DEFAULT NULL,\n\t\tunique index tbl(table_id, is_index, hist_id)\n\t);"]
[2020/02/06 10:36:43.700 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 81, tp general"] [job="ID:14, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.699 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.701 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 81, tp general"] [job="ID:14, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.699 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.702 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=14]
[2020/02/06 10:36:43.702 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.702 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=6] [neededSchemaVersion=7] ["start time"=249.042µs] [tblIDs="[13]"]
[2020/02/06 10:36:43.703 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:16, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.703 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_buckets (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tbucket_id bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\trepeats bigint(64) NOT NULL,\n\t\tupper_bound blob NOT NULL,\n\t\tlower_bound blob ,\n\t\tunique index tbl(table_id, is_index, hist_id, bucket_id)\n\t);"]
[2020/02/06 10:36:43.704 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 81, tp general"] [job="ID:16, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.703 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.705 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 81, tp general"] [job="ID:16, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.703 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.705 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=16]
[2020/02/06 10:36:43.705 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.705 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=7] [neededSchemaVersion=8] ["start time"=276.063µs] [tblIDs="[15]"]
[2020/02/06 10:36:43.706 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:18, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.706 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id BIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id BIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts BIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"]
[2020/02/06 10:36:43.706 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 81, tp general"] [job="ID:18, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.706 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.707 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 81, tp general"] [job="ID:18, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.706 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.708 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=18]
[2020/02/06 10:36:43.708 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.708 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=8] [neededSchemaVersion=9] ["start time"=141.507µs] [tblIDs="[17]"]
[2020/02/06 10:36:43.708 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:20, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.708 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id BIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id BIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts BIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"]
[2020/02/06 10:36:43.709 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 81, tp general"] [job="ID:20, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.708 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.709 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 81, tp general"] [job="ID:20, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.708 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.710 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=20]
[2020/02/06 10:36:43.710 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.710 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=9] [neededSchemaVersion=10] ["start time"=114.402µs] [tblIDs="[19]"]
[2020/02/06 10:36:43.710 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:22, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.71 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_top_n (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tvalue longblob,\n\t\tcount bigint(64) UNSIGNED NOT NULL,\n\t\tindex tbl(table_id, is_index, hist_id)\n\t);"]
[2020/02/06 10:36:43.710 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 81, tp general"] [job="ID:22, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.71 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.711 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 81, tp general"] [job="ID:22, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.71 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.711 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=22]
[2020/02/06 10:36:43.711 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.712 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=10] [neededSchemaVersion=11] ["start time"=119.761µs] [tblIDs="[21]"]
[2020/02/06 10:36:43.726 +08:00] [INFO] [bootstrap.go:153] ["bootstrap successful"] ["take time"=38.077113ms]
[2020/02/06 10:36:43.727 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 81, tp general"] ["take time"=6.298µs]
[2020/02/06 10:36:43.727 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 82, tp add index"] ["take time"=4.776µs]
[2020/02/06 10:36:43.727 +08:00] [INFO] [session_pool.go:85] ["[ddl] closing sessionPool"]
[2020/02/06 10:36:43.727 +08:00] [INFO] [ddl.go:349] ["[ddl] DDL closed"] [ID=2fcfbe97-c66e-4692-855e-9e8f17a105ca] ["take time"=57.19µs]
[2020/02/06 10:36:43.727 +08:00] [INFO] [ddl.go:282] ["[ddl] stop DDL"] [ID=2fcfbe97-c66e-4692-855e-9e8f17a105ca]
[2020/02/06 10:36:43.727 +08:00] [INFO] [domain.go:456] ["domain closed"] ["take time"=82.206µs]
[2020/02/06 10:36:43.727 +08:00] [INFO] [tidb.go:68] ["new domain"] [store=f7ecb159-4f02-48fe-870e-ebb023328b32] ["ddl lease"=0s] ["stats lease"=-1ns]
[2020/02/06 10:36:43.727 +08:00] [INFO] [ddl.go:289] ["[ddl] start DDL"] [ID=4e162e92-9a3e-407c-a3e9-c35bde765954]
[2020/02/06 10:36:43.727 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 83, tp general"]
[2020/02/06 10:36:43.727 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 84, tp add index"]
[2020/02/06 10:36:43.732 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=11] ["start time"=4.266609ms]
[2020/02/06 10:36:43.732 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:43.734 +08:00] [INFO] [set.go:180] ["set session var"] [conn=0] [name=sql_mode] [val=STRICT_TRANS_TABLES]
[2020/02/06 10:36:43.738 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 83, tp general"] ["take time"=33.139µs]
[2020/02/06 10:36:43.738 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 84, tp add index"] ["take time"=7.637µs]
[2020/02/06 10:36:43.738 +08:00] [INFO] [session_pool.go:85] ["[ddl] closing sessionPool"]
[2020/02/06 10:36:43.738 +08:00] [INFO] [ddl.go:349] ["[ddl] DDL closed"] [ID=4e162e92-9a3e-407c-a3e9-c35bde765954] ["take time"=149.965µs]
[2020/02/06 10:36:43.738 +08:00] [INFO] [ddl.go:282] ["[ddl] stop DDL"] [ID=4e162e92-9a3e-407c-a3e9-c35bde765954]
[2020/02/06 10:36:43.738 +08:00] [INFO] [domain.go:456] ["domain closed"] ["take time"=176.568µs]
PASS: physical_plan_test.go:287: testPlanSuite.TestDAGPlanBuilderAgg	0.052s
[2020/02/06 10:36:43.740 +08:00] [INFO] [tidb.go:68] ["new domain"] [store=77662140-0587-4b84-a843-36e3b52ee437] ["ddl lease"=0s] ["stats lease"=-1ns]
[2020/02/06 10:36:43.740 +08:00] [INFO] [ddl.go:289] ["[ddl] start DDL"] [ID=8ac4c822-f678-45ec-94cd-eddf6fda7b9f]
[2020/02/06 10:36:43.740 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 86, tp add index"]
[2020/02/06 10:36:43.740 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 85, tp general"]
[2020/02/06 10:36:43.740 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=0] ["start time"=80.126µs]
[2020/02/06 10:36:43.740 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:43.740 +08:00] [INFO] [tidb.go:171] ["rollbackTxn for ddl/autocommit failed"]
[2020/02/06 10:36:43.740 +08:00] [WARN] [session.go:736] ["run statement failed"] [schemaVersion=0] [error="[schema:1049]Unknown database 'mysql'"] [errorVerbose="[schema:1049]Unknown database 'mysql'\ngithub.com/pingcap/errors.AddStack\n\t/home/aliv/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20190809092503-95897b64e011/errors.go:174\ngithub.com/pingcap/tidb/parser/terror.(*Error).GenWithStackByArgs\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/terror/terror.go:240\ngithub.com/pingcap/tidb/executor.(*SimpleExec).executeUse\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/simple.go:66\ngithub.com/pingcap/tidb/executor.(*SimpleExec).Next\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/simple.go:49\ngithub.com/pingcap/tidb/executor.Next\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/executor.go:175\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelayExecutor\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:271\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelay\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:237\ngithub.com/pingcap/tidb/executor.(*ExecStmt).Exec\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:208\ngithub.com/pingcap/tidb/session.runStmt\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/tidb.go:219\ngithub.com/pingcap/tidb/session.(*session).executeStatement\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:733\ngithub.com/pingcap/tidb/session.(*session).execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:812\ngithub.com/pingcap/tidb/session.(*session).Execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:760\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:175\ngithub.com/pingcap/tidb/session.bootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:143\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:1021\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:982\ngithub.com/pingcap/tidb/planner/core_test.newStoreWithBootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/cbo_test.go:270\ngithub.com/pingcap/tidb/planner/core_test.(*testPlanSuite).TestDAGPlanBuilderBasePhysicalPlan\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/physical_plan_test.go:213\nreflect.Value.call\n\t/usr/lib/go/src/reflect/value.go:460\nreflect.Value.Call\n\t/usr/lib/go/src/reflect/value.go:321\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:854\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:739\nruntime.goexit\n\t/usr/lib/go/src/runtime/asm_amd64.s:1357"] [session="{\n  \"currDBName\": \"\",\n  \"id\": 0,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": \"\"\n}"]
[2020/02/06 10:36:43.740 +08:00] [WARN] [session.go:803] ["compile SQL failed"] [error="[schema:1146]Table 'mysql.tidb' doesn't exist"] [errorVerbose="[schema:1146]Table 'mysql.tidb' doesn't exist\ngithub.com/pingcap/errors.AddStack\n\t/home/aliv/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20190809092503-95897b64e011/errors.go:174\ngithub.com/pingcap/tidb/parser/terror.(*Error).GenWithStackByArgs\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/terror/terror.go:240\ngithub.com/pingcap/tidb/infoschema.(*infoSchema).TableByName\n\t/home/aliv/go/src/github.com/pingcap/tinysql/infoschema/infoschema.go:171\ngithub.com/pingcap/tidb/planner/core.(*preprocessor).handleTableName\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:650\ngithub.com/pingcap/tidb/planner/core.(*preprocessor).Leave\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:133\ngithub.com/pingcap/tidb/parser/ast.(*TableName).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:294\ngithub.com/pingcap/tidb/parser/ast.(*TableSource).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:431\ngithub.com/pingcap/tidb/parser/ast.(*Join).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:142\ngithub.com/pingcap/tidb/parser/ast.(*TableRefsClause).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:612\ngithub.com/pingcap/tidb/parser/ast.(*SelectStmt).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:931\ngithub.com/pingcap/tidb/planner/core.Preprocess\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:48\ngithub.com/pingcap/tidb/executor.(*Compiler).Compile\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/compiler.go:34\ngithub.com/pingcap/tidb/session.(*session).execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:800\ngithub.com/pingcap/tidb/session.(*session).Execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:760\ngithub.com/pingcap/tidb/session.getTiDBVar\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:204\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:181\ngithub.com/pingcap/tidb/session.bootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:143\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:1021\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:982\ngithub.com/pingcap/tidb/planner/core_test.newStoreWithBootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/cbo_test.go:270\ngithub.com/pingcap/tidb/planner/core_test.(*testPlanSuite).TestDAGPlanBuilderBasePhysicalPlan\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/physical_plan_test.go:213\nreflect.Value.call\n\t/usr/lib/go/src/reflect/value.go:460\nreflect.Value.Call\n\t/usr/lib/go/src/reflect/value.go:321\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:854\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:739\nruntime.goexit\n\t/usr/lib/go/src/runtime/asm_amd64.s:1357"] [SQL="SELECT HIGH_PRIORITY VARIABLE_VALUE FROM mysql.tidb WHERE VARIABLE_NAME=\"bootstrapped\""]
[2020/02/06 10:36:43.740 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:2, Type:create schema, State:none, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.74 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS test"]
[2020/02/06 10:36:43.741 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 85, tp general"] [job="ID:2, Type:create schema, State:none, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.74 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.741 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 85, tp general"] [job="ID:2, Type:create schema, State:synced, SchemaState:public, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.74 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.741 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=2]
[2020/02/06 10:36:43.741 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.741 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=1] ["start time"=150.72µs]
[2020/02/06 10:36:43.741 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:43.742 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:4, Type:create schema, State:none, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.741 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS mysql;"]
[2020/02/06 10:36:43.742 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 85, tp general"] [job="ID:4, Type:create schema, State:none, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.741 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.742 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 85, tp general"] [job="ID:4, Type:create schema, State:synced, SchemaState:public, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.741 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.742 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=4]
[2020/02/06 10:36:43.742 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.742 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=1] [neededSchemaVersion=2] ["start time"=42.671µs] [tblIDs="[]"]
[2020/02/06 10:36:43.743 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:6, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.743 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) Not Null PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT Null);"]
[2020/02/06 10:36:43.743 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 85, tp general"] [job="ID:6, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.743 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.744 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 85, tp general"] [job="ID:6, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.743 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.744 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=6]
[2020/02/06 10:36:43.744 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.744 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=2] [neededSchemaVersion=3] ["start time"=110.958µs] [tblIDs="[5]"]
[2020/02/06 10:36:43.745 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:8, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.744 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.tidb(\n\t\tVARIABLE_NAME  VARCHAR(64) Not Null PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT Null,\n\t\tCOMMENT VARCHAR(1024));"]
[2020/02/06 10:36:43.745 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 85, tp general"] [job="ID:8, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.744 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.745 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 85, tp general"] [job="ID:8, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.744 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.746 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=8]
[2020/02/06 10:36:43.746 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.746 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=3] [neededSchemaVersion=4] ["start time"=91.434µs] [tblIDs="[7]"]
[2020/02/06 10:36:43.746 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:10, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.746 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.help_topic (\n  \t\thelp_topic_id int(10) unsigned NOT NULL,\n  \t\tname char(64) NOT NULL,\n  \t\thelp_category_id smallint(5) unsigned NOT NULL,\n  \t\tdescription text NOT NULL,\n  \t\texample text NOT NULL,\n  \t\turl text NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id),\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"]
[2020/02/06 10:36:43.746 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 85, tp general"] [job="ID:10, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.746 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.747 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 85, tp general"] [job="ID:10, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.746 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.747 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=10]
[2020/02/06 10:36:43.747 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.747 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=4] [neededSchemaVersion=5] ["start time"=107.26µs] [tblIDs="[9]"]
[2020/02/06 10:36:43.748 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:12, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.748 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_meta (\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tcount bigint(64) unsigned NOT NULL DEFAULT 0,\n\t\tindex idx_ver(version),\n\t\tunique index tbl(table_id)\n\t);"]
[2020/02/06 10:36:43.748 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 85, tp general"] [job="ID:12, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.748 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.749 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 85, tp general"] [job="ID:12, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.748 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.749 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=12]
[2020/02/06 10:36:43.749 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.749 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=5] [neededSchemaVersion=6] ["start time"=116.952µs] [tblIDs="[11]"]
[2020/02/06 10:36:43.752 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:14, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.749 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_histograms (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tdistinct_count bigint(64) NOT NULL,\n\t\tnull_count bigint(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size bigint(64) NOT NULL DEFAULT 0,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tversion bigint(64) unsigned NOT NULL DEFAULT 0,\n\t\tcm_sketch blob,\n\t\tstats_ver bigint(64) NOT NULL DEFAULT 0,\n\t\tflag bigint(64) NOT NULL DEFAULT 0,\n\t\tcorrelation double NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos blob DEFAULT NULL,\n\t\tunique index tbl(table_id, is_index, hist_id)\n\t);"]
[2020/02/06 10:36:43.753 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 85, tp general"] [job="ID:14, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.749 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.754 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 85, tp general"] [job="ID:14, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.749 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.755 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=14]
[2020/02/06 10:36:43.755 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.755 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=6] [neededSchemaVersion=7] ["start time"=253.134µs] [tblIDs="[13]"]
[2020/02/06 10:36:43.756 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:16, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.755 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_buckets (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tbucket_id bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\trepeats bigint(64) NOT NULL,\n\t\tupper_bound blob NOT NULL,\n\t\tlower_bound blob ,\n\t\tunique index tbl(table_id, is_index, hist_id, bucket_id)\n\t);"]
[2020/02/06 10:36:43.756 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 85, tp general"] [job="ID:16, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.755 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.757 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 85, tp general"] [job="ID:16, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.755 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.757 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=16]
[2020/02/06 10:36:43.757 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.757 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=7] [neededSchemaVersion=8] ["start time"=132.757µs] [tblIDs="[15]"]
[2020/02/06 10:36:43.757 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:18, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.757 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id BIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id BIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts BIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"]
[2020/02/06 10:36:43.758 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 85, tp general"] [job="ID:18, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.757 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.758 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 85, tp general"] [job="ID:18, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.757 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.759 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=18]
[2020/02/06 10:36:43.759 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.759 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=8] [neededSchemaVersion=9] ["start time"=106.89µs] [tblIDs="[17]"]
[2020/02/06 10:36:43.759 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:20, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.759 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id BIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id BIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts BIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"]
[2020/02/06 10:36:43.759 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 85, tp general"] [job="ID:20, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.759 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.760 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 85, tp general"] [job="ID:20, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.759 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.760 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=20]
[2020/02/06 10:36:43.760 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.760 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=9] [neededSchemaVersion=10] ["start time"=118.134µs] [tblIDs="[19]"]
[2020/02/06 10:36:43.761 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:22, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.76 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_top_n (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tvalue longblob,\n\t\tcount bigint(64) UNSIGNED NOT NULL,\n\t\tindex tbl(table_id, is_index, hist_id)\n\t);"]
[2020/02/06 10:36:43.761 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 85, tp general"] [job="ID:22, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.76 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.761 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 85, tp general"] [job="ID:22, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.76 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.762 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=22]
[2020/02/06 10:36:43.762 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.762 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=10] [neededSchemaVersion=11] ["start time"=98.965µs] [tblIDs="[21]"]
[2020/02/06 10:36:43.775 +08:00] [INFO] [bootstrap.go:153] ["bootstrap successful"] ["take time"=35.502627ms]
[2020/02/06 10:36:43.779 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 85, tp general"] ["take time"=5.016µs]
[2020/02/06 10:36:43.779 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 86, tp add index"] ["take time"=3.343µs]
[2020/02/06 10:36:43.779 +08:00] [INFO] [session_pool.go:85] ["[ddl] closing sessionPool"]
[2020/02/06 10:36:43.779 +08:00] [INFO] [ddl.go:349] ["[ddl] DDL closed"] [ID=8ac4c822-f678-45ec-94cd-eddf6fda7b9f] ["take time"=69.22µs]
[2020/02/06 10:36:43.779 +08:00] [INFO] [ddl.go:282] ["[ddl] stop DDL"] [ID=8ac4c822-f678-45ec-94cd-eddf6fda7b9f]
[2020/02/06 10:36:43.779 +08:00] [INFO] [domain.go:456] ["domain closed"] ["take time"=83.098µs]
[2020/02/06 10:36:43.779 +08:00] [INFO] [tidb.go:68] ["new domain"] [store=77662140-0587-4b84-a843-36e3b52ee437] ["ddl lease"=0s] ["stats lease"=-1ns]
[2020/02/06 10:36:43.779 +08:00] [INFO] [ddl.go:289] ["[ddl] start DDL"] [ID=18ae08c6-e244-423e-bfa2-3af7a0b86fff]
[2020/02/06 10:36:43.779 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 87, tp general"]
[2020/02/06 10:36:43.779 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 88, tp add index"]
[2020/02/06 10:36:43.781 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=11] ["start time"=926.395µs]
[2020/02/06 10:36:43.781 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:43.783 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 87, tp general"] ["take time"=14.852µs]
[2020/02/06 10:36:43.783 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 88, tp add index"] ["take time"=2.07µs]
[2020/02/06 10:36:43.784 +08:00] [INFO] [session_pool.go:85] ["[ddl] closing sessionPool"]
[2020/02/06 10:36:43.784 +08:00] [INFO] [ddl.go:349] ["[ddl] DDL closed"] [ID=18ae08c6-e244-423e-bfa2-3af7a0b86fff] ["take time"=51.946µs]
[2020/02/06 10:36:43.784 +08:00] [INFO] [ddl.go:282] ["[ddl] stop DDL"] [ID=18ae08c6-e244-423e-bfa2-3af7a0b86fff]
[2020/02/06 10:36:43.784 +08:00] [INFO] [domain.go:456] ["domain closed"] ["take time"=65.223µs]
PASS: physical_plan_test.go:211: testPlanSuite.TestDAGPlanBuilderBasePhysicalPlan	0.045s
[2020/02/06 10:36:43.784 +08:00] [INFO] [tidb.go:68] ["new domain"] [store=5d2e95c6-a993-4bd4-9ea8-79f71a16f9fa] ["ddl lease"=0s] ["stats lease"=-1ns]
[2020/02/06 10:36:43.784 +08:00] [INFO] [ddl.go:289] ["[ddl] start DDL"] [ID=76cd5f23-4c88-4df1-bbef-3e372ba155f6]
[2020/02/06 10:36:43.784 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 89, tp general"]
[2020/02/06 10:36:43.784 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 90, tp add index"]
[2020/02/06 10:36:43.784 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=0] ["start time"=76.34µs]
[2020/02/06 10:36:43.784 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:43.784 +08:00] [INFO] [tidb.go:171] ["rollbackTxn for ddl/autocommit failed"]
[2020/02/06 10:36:43.784 +08:00] [WARN] [session.go:736] ["run statement failed"] [schemaVersion=0] [error="[schema:1049]Unknown database 'mysql'"] [errorVerbose="[schema:1049]Unknown database 'mysql'\ngithub.com/pingcap/errors.AddStack\n\t/home/aliv/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20190809092503-95897b64e011/errors.go:174\ngithub.com/pingcap/tidb/parser/terror.(*Error).GenWithStackByArgs\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/terror/terror.go:240\ngithub.com/pingcap/tidb/executor.(*SimpleExec).executeUse\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/simple.go:66\ngithub.com/pingcap/tidb/executor.(*SimpleExec).Next\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/simple.go:49\ngithub.com/pingcap/tidb/executor.Next\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/executor.go:175\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelayExecutor\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:271\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelay\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:237\ngithub.com/pingcap/tidb/executor.(*ExecStmt).Exec\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:208\ngithub.com/pingcap/tidb/session.runStmt\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/tidb.go:219\ngithub.com/pingcap/tidb/session.(*session).executeStatement\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:733\ngithub.com/pingcap/tidb/session.(*session).execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:812\ngithub.com/pingcap/tidb/session.(*session).Execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:760\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:175\ngithub.com/pingcap/tidb/session.bootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:143\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:1021\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:982\ngithub.com/pingcap/tidb/planner/core_test.newStoreWithBootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/cbo_test.go:270\ngithub.com/pingcap/tidb/planner/core_test.(*testPlanSuite).TestDAGPlanBuilderJoin\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/physical_plan_test.go:107\nreflect.Value.call\n\t/usr/lib/go/src/reflect/value.go:460\nreflect.Value.Call\n\t/usr/lib/go/src/reflect/value.go:321\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:854\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:739\nruntime.goexit\n\t/usr/lib/go/src/runtime/asm_amd64.s:1357"] [session="{\n  \"currDBName\": \"\",\n  \"id\": 0,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": \"\"\n}"]
[2020/02/06 10:36:43.784 +08:00] [WARN] [session.go:803] ["compile SQL failed"] [error="[schema:1146]Table 'mysql.tidb' doesn't exist"] [errorVerbose="[schema:1146]Table 'mysql.tidb' doesn't exist\ngithub.com/pingcap/errors.AddStack\n\t/home/aliv/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20190809092503-95897b64e011/errors.go:174\ngithub.com/pingcap/tidb/parser/terror.(*Error).GenWithStackByArgs\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/terror/terror.go:240\ngithub.com/pingcap/tidb/infoschema.(*infoSchema).TableByName\n\t/home/aliv/go/src/github.com/pingcap/tinysql/infoschema/infoschema.go:171\ngithub.com/pingcap/tidb/planner/core.(*preprocessor).handleTableName\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:650\ngithub.com/pingcap/tidb/planner/core.(*preprocessor).Leave\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:133\ngithub.com/pingcap/tidb/parser/ast.(*TableName).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:294\ngithub.com/pingcap/tidb/parser/ast.(*TableSource).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:431\ngithub.com/pingcap/tidb/parser/ast.(*Join).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:142\ngithub.com/pingcap/tidb/parser/ast.(*TableRefsClause).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:612\ngithub.com/pingcap/tidb/parser/ast.(*SelectStmt).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:931\ngithub.com/pingcap/tidb/planner/core.Preprocess\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:48\ngithub.com/pingcap/tidb/executor.(*Compiler).Compile\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/compiler.go:34\ngithub.com/pingcap/tidb/session.(*session).execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:800\ngithub.com/pingcap/tidb/session.(*session).Execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:760\ngithub.com/pingcap/tidb/session.getTiDBVar\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:204\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:181\ngithub.com/pingcap/tidb/session.bootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:143\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:1021\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:982\ngithub.com/pingcap/tidb/planner/core_test.newStoreWithBootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/cbo_test.go:270\ngithub.com/pingcap/tidb/planner/core_test.(*testPlanSuite).TestDAGPlanBuilderJoin\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/physical_plan_test.go:107\nreflect.Value.call\n\t/usr/lib/go/src/reflect/value.go:460\nreflect.Value.Call\n\t/usr/lib/go/src/reflect/value.go:321\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:854\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:739\nruntime.goexit\n\t/usr/lib/go/src/runtime/asm_amd64.s:1357"] [SQL="SELECT HIGH_PRIORITY VARIABLE_VALUE FROM mysql.tidb WHERE VARIABLE_NAME=\"bootstrapped\""]
[2020/02/06 10:36:43.785 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:2, Type:create schema, State:none, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.785 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS test"]
[2020/02/06 10:36:43.785 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 89, tp general"] [job="ID:2, Type:create schema, State:none, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.785 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.785 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 89, tp general"] [job="ID:2, Type:create schema, State:synced, SchemaState:public, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.785 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.785 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=2]
[2020/02/06 10:36:43.785 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.785 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=1] ["start time"=94.078µs]
[2020/02/06 10:36:43.785 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:43.786 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:4, Type:create schema, State:none, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.786 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS mysql;"]
[2020/02/06 10:36:43.786 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 89, tp general"] [job="ID:4, Type:create schema, State:none, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.786 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.786 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 89, tp general"] [job="ID:4, Type:create schema, State:synced, SchemaState:public, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.786 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.786 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=4]
[2020/02/06 10:36:43.786 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.786 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=1] [neededSchemaVersion=2] ["start time"=30.281µs] [tblIDs="[]"]
[2020/02/06 10:36:43.786 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:6, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.786 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) Not Null PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT Null);"]
[2020/02/06 10:36:43.787 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 89, tp general"] [job="ID:6, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.786 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.787 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 89, tp general"] [job="ID:6, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.786 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.787 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=6]
[2020/02/06 10:36:43.787 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.787 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=2] [neededSchemaVersion=3] ["start time"=77.613µs] [tblIDs="[5]"]
[2020/02/06 10:36:43.788 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:8, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.787 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.tidb(\n\t\tVARIABLE_NAME  VARCHAR(64) Not Null PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT Null,\n\t\tCOMMENT VARCHAR(1024));"]
[2020/02/06 10:36:43.788 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 89, tp general"] [job="ID:8, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.787 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.788 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 89, tp general"] [job="ID:8, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.787 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.788 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=8]
[2020/02/06 10:36:43.788 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.789 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=3] [neededSchemaVersion=4] ["start time"=82.15µs] [tblIDs="[7]"]
[2020/02/06 10:36:43.789 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:10, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.789 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.help_topic (\n  \t\thelp_topic_id int(10) unsigned NOT NULL,\n  \t\tname char(64) NOT NULL,\n  \t\thelp_category_id smallint(5) unsigned NOT NULL,\n  \t\tdescription text NOT NULL,\n  \t\texample text NOT NULL,\n  \t\turl text NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id),\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"]
[2020/02/06 10:36:43.789 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 89, tp general"] [job="ID:10, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.789 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.790 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 89, tp general"] [job="ID:10, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.789 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.790 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=10]
[2020/02/06 10:36:43.790 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.790 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=4] [neededSchemaVersion=5] ["start time"=107.234µs] [tblIDs="[9]"]
[2020/02/06 10:36:43.790 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:12, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.79 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_meta (\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tcount bigint(64) unsigned NOT NULL DEFAULT 0,\n\t\tindex idx_ver(version),\n\t\tunique index tbl(table_id)\n\t);"]
[2020/02/06 10:36:43.791 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 89, tp general"] [job="ID:12, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.79 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.791 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 89, tp general"] [job="ID:12, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.79 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.791 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=12]
[2020/02/06 10:36:43.791 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.792 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=5] [neededSchemaVersion=6] ["start time"=112.178µs] [tblIDs="[11]"]
[2020/02/06 10:36:43.792 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:14, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.792 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_histograms (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tdistinct_count bigint(64) NOT NULL,\n\t\tnull_count bigint(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size bigint(64) NOT NULL DEFAULT 0,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tversion bigint(64) unsigned NOT NULL DEFAULT 0,\n\t\tcm_sketch blob,\n\t\tstats_ver bigint(64) NOT NULL DEFAULT 0,\n\t\tflag bigint(64) NOT NULL DEFAULT 0,\n\t\tcorrelation double NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos blob DEFAULT NULL,\n\t\tunique index tbl(table_id, is_index, hist_id)\n\t);"]
[2020/02/06 10:36:43.792 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 89, tp general"] [job="ID:14, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.792 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.793 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 89, tp general"] [job="ID:14, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.792 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.793 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=14]
[2020/02/06 10:36:43.793 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.794 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=6] [neededSchemaVersion=7] ["start time"=174.123µs] [tblIDs="[13]"]
[2020/02/06 10:36:43.794 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:16, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.794 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_buckets (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tbucket_id bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\trepeats bigint(64) NOT NULL,\n\t\tupper_bound blob NOT NULL,\n\t\tlower_bound blob ,\n\t\tunique index tbl(table_id, is_index, hist_id, bucket_id)\n\t);"]
[2020/02/06 10:36:43.794 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 89, tp general"] [job="ID:16, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.794 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.795 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 89, tp general"] [job="ID:16, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.794 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.795 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=16]
[2020/02/06 10:36:43.795 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.795 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=7] [neededSchemaVersion=8] ["start time"=138.993µs] [tblIDs="[15]"]
[2020/02/06 10:36:43.796 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:18, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.796 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id BIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id BIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts BIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"]
[2020/02/06 10:36:43.796 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 89, tp general"] [job="ID:18, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.796 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.796 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 89, tp general"] [job="ID:18, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.796 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.797 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=18]
[2020/02/06 10:36:43.797 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.797 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=8] [neededSchemaVersion=9] ["start time"=105.845µs] [tblIDs="[17]"]
[2020/02/06 10:36:43.797 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:20, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.797 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id BIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id BIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts BIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"]
[2020/02/06 10:36:43.797 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 89, tp general"] [job="ID:20, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.797 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.798 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 89, tp general"] [job="ID:20, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.797 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.798 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=20]
[2020/02/06 10:36:43.798 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.799 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=9] [neededSchemaVersion=10] ["start time"=91µs] [tblIDs="[19]"]
[2020/02/06 10:36:43.799 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:22, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.799 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_top_n (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tvalue longblob,\n\t\tcount bigint(64) UNSIGNED NOT NULL,\n\t\tindex tbl(table_id, is_index, hist_id)\n\t);"]
[2020/02/06 10:36:43.799 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 89, tp general"] [job="ID:22, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.799 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.800 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 89, tp general"] [job="ID:22, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.799 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.800 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=22]
[2020/02/06 10:36:43.800 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.800 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=10] [neededSchemaVersion=11] ["start time"=96.213µs] [tblIDs="[21]"]
[2020/02/06 10:36:43.815 +08:00] [INFO] [bootstrap.go:153] ["bootstrap successful"] ["take time"=31.075713ms]
[2020/02/06 10:36:43.816 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 89, tp general"] ["take time"=5.51µs]
[2020/02/06 10:36:43.816 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 90, tp add index"] ["take time"=2.121µs]
[2020/02/06 10:36:43.816 +08:00] [INFO] [session_pool.go:85] ["[ddl] closing sessionPool"]
[2020/02/06 10:36:43.816 +08:00] [INFO] [ddl.go:349] ["[ddl] DDL closed"] [ID=76cd5f23-4c88-4df1-bbef-3e372ba155f6] ["take time"=32.417µs]
[2020/02/06 10:36:43.816 +08:00] [INFO] [ddl.go:282] ["[ddl] stop DDL"] [ID=76cd5f23-4c88-4df1-bbef-3e372ba155f6]
[2020/02/06 10:36:43.816 +08:00] [INFO] [domain.go:456] ["domain closed"] ["take time"=44.67µs]
[2020/02/06 10:36:43.816 +08:00] [INFO] [tidb.go:68] ["new domain"] [store=5d2e95c6-a993-4bd4-9ea8-79f71a16f9fa] ["ddl lease"=0s] ["stats lease"=-1ns]
[2020/02/06 10:36:43.816 +08:00] [INFO] [ddl.go:289] ["[ddl] start DDL"] [ID=68267f89-bddf-45dc-bcad-1475812a5d2a]
[2020/02/06 10:36:43.816 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 91, tp general"]
[2020/02/06 10:36:43.816 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 92, tp add index"]
[2020/02/06 10:36:43.820 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=11] ["start time"=3.236481ms]
[2020/02/06 10:36:43.820 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:43.822 +08:00] [WARN] [builtin.go:98] ["unmatched arg type 1 with 0"]
[2020/02/06 10:36:43.822 +08:00] [WARN] [builtin.go:98] ["unmatched arg type 1 with 3"]
[2020/02/06 10:36:43.822 +08:00] [WARN] [builtin.go:98] ["unmatched arg type 1 with 0"]
[2020/02/06 10:36:43.822 +08:00] [WARN] [builtin.go:98] ["unmatched arg type 1 with 3"]
[2020/02/06 10:36:43.822 +08:00] [WARN] [builtin.go:98] ["unmatched arg type 1 with 3"]
[2020/02/06 10:36:43.822 +08:00] [WARN] [builtin.go:98] ["unmatched arg type 1 with 0"]
[2020/02/06 10:36:43.822 +08:00] [WARN] [builtin.go:98] ["unmatched arg type 1 with 0"]
[2020/02/06 10:36:43.822 +08:00] [WARN] [builtin.go:98] ["unmatched arg type 1 with 3"]
[2020/02/06 10:36:43.822 +08:00] [WARN] [builtin.go:98] ["unmatched arg type 1 with 3"]
[2020/02/06 10:36:43.822 +08:00] [WARN] [builtin.go:98] ["unmatched arg type 1 with 0"]
[2020/02/06 10:36:43.822 +08:00] [WARN] [builtin.go:98] ["unmatched arg type 1 with 3"]
[2020/02/06 10:36:43.822 +08:00] [WARN] [builtin.go:98] ["unmatched arg type 1 with 0"]
[2020/02/06 10:36:43.833 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 91, tp general"] ["take time"=28.812µs]
[2020/02/06 10:36:43.833 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 92, tp add index"] ["take time"=5.783µs]
[2020/02/06 10:36:43.833 +08:00] [INFO] [session_pool.go:85] ["[ddl] closing sessionPool"]
[2020/02/06 10:36:43.833 +08:00] [INFO] [ddl.go:349] ["[ddl] DDL closed"] [ID=68267f89-bddf-45dc-bcad-1475812a5d2a] ["take time"=141.669µs]
[2020/02/06 10:36:43.833 +08:00] [INFO] [ddl.go:282] ["[ddl] stop DDL"] [ID=68267f89-bddf-45dc-bcad-1475812a5d2a]
[2020/02/06 10:36:43.834 +08:00] [INFO] [domain.go:456] ["domain closed"] ["take time"=160.552µs]
PASS: physical_plan_test.go:105: testPlanSuite.TestDAGPlanBuilderJoin	0.050s
[2020/02/06 10:36:43.836 +08:00] [INFO] [tidb.go:68] ["new domain"] [store=3b83c3ce-e4a9-42fb-9bf1-1f9f5e1c755a] ["ddl lease"=0s] ["stats lease"=-1ns]
[2020/02/06 10:36:43.836 +08:00] [INFO] [ddl.go:289] ["[ddl] start DDL"] [ID=fb8861fe-f21e-4b75-a533-cd981460e1c7]
[2020/02/06 10:36:43.836 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 93, tp general"]
[2020/02/06 10:36:43.836 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 94, tp add index"]
[2020/02/06 10:36:43.836 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=0] ["start time"=77.39µs]
[2020/02/06 10:36:43.836 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:43.836 +08:00] [INFO] [tidb.go:171] ["rollbackTxn for ddl/autocommit failed"]
[2020/02/06 10:36:43.836 +08:00] [WARN] [session.go:736] ["run statement failed"] [schemaVersion=0] [error="[schema:1049]Unknown database 'mysql'"] [errorVerbose="[schema:1049]Unknown database 'mysql'\ngithub.com/pingcap/errors.AddStack\n\t/home/aliv/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20190809092503-95897b64e011/errors.go:174\ngithub.com/pingcap/tidb/parser/terror.(*Error).GenWithStackByArgs\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/terror/terror.go:240\ngithub.com/pingcap/tidb/executor.(*SimpleExec).executeUse\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/simple.go:66\ngithub.com/pingcap/tidb/executor.(*SimpleExec).Next\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/simple.go:49\ngithub.com/pingcap/tidb/executor.Next\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/executor.go:175\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelayExecutor\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:271\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelay\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:237\ngithub.com/pingcap/tidb/executor.(*ExecStmt).Exec\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:208\ngithub.com/pingcap/tidb/session.runStmt\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/tidb.go:219\ngithub.com/pingcap/tidb/session.(*session).executeStatement\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:733\ngithub.com/pingcap/tidb/session.(*session).execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:812\ngithub.com/pingcap/tidb/session.(*session).Execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:760\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:175\ngithub.com/pingcap/tidb/session.bootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:143\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:1021\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:982\ngithub.com/pingcap/tidb/planner/core_test.newStoreWithBootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/cbo_test.go:270\ngithub.com/pingcap/tidb/planner/core_test.(*testPlanSuite).TestDAGPlanBuilderSimpleCase\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/physical_plan_test.go:72\nreflect.Value.call\n\t/usr/lib/go/src/reflect/value.go:460\nreflect.Value.Call\n\t/usr/lib/go/src/reflect/value.go:321\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:854\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:739\nruntime.goexit\n\t/usr/lib/go/src/runtime/asm_amd64.s:1357"] [session="{\n  \"currDBName\": \"\",\n  \"id\": 0,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": \"\"\n}"]
[2020/02/06 10:36:43.836 +08:00] [WARN] [session.go:803] ["compile SQL failed"] [error="[schema:1146]Table 'mysql.tidb' doesn't exist"] [errorVerbose="[schema:1146]Table 'mysql.tidb' doesn't exist\ngithub.com/pingcap/errors.AddStack\n\t/home/aliv/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20190809092503-95897b64e011/errors.go:174\ngithub.com/pingcap/tidb/parser/terror.(*Error).GenWithStackByArgs\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/terror/terror.go:240\ngithub.com/pingcap/tidb/infoschema.(*infoSchema).TableByName\n\t/home/aliv/go/src/github.com/pingcap/tinysql/infoschema/infoschema.go:171\ngithub.com/pingcap/tidb/planner/core.(*preprocessor).handleTableName\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:650\ngithub.com/pingcap/tidb/planner/core.(*preprocessor).Leave\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:133\ngithub.com/pingcap/tidb/parser/ast.(*TableName).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:294\ngithub.com/pingcap/tidb/parser/ast.(*TableSource).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:431\ngithub.com/pingcap/tidb/parser/ast.(*Join).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:142\ngithub.com/pingcap/tidb/parser/ast.(*TableRefsClause).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:612\ngithub.com/pingcap/tidb/parser/ast.(*SelectStmt).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:931\ngithub.com/pingcap/tidb/planner/core.Preprocess\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:48\ngithub.com/pingcap/tidb/executor.(*Compiler).Compile\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/compiler.go:34\ngithub.com/pingcap/tidb/session.(*session).execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:800\ngithub.com/pingcap/tidb/session.(*session).Execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:760\ngithub.com/pingcap/tidb/session.getTiDBVar\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:204\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:181\ngithub.com/pingcap/tidb/session.bootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:143\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:1021\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:982\ngithub.com/pingcap/tidb/planner/core_test.newStoreWithBootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/cbo_test.go:270\ngithub.com/pingcap/tidb/planner/core_test.(*testPlanSuite).TestDAGPlanBuilderSimpleCase\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/physical_plan_test.go:72\nreflect.Value.call\n\t/usr/lib/go/src/reflect/value.go:460\nreflect.Value.Call\n\t/usr/lib/go/src/reflect/value.go:321\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:854\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:739\nruntime.goexit\n\t/usr/lib/go/src/runtime/asm_amd64.s:1357"] [SQL="SELECT HIGH_PRIORITY VARIABLE_VALUE FROM mysql.tidb WHERE VARIABLE_NAME=\"bootstrapped\""]
[2020/02/06 10:36:43.837 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:2, Type:create schema, State:none, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.836 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS test"]
[2020/02/06 10:36:43.837 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 93, tp general"] [job="ID:2, Type:create schema, State:none, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.836 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.837 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 93, tp general"] [job="ID:2, Type:create schema, State:synced, SchemaState:public, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.836 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.837 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=2]
[2020/02/06 10:36:43.837 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.837 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=1] ["start time"=150.74µs]
[2020/02/06 10:36:43.837 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:43.838 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:4, Type:create schema, State:none, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.838 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS mysql;"]
[2020/02/06 10:36:43.838 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 93, tp general"] [job="ID:4, Type:create schema, State:none, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.838 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.838 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 93, tp general"] [job="ID:4, Type:create schema, State:synced, SchemaState:public, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.838 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.838 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=4]
[2020/02/06 10:36:43.838 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.838 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=1] [neededSchemaVersion=2] ["start time"=33.27µs] [tblIDs="[]"]
[2020/02/06 10:36:43.839 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:6, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.839 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) Not Null PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT Null);"]
[2020/02/06 10:36:43.839 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 93, tp general"] [job="ID:6, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.839 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.839 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 93, tp general"] [job="ID:6, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.839 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.840 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=6]
[2020/02/06 10:36:43.840 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.840 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=2] [neededSchemaVersion=3] ["start time"=76.392µs] [tblIDs="[5]"]
[2020/02/06 10:36:43.840 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:8, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.84 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.tidb(\n\t\tVARIABLE_NAME  VARCHAR(64) Not Null PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT Null,\n\t\tCOMMENT VARCHAR(1024));"]
[2020/02/06 10:36:43.840 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 93, tp general"] [job="ID:8, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.84 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.841 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 93, tp general"] [job="ID:8, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.84 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.841 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=8]
[2020/02/06 10:36:43.841 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.841 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=3] [neededSchemaVersion=4] ["start time"=80.702µs] [tblIDs="[7]"]
[2020/02/06 10:36:43.841 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:10, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.841 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.help_topic (\n  \t\thelp_topic_id int(10) unsigned NOT NULL,\n  \t\tname char(64) NOT NULL,\n  \t\thelp_category_id smallint(5) unsigned NOT NULL,\n  \t\tdescription text NOT NULL,\n  \t\texample text NOT NULL,\n  \t\turl text NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id),\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"]
[2020/02/06 10:36:43.841 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 93, tp general"] [job="ID:10, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.841 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.842 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 93, tp general"] [job="ID:10, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.841 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.842 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=10]
[2020/02/06 10:36:43.842 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.842 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=4] [neededSchemaVersion=5] ["start time"=101.723µs] [tblIDs="[9]"]
[2020/02/06 10:36:43.843 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:12, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.843 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_meta (\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tcount bigint(64) unsigned NOT NULL DEFAULT 0,\n\t\tindex idx_ver(version),\n\t\tunique index tbl(table_id)\n\t);"]
[2020/02/06 10:36:43.843 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 93, tp general"] [job="ID:12, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.843 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.844 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 93, tp general"] [job="ID:12, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.843 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.844 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=12]
[2020/02/06 10:36:43.844 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.844 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=5] [neededSchemaVersion=6] ["start time"=93.93µs] [tblIDs="[11]"]
[2020/02/06 10:36:43.844 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:14, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.844 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_histograms (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tdistinct_count bigint(64) NOT NULL,\n\t\tnull_count bigint(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size bigint(64) NOT NULL DEFAULT 0,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tversion bigint(64) unsigned NOT NULL DEFAULT 0,\n\t\tcm_sketch blob,\n\t\tstats_ver bigint(64) NOT NULL DEFAULT 0,\n\t\tflag bigint(64) NOT NULL DEFAULT 0,\n\t\tcorrelation double NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos blob DEFAULT NULL,\n\t\tunique index tbl(table_id, is_index, hist_id)\n\t);"]
[2020/02/06 10:36:43.844 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 93, tp general"] [job="ID:14, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.844 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.845 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 93, tp general"] [job="ID:14, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.844 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.846 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=14]
[2020/02/06 10:36:43.846 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.846 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=6] [neededSchemaVersion=7] ["start time"=149.461µs] [tblIDs="[13]"]
[2020/02/06 10:36:43.846 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:16, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.846 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_buckets (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tbucket_id bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\trepeats bigint(64) NOT NULL,\n\t\tupper_bound blob NOT NULL,\n\t\tlower_bound blob ,\n\t\tunique index tbl(table_id, is_index, hist_id, bucket_id)\n\t);"]
[2020/02/06 10:36:43.846 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 93, tp general"] [job="ID:16, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.846 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.847 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 93, tp general"] [job="ID:16, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.846 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.847 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=16]
[2020/02/06 10:36:43.847 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.847 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=7] [neededSchemaVersion=8] ["start time"=118.143µs] [tblIDs="[15]"]
[2020/02/06 10:36:43.848 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:18, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.848 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id BIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id BIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts BIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"]
[2020/02/06 10:36:43.848 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 93, tp general"] [job="ID:18, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.848 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.849 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 93, tp general"] [job="ID:18, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.848 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.849 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=18]
[2020/02/06 10:36:43.849 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.849 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=8] [neededSchemaVersion=9] ["start time"=95.477µs] [tblIDs="[17]"]
[2020/02/06 10:36:43.849 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:20, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.849 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id BIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id BIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts BIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"]
[2020/02/06 10:36:43.850 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 93, tp general"] [job="ID:20, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.849 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.850 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 93, tp general"] [job="ID:20, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.849 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.850 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=20]
[2020/02/06 10:36:43.850 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.851 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=9] [neededSchemaVersion=10] ["start time"=158.849µs] [tblIDs="[19]"]
[2020/02/06 10:36:43.851 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:22, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.851 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_top_n (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tvalue longblob,\n\t\tcount bigint(64) UNSIGNED NOT NULL,\n\t\tindex tbl(table_id, is_index, hist_id)\n\t);"]
[2020/02/06 10:36:43.851 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 93, tp general"] [job="ID:22, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.851 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.852 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 93, tp general"] [job="ID:22, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.851 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.852 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=22]
[2020/02/06 10:36:43.852 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.852 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=10] [neededSchemaVersion=11] ["start time"=107.593µs] [tblIDs="[21]"]
[2020/02/06 10:36:43.865 +08:00] [INFO] [bootstrap.go:153] ["bootstrap successful"] ["take time"=28.960765ms]
[2020/02/06 10:36:43.865 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 93, tp general"] ["take time"=5.304µs]
[2020/02/06 10:36:43.865 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 94, tp add index"] ["take time"=2.428µs]
[2020/02/06 10:36:43.865 +08:00] [INFO] [session_pool.go:85] ["[ddl] closing sessionPool"]
[2020/02/06 10:36:43.865 +08:00] [INFO] [ddl.go:349] ["[ddl] DDL closed"] [ID=fb8861fe-f21e-4b75-a533-cd981460e1c7] ["take time"=33.28µs]
[2020/02/06 10:36:43.865 +08:00] [INFO] [ddl.go:282] ["[ddl] stop DDL"] [ID=fb8861fe-f21e-4b75-a533-cd981460e1c7]
[2020/02/06 10:36:43.865 +08:00] [INFO] [domain.go:456] ["domain closed"] ["take time"=45.76µs]
[2020/02/06 10:36:43.865 +08:00] [INFO] [tidb.go:68] ["new domain"] [store=3b83c3ce-e4a9-42fb-9bf1-1f9f5e1c755a] ["ddl lease"=0s] ["stats lease"=-1ns]
[2020/02/06 10:36:43.865 +08:00] [INFO] [ddl.go:289] ["[ddl] start DDL"] [ID=18a325ca-4732-4713-b548-2a0a3ecb24d9]
[2020/02/06 10:36:43.865 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 95, tp general"]
[2020/02/06 10:36:43.865 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 96, tp add index"]
[2020/02/06 10:36:43.872 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=11] ["start time"=5.468494ms]
[2020/02/06 10:36:43.872 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:43.874 +08:00] [INFO] [session.go:902] ["NewTxn() inside a transaction auto commit"] [schemaVersion=11] [txnStartTS=414438287965945856]
[2020/02/06 10:36:43.875 +08:00] [INFO] [session.go:902] ["NewTxn() inside a transaction auto commit"] [schemaVersion=11] [txnStartTS=414438287965945857]
[2020/02/06 10:36:43.875 +08:00] [INFO] [session.go:902] ["NewTxn() inside a transaction auto commit"] [schemaVersion=11] [txnStartTS=414438287966208000]
[2020/02/06 10:36:43.875 +08:00] [INFO] [session.go:902] ["NewTxn() inside a transaction auto commit"] [schemaVersion=11] [txnStartTS=414438287966208001]
[2020/02/06 10:36:43.875 +08:00] [INFO] [session.go:902] ["NewTxn() inside a transaction auto commit"] [schemaVersion=11] [txnStartTS=414438287966208002]
[2020/02/06 10:36:43.875 +08:00] [INFO] [session.go:902] ["NewTxn() inside a transaction auto commit"] [schemaVersion=11] [txnStartTS=414438287966208003]
[2020/02/06 10:36:43.875 +08:00] [INFO] [session.go:902] ["NewTxn() inside a transaction auto commit"] [schemaVersion=11] [txnStartTS=414438287966208004]
[2020/02/06 10:36:43.876 +08:00] [INFO] [session.go:902] ["NewTxn() inside a transaction auto commit"] [schemaVersion=11] [txnStartTS=414438287966470144]
[2020/02/06 10:36:43.876 +08:00] [INFO] [session.go:902] ["NewTxn() inside a transaction auto commit"] [schemaVersion=11] [txnStartTS=414438287966470145]
[2020/02/06 10:36:43.876 +08:00] [INFO] [session.go:902] ["NewTxn() inside a transaction auto commit"] [schemaVersion=11] [txnStartTS=414438287966470146]
[2020/02/06 10:36:43.876 +08:00] [INFO] [session.go:902] ["NewTxn() inside a transaction auto commit"] [schemaVersion=11] [txnStartTS=414438287966470147]
[2020/02/06 10:36:43.876 +08:00] [INFO] [session.go:902] ["NewTxn() inside a transaction auto commit"] [schemaVersion=11] [txnStartTS=414438287966470148]
[2020/02/06 10:36:43.876 +08:00] [INFO] [session.go:902] ["NewTxn() inside a transaction auto commit"] [schemaVersion=11] [txnStartTS=414438287966470149]
[2020/02/06 10:36:43.876 +08:00] [INFO] [session.go:902] ["NewTxn() inside a transaction auto commit"] [schemaVersion=11] [txnStartTS=414438287966470150]
[2020/02/06 10:36:43.876 +08:00] [INFO] [session.go:902] ["NewTxn() inside a transaction auto commit"] [schemaVersion=11] [txnStartTS=414438287966470151]
[2020/02/06 10:36:43.877 +08:00] [INFO] [session.go:902] ["NewTxn() inside a transaction auto commit"] [schemaVersion=11] [txnStartTS=414438287966470152]
[2020/02/06 10:36:43.877 +08:00] [INFO] [session.go:902] ["NewTxn() inside a transaction auto commit"] [schemaVersion=11] [txnStartTS=414438287966732288]
[2020/02/06 10:36:43.877 +08:00] [INFO] [session.go:902] ["NewTxn() inside a transaction auto commit"] [schemaVersion=11] [txnStartTS=414438287966732289]
[2020/02/06 10:36:43.877 +08:00] [INFO] [session.go:902] ["NewTxn() inside a transaction auto commit"] [schemaVersion=11] [txnStartTS=414438287966732290]
[2020/02/06 10:36:43.877 +08:00] [INFO] [session.go:902] ["NewTxn() inside a transaction auto commit"] [schemaVersion=11] [txnStartTS=414438287966732291]
[2020/02/06 10:36:43.877 +08:00] [INFO] [session.go:902] ["NewTxn() inside a transaction auto commit"] [schemaVersion=11] [txnStartTS=414438287966732292]
[2020/02/06 10:36:43.877 +08:00] [INFO] [session.go:902] ["NewTxn() inside a transaction auto commit"] [schemaVersion=11] [txnStartTS=414438287966732293]
[2020/02/06 10:36:43.877 +08:00] [INFO] [session.go:902] ["NewTxn() inside a transaction auto commit"] [schemaVersion=11] [txnStartTS=414438287966732294]
[2020/02/06 10:36:43.877 +08:00] [INFO] [session.go:902] ["NewTxn() inside a transaction auto commit"] [schemaVersion=11] [txnStartTS=414438287966732295]
[2020/02/06 10:36:43.878 +08:00] [INFO] [session.go:902] ["NewTxn() inside a transaction auto commit"] [schemaVersion=11] [txnStartTS=414438287966732296]
[2020/02/06 10:36:43.878 +08:00] [INFO] [session.go:902] ["NewTxn() inside a transaction auto commit"] [schemaVersion=11] [txnStartTS=414438287966994432]
[2020/02/06 10:36:43.878 +08:00] [INFO] [session.go:902] ["NewTxn() inside a transaction auto commit"] [schemaVersion=11] [txnStartTS=414438287966994433]
[2020/02/06 10:36:43.878 +08:00] [INFO] [session.go:902] ["NewTxn() inside a transaction auto commit"] [schemaVersion=11] [txnStartTS=414438287966994434]
[2020/02/06 10:36:43.878 +08:00] [INFO] [session.go:902] ["NewTxn() inside a transaction auto commit"] [schemaVersion=11] [txnStartTS=414438287966994435]
[2020/02/06 10:36:43.878 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 95, tp general"] ["take time"=11.142µs]
[2020/02/06 10:36:43.878 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 96, tp add index"] ["take time"=3.276µs]
[2020/02/06 10:36:43.878 +08:00] [INFO] [session_pool.go:85] ["[ddl] closing sessionPool"]
[2020/02/06 10:36:43.878 +08:00] [INFO] [ddl.go:349] ["[ddl] DDL closed"] [ID=18a325ca-4732-4713-b548-2a0a3ecb24d9] ["take time"=42.222µs]
[2020/02/06 10:36:43.878 +08:00] [INFO] [ddl.go:282] ["[ddl] stop DDL"] [ID=18a325ca-4732-4713-b548-2a0a3ecb24d9]
[2020/02/06 10:36:43.878 +08:00] [INFO] [domain.go:456] ["domain closed"] ["take time"=56.366µs]
PASS: physical_plan_test.go:70: testPlanSuite.TestDAGPlanBuilderSimpleCase	0.045s
[2020/02/06 10:36:43.879 +08:00] [INFO] [tidb.go:68] ["new domain"] [store=f9f3b389-4bcd-423c-9473-59405addf523] ["ddl lease"=0s] ["stats lease"=-1ns]
[2020/02/06 10:36:43.879 +08:00] [INFO] [ddl.go:289] ["[ddl] start DDL"] [ID=487308de-5c83-4c52-8a13-70e3361e6de4]
[2020/02/06 10:36:43.879 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=0] ["start time"=127.382µs]
[2020/02/06 10:36:43.879 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:43.879 +08:00] [INFO] [tidb.go:171] ["rollbackTxn for ddl/autocommit failed"]
[2020/02/06 10:36:43.879 +08:00] [WARN] [session.go:736] ["run statement failed"] [schemaVersion=0] [error="[schema:1049]Unknown database 'mysql'"] [errorVerbose="[schema:1049]Unknown database 'mysql'\ngithub.com/pingcap/errors.AddStack\n\t/home/aliv/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20190809092503-95897b64e011/errors.go:174\ngithub.com/pingcap/tidb/parser/terror.(*Error).GenWithStackByArgs\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/terror/terror.go:240\ngithub.com/pingcap/tidb/executor.(*SimpleExec).executeUse\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/simple.go:66\ngithub.com/pingcap/tidb/executor.(*SimpleExec).Next\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/simple.go:49\ngithub.com/pingcap/tidb/executor.Next\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/executor.go:175\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelayExecutor\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:271\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelay\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:237\ngithub.com/pingcap/tidb/executor.(*ExecStmt).Exec\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:208\ngithub.com/pingcap/tidb/session.runStmt\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/tidb.go:219\ngithub.com/pingcap/tidb/session.(*session).executeStatement\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:733\ngithub.com/pingcap/tidb/session.(*session).execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:812\ngithub.com/pingcap/tidb/session.(*session).Execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:760\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:175\ngithub.com/pingcap/tidb/session.bootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:143\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:1021\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:982\ngithub.com/pingcap/tidb/planner/core_test.newStoreWithBootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/cbo_test.go:270\ngithub.com/pingcap/tidb/planner/core_test.(*testPlanSuite).TestDAGPlanBuilderSplitAvg\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/physical_plan_test.go:768\nreflect.Value.call\n\t/usr/lib/go/src/reflect/value.go:460\nreflect.Value.Call\n\t/usr/lib/go/src/reflect/value.go:321\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:854\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:739\nruntime.goexit\n\t/usr/lib/go/src/runtime/asm_amd64.s:1357"] [session="{\n  \"currDBName\": \"\",\n  \"id\": 0,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": \"\"\n}"]
[2020/02/06 10:36:43.880 +08:00] [WARN] [session.go:803] ["compile SQL failed"] [error="[schema:1146]Table 'mysql.tidb' doesn't exist"] [errorVerbose="[schema:1146]Table 'mysql.tidb' doesn't exist\ngithub.com/pingcap/errors.AddStack\n\t/home/aliv/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20190809092503-95897b64e011/errors.go:174\ngithub.com/pingcap/tidb/parser/terror.(*Error).GenWithStackByArgs\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/terror/terror.go:240\ngithub.com/pingcap/tidb/infoschema.(*infoSchema).TableByName\n\t/home/aliv/go/src/github.com/pingcap/tinysql/infoschema/infoschema.go:171\ngithub.com/pingcap/tidb/planner/core.(*preprocessor).handleTableName\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:650\ngithub.com/pingcap/tidb/planner/core.(*preprocessor).Leave\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:133\ngithub.com/pingcap/tidb/parser/ast.(*TableName).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:294\ngithub.com/pingcap/tidb/parser/ast.(*TableSource).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:431\ngithub.com/pingcap/tidb/parser/ast.(*Join).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:142\ngithub.com/pingcap/tidb/parser/ast.(*TableRefsClause).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:612\ngithub.com/pingcap/tidb/parser/ast.(*SelectStmt).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:931\ngithub.com/pingcap/tidb/planner/core.Preprocess\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:48\ngithub.com/pingcap/tidb/executor.(*Compiler).Compile\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/compiler.go:34\ngithub.com/pingcap/tidb/session.(*session).execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:800\ngithub.com/pingcap/tidb/session.(*session).Execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:760\ngithub.com/pingcap/tidb/session.getTiDBVar\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:204\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:181\ngithub.com/pingcap/tidb/session.bootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:143\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:1021\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:982\ngithub.com/pingcap/tidb/planner/core_test.newStoreWithBootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/cbo_test.go:270\ngithub.com/pingcap/tidb/planner/core_test.(*testPlanSuite).TestDAGPlanBuilderSplitAvg\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/physical_plan_test.go:768\nreflect.Value.call\n\t/usr/lib/go/src/reflect/value.go:460\nreflect.Value.Call\n\t/usr/lib/go/src/reflect/value.go:321\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:854\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:739\nruntime.goexit\n\t/usr/lib/go/src/runtime/asm_amd64.s:1357"] [SQL="SELECT HIGH_PRIORITY VARIABLE_VALUE FROM mysql.tidb WHERE VARIABLE_NAME=\"bootstrapped\""]
[2020/02/06 10:36:43.880 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:2, Type:create schema, State:none, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.88 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS test"]
[2020/02/06 10:36:43.880 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 97, tp general"]
[2020/02/06 10:36:43.880 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 98, tp add index"]
[2020/02/06 10:36:43.881 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 97, tp general"] [job="ID:2, Type:create schema, State:none, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.88 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.881 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 97, tp general"] [job="ID:2, Type:create schema, State:synced, SchemaState:public, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.88 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.881 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=2]
[2020/02/06 10:36:43.881 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.881 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=1] ["start time"=104.338µs]
[2020/02/06 10:36:43.881 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:43.881 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:4, Type:create schema, State:none, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.881 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS mysql;"]
[2020/02/06 10:36:43.881 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 97, tp general"] [job="ID:4, Type:create schema, State:none, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.881 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.882 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 97, tp general"] [job="ID:4, Type:create schema, State:synced, SchemaState:public, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.881 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.882 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=4]
[2020/02/06 10:36:43.882 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.882 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=1] [neededSchemaVersion=2] ["start time"=30.225µs] [tblIDs="[]"]
[2020/02/06 10:36:43.882 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:6, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.882 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) Not Null PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT Null);"]
[2020/02/06 10:36:43.882 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 97, tp general"] [job="ID:6, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.882 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.883 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 97, tp general"] [job="ID:6, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.882 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.883 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=6]
[2020/02/06 10:36:43.883 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.883 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=2] [neededSchemaVersion=3] ["start time"=73.833µs] [tblIDs="[5]"]
[2020/02/06 10:36:43.883 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:8, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.883 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.tidb(\n\t\tVARIABLE_NAME  VARCHAR(64) Not Null PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT Null,\n\t\tCOMMENT VARCHAR(1024));"]
[2020/02/06 10:36:43.884 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 97, tp general"] [job="ID:8, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.883 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.884 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 97, tp general"] [job="ID:8, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.883 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.884 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=8]
[2020/02/06 10:36:43.884 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.884 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=3] [neededSchemaVersion=4] ["start time"=81.858µs] [tblIDs="[7]"]
[2020/02/06 10:36:43.885 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:10, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.885 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.help_topic (\n  \t\thelp_topic_id int(10) unsigned NOT NULL,\n  \t\tname char(64) NOT NULL,\n  \t\thelp_category_id smallint(5) unsigned NOT NULL,\n  \t\tdescription text NOT NULL,\n  \t\texample text NOT NULL,\n  \t\turl text NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id),\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"]
[2020/02/06 10:36:43.885 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 97, tp general"] [job="ID:10, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.885 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.886 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 97, tp general"] [job="ID:10, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.885 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.886 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=10]
[2020/02/06 10:36:43.886 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.886 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=4] [neededSchemaVersion=5] ["start time"=115.538µs] [tblIDs="[9]"]
[2020/02/06 10:36:43.887 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:12, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.887 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_meta (\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tcount bigint(64) unsigned NOT NULL DEFAULT 0,\n\t\tindex idx_ver(version),\n\t\tunique index tbl(table_id)\n\t);"]
[2020/02/06 10:36:43.887 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 97, tp general"] [job="ID:12, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.887 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.888 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 97, tp general"] [job="ID:12, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.887 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.888 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=12]
[2020/02/06 10:36:43.888 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.889 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=5] [neededSchemaVersion=6] ["start time"=168.36µs] [tblIDs="[11]"]
[2020/02/06 10:36:43.889 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:14, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.889 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_histograms (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tdistinct_count bigint(64) NOT NULL,\n\t\tnull_count bigint(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size bigint(64) NOT NULL DEFAULT 0,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tversion bigint(64) unsigned NOT NULL DEFAULT 0,\n\t\tcm_sketch blob,\n\t\tstats_ver bigint(64) NOT NULL DEFAULT 0,\n\t\tflag bigint(64) NOT NULL DEFAULT 0,\n\t\tcorrelation double NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos blob DEFAULT NULL,\n\t\tunique index tbl(table_id, is_index, hist_id)\n\t);"]
[2020/02/06 10:36:43.890 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 97, tp general"] [job="ID:14, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.889 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.891 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 97, tp general"] [job="ID:14, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.889 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.891 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=14]
[2020/02/06 10:36:43.891 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.891 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=6] [neededSchemaVersion=7] ["start time"=167.395µs] [tblIDs="[13]"]
[2020/02/06 10:36:43.892 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:16, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.891 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_buckets (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tbucket_id bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\trepeats bigint(64) NOT NULL,\n\t\tupper_bound blob NOT NULL,\n\t\tlower_bound blob ,\n\t\tunique index tbl(table_id, is_index, hist_id, bucket_id)\n\t);"]
[2020/02/06 10:36:43.892 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 97, tp general"] [job="ID:16, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.891 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.893 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 97, tp general"] [job="ID:16, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.891 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.894 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=16]
[2020/02/06 10:36:43.894 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.894 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=7] [neededSchemaVersion=8] ["start time"=238.67µs] [tblIDs="[15]"]
[2020/02/06 10:36:43.895 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:18, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.894 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id BIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id BIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts BIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"]
[2020/02/06 10:36:43.895 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 97, tp general"] [job="ID:18, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.894 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.896 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 97, tp general"] [job="ID:18, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.894 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.897 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=18]
[2020/02/06 10:36:43.897 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.897 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=8] [neededSchemaVersion=9] ["start time"=186.762µs] [tblIDs="[17]"]
[2020/02/06 10:36:43.897 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:20, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.897 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id BIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id BIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts BIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"]
[2020/02/06 10:36:43.898 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 97, tp general"] [job="ID:20, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.897 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.899 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 97, tp general"] [job="ID:20, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.897 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.899 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=20]
[2020/02/06 10:36:43.899 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.899 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=9] [neededSchemaVersion=10] ["start time"=108.57µs] [tblIDs="[19]"]
[2020/02/06 10:36:43.900 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:22, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.9 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_top_n (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tvalue longblob,\n\t\tcount bigint(64) UNSIGNED NOT NULL,\n\t\tindex tbl(table_id, is_index, hist_id)\n\t);"]
[2020/02/06 10:36:43.900 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 97, tp general"] [job="ID:22, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.9 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.901 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 97, tp general"] [job="ID:22, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.9 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.901 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=22]
[2020/02/06 10:36:43.901 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.901 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=10] [neededSchemaVersion=11] ["start time"=125.525µs] [tblIDs="[21]"]
[2020/02/06 10:36:43.918 +08:00] [INFO] [bootstrap.go:153] ["bootstrap successful"] ["take time"=38.427711ms]
[2020/02/06 10:36:43.918 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 97, tp general"] ["take time"=8.294µs]
[2020/02/06 10:36:43.918 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 98, tp add index"] ["take time"=12.475µs]
[2020/02/06 10:36:43.918 +08:00] [INFO] [session_pool.go:85] ["[ddl] closing sessionPool"]
[2020/02/06 10:36:43.918 +08:00] [INFO] [ddl.go:349] ["[ddl] DDL closed"] [ID=487308de-5c83-4c52-8a13-70e3361e6de4] ["take time"=73.699µs]
[2020/02/06 10:36:43.918 +08:00] [INFO] [ddl.go:282] ["[ddl] stop DDL"] [ID=487308de-5c83-4c52-8a13-70e3361e6de4]
[2020/02/06 10:36:43.918 +08:00] [INFO] [domain.go:456] ["domain closed"] ["take time"=95.923µs]
[2020/02/06 10:36:43.918 +08:00] [INFO] [tidb.go:68] ["new domain"] [store=f9f3b389-4bcd-423c-9473-59405addf523] ["ddl lease"=0s] ["stats lease"=-1ns]
[2020/02/06 10:36:43.918 +08:00] [INFO] [ddl.go:289] ["[ddl] start DDL"] [ID=c7ac7df7-e208-4c8b-a6e2-0e188cbe62ad]
[2020/02/06 10:36:43.918 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 99, tp general"]
[2020/02/06 10:36:43.918 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 100, tp add index"]
[2020/02/06 10:36:43.927 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=11] ["start time"=3.151403ms]
[2020/02/06 10:36:43.927 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:43.929 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 99, tp general"] ["take time"=9.196µs]
[2020/02/06 10:36:43.929 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 100, tp add index"] ["take time"=2.826µs]
[2020/02/06 10:36:43.929 +08:00] [INFO] [session_pool.go:85] ["[ddl] closing sessionPool"]
[2020/02/06 10:36:43.929 +08:00] [INFO] [ddl.go:349] ["[ddl] DDL closed"] [ID=c7ac7df7-e208-4c8b-a6e2-0e188cbe62ad] ["take time"=50.074µs]
[2020/02/06 10:36:43.929 +08:00] [INFO] [ddl.go:282] ["[ddl] stop DDL"] [ID=c7ac7df7-e208-4c8b-a6e2-0e188cbe62ad]
[2020/02/06 10:36:43.929 +08:00] [INFO] [domain.go:456] ["domain closed"] ["take time"=64.421µs]
PASS: physical_plan_test.go:766: testPlanSuite.TestDAGPlanBuilderSplitAvg	0.050s
[2020/02/06 10:36:43.930 +08:00] [INFO] [tidb.go:68] ["new domain"] [store=2000777c-28ab-440c-98eb-a474fbf8dc13] ["ddl lease"=0s] ["stats lease"=-1ns]
[2020/02/06 10:36:43.930 +08:00] [INFO] [ddl.go:289] ["[ddl] start DDL"] [ID=46b744c2-51a3-4975-b4b3-0bc0cba6b8fd]
[2020/02/06 10:36:43.930 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=0] ["start time"=53.313µs]
[2020/02/06 10:36:43.930 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 102, tp add index"]
[2020/02/06 10:36:43.930 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 101, tp general"]
[2020/02/06 10:36:43.930 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:43.930 +08:00] [INFO] [tidb.go:171] ["rollbackTxn for ddl/autocommit failed"]
[2020/02/06 10:36:43.930 +08:00] [WARN] [session.go:736] ["run statement failed"] [schemaVersion=0] [error="[schema:1049]Unknown database 'mysql'"] [errorVerbose="[schema:1049]Unknown database 'mysql'\ngithub.com/pingcap/errors.AddStack\n\t/home/aliv/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20190809092503-95897b64e011/errors.go:174\ngithub.com/pingcap/tidb/parser/terror.(*Error).GenWithStackByArgs\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/terror/terror.go:240\ngithub.com/pingcap/tidb/executor.(*SimpleExec).executeUse\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/simple.go:66\ngithub.com/pingcap/tidb/executor.(*SimpleExec).Next\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/simple.go:49\ngithub.com/pingcap/tidb/executor.Next\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/executor.go:175\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelayExecutor\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:271\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelay\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:237\ngithub.com/pingcap/tidb/executor.(*ExecStmt).Exec\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:208\ngithub.com/pingcap/tidb/session.runStmt\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/tidb.go:219\ngithub.com/pingcap/tidb/session.(*session).executeStatement\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:733\ngithub.com/pingcap/tidb/session.(*session).execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:812\ngithub.com/pingcap/tidb/session.(*session).Execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:760\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:175\ngithub.com/pingcap/tidb/session.bootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:143\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:1021\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:982\ngithub.com/pingcap/tidb/planner/core_test.newStoreWithBootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/cbo_test.go:270\ngithub.com/pingcap/tidb/planner/core_test.(*testPlanSuite).TestDAGPlanBuilderSubquery\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/physical_plan_test.go:141\nreflect.Value.call\n\t/usr/lib/go/src/reflect/value.go:460\nreflect.Value.Call\n\t/usr/lib/go/src/reflect/value.go:321\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:854\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:739\nruntime.goexit\n\t/usr/lib/go/src/runtime/asm_amd64.s:1357"] [session="{\n  \"currDBName\": \"\",\n  \"id\": 0,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": \"\"\n}"]
[2020/02/06 10:36:43.930 +08:00] [WARN] [session.go:803] ["compile SQL failed"] [error="[schema:1146]Table 'mysql.tidb' doesn't exist"] [errorVerbose="[schema:1146]Table 'mysql.tidb' doesn't exist\ngithub.com/pingcap/errors.AddStack\n\t/home/aliv/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20190809092503-95897b64e011/errors.go:174\ngithub.com/pingcap/tidb/parser/terror.(*Error).GenWithStackByArgs\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/terror/terror.go:240\ngithub.com/pingcap/tidb/infoschema.(*infoSchema).TableByName\n\t/home/aliv/go/src/github.com/pingcap/tinysql/infoschema/infoschema.go:171\ngithub.com/pingcap/tidb/planner/core.(*preprocessor).handleTableName\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:650\ngithub.com/pingcap/tidb/planner/core.(*preprocessor).Leave\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:133\ngithub.com/pingcap/tidb/parser/ast.(*TableName).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:294\ngithub.com/pingcap/tidb/parser/ast.(*TableSource).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:431\ngithub.com/pingcap/tidb/parser/ast.(*Join).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:142\ngithub.com/pingcap/tidb/parser/ast.(*TableRefsClause).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:612\ngithub.com/pingcap/tidb/parser/ast.(*SelectStmt).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:931\ngithub.com/pingcap/tidb/planner/core.Preprocess\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:48\ngithub.com/pingcap/tidb/executor.(*Compiler).Compile\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/compiler.go:34\ngithub.com/pingcap/tidb/session.(*session).execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:800\ngithub.com/pingcap/tidb/session.(*session).Execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:760\ngithub.com/pingcap/tidb/session.getTiDBVar\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:204\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:181\ngithub.com/pingcap/tidb/session.bootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:143\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:1021\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:982\ngithub.com/pingcap/tidb/planner/core_test.newStoreWithBootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/cbo_test.go:270\ngithub.com/pingcap/tidb/planner/core_test.(*testPlanSuite).TestDAGPlanBuilderSubquery\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/physical_plan_test.go:141\nreflect.Value.call\n\t/usr/lib/go/src/reflect/value.go:460\nreflect.Value.Call\n\t/usr/lib/go/src/reflect/value.go:321\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:854\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:739\nruntime.goexit\n\t/usr/lib/go/src/runtime/asm_amd64.s:1357"] [SQL="SELECT HIGH_PRIORITY VARIABLE_VALUE FROM mysql.tidb WHERE VARIABLE_NAME=\"bootstrapped\""]
[2020/02/06 10:36:43.930 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:2, Type:create schema, State:none, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.93 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS test"]
[2020/02/06 10:36:43.930 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 101, tp general"] [job="ID:2, Type:create schema, State:none, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.93 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.931 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 101, tp general"] [job="ID:2, Type:create schema, State:synced, SchemaState:public, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.93 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.931 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=2]
[2020/02/06 10:36:43.931 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.931 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=1] ["start time"=104.562µs]
[2020/02/06 10:36:43.931 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:43.931 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:4, Type:create schema, State:none, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.931 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS mysql;"]
[2020/02/06 10:36:43.931 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 101, tp general"] [job="ID:4, Type:create schema, State:none, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.931 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.932 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 101, tp general"] [job="ID:4, Type:create schema, State:synced, SchemaState:public, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.931 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.932 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=4]
[2020/02/06 10:36:43.932 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.932 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=1] [neededSchemaVersion=2] ["start time"=35.325µs] [tblIDs="[]"]
[2020/02/06 10:36:43.932 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:6, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.932 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) Not Null PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT Null);"]
[2020/02/06 10:36:43.932 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 101, tp general"] [job="ID:6, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.932 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.933 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 101, tp general"] [job="ID:6, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.932 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.933 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=6]
[2020/02/06 10:36:43.933 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.933 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=2] [neededSchemaVersion=3] ["start time"=80.079µs] [tblIDs="[5]"]
[2020/02/06 10:36:43.933 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:8, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.933 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.tidb(\n\t\tVARIABLE_NAME  VARCHAR(64) Not Null PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT Null,\n\t\tCOMMENT VARCHAR(1024));"]
[2020/02/06 10:36:43.933 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 101, tp general"] [job="ID:8, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.933 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.934 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 101, tp general"] [job="ID:8, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.933 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.934 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=8]
[2020/02/06 10:36:43.934 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.934 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=3] [neededSchemaVersion=4] ["start time"=86.385µs] [tblIDs="[7]"]
[2020/02/06 10:36:43.935 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:10, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.934 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.help_topic (\n  \t\thelp_topic_id int(10) unsigned NOT NULL,\n  \t\tname char(64) NOT NULL,\n  \t\thelp_category_id smallint(5) unsigned NOT NULL,\n  \t\tdescription text NOT NULL,\n  \t\texample text NOT NULL,\n  \t\turl text NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id),\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"]
[2020/02/06 10:36:43.935 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 101, tp general"] [job="ID:10, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.934 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.935 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 101, tp general"] [job="ID:10, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.934 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.936 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=10]
[2020/02/06 10:36:43.936 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.936 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=4] [neededSchemaVersion=5] ["start time"=104.366µs] [tblIDs="[9]"]
[2020/02/06 10:36:43.936 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:12, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.936 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_meta (\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tcount bigint(64) unsigned NOT NULL DEFAULT 0,\n\t\tindex idx_ver(version),\n\t\tunique index tbl(table_id)\n\t);"]
[2020/02/06 10:36:43.936 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 101, tp general"] [job="ID:12, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.936 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.937 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 101, tp general"] [job="ID:12, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.936 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.937 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=12]
[2020/02/06 10:36:43.937 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.938 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=5] [neededSchemaVersion=6] ["start time"=134.144µs] [tblIDs="[11]"]
[2020/02/06 10:36:43.938 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:14, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.938 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_histograms (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tdistinct_count bigint(64) NOT NULL,\n\t\tnull_count bigint(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size bigint(64) NOT NULL DEFAULT 0,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tversion bigint(64) unsigned NOT NULL DEFAULT 0,\n\t\tcm_sketch blob,\n\t\tstats_ver bigint(64) NOT NULL DEFAULT 0,\n\t\tflag bigint(64) NOT NULL DEFAULT 0,\n\t\tcorrelation double NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos blob DEFAULT NULL,\n\t\tunique index tbl(table_id, is_index, hist_id)\n\t);"]
[2020/02/06 10:36:43.938 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 101, tp general"] [job="ID:14, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.938 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.939 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 101, tp general"] [job="ID:14, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.938 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.940 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=14]
[2020/02/06 10:36:43.940 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.940 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=6] [neededSchemaVersion=7] ["start time"=165.143µs] [tblIDs="[13]"]
[2020/02/06 10:36:43.940 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:16, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.94 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_buckets (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tbucket_id bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\trepeats bigint(64) NOT NULL,\n\t\tupper_bound blob NOT NULL,\n\t\tlower_bound blob ,\n\t\tunique index tbl(table_id, is_index, hist_id, bucket_id)\n\t);"]
[2020/02/06 10:36:43.940 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 101, tp general"] [job="ID:16, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.94 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.941 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 101, tp general"] [job="ID:16, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.94 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.942 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=16]
[2020/02/06 10:36:43.942 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.942 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=7] [neededSchemaVersion=8] ["start time"=157.788µs] [tblIDs="[15]"]
[2020/02/06 10:36:43.943 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:18, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.942 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id BIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id BIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts BIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"]
[2020/02/06 10:36:43.943 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 101, tp general"] [job="ID:18, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.942 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.944 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 101, tp general"] [job="ID:18, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.942 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.944 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=18]
[2020/02/06 10:36:43.944 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.944 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=8] [neededSchemaVersion=9] ["start time"=116.595µs] [tblIDs="[17]"]
[2020/02/06 10:36:43.945 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:20, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.945 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id BIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id BIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts BIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"]
[2020/02/06 10:36:43.945 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 101, tp general"] [job="ID:20, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.945 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.946 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 101, tp general"] [job="ID:20, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.945 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.946 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=20]
[2020/02/06 10:36:43.946 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.946 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=9] [neededSchemaVersion=10] ["start time"=122.969µs] [tblIDs="[19]"]
[2020/02/06 10:36:43.946 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:22, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.946 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_top_n (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tvalue longblob,\n\t\tcount bigint(64) UNSIGNED NOT NULL,\n\t\tindex tbl(table_id, is_index, hist_id)\n\t);"]
[2020/02/06 10:36:43.947 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 101, tp general"] [job="ID:22, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.946 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.947 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 101, tp general"] [job="ID:22, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.946 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.948 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=22]
[2020/02/06 10:36:43.948 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.948 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=10] [neededSchemaVersion=11] ["start time"=119.794µs] [tblIDs="[21]"]
[2020/02/06 10:36:43.965 +08:00] [INFO] [bootstrap.go:153] ["bootstrap successful"] ["take time"=35.102881ms]
[2020/02/06 10:36:43.965 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 101, tp general"] ["take time"=5.138µs]
[2020/02/06 10:36:43.965 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 102, tp add index"] ["take time"=2.71µs]
[2020/02/06 10:36:43.965 +08:00] [INFO] [session_pool.go:85] ["[ddl] closing sessionPool"]
[2020/02/06 10:36:43.965 +08:00] [INFO] [ddl.go:349] ["[ddl] DDL closed"] [ID=46b744c2-51a3-4975-b4b3-0bc0cba6b8fd] ["take time"=48.74µs]
[2020/02/06 10:36:43.965 +08:00] [INFO] [ddl.go:282] ["[ddl] stop DDL"] [ID=46b744c2-51a3-4975-b4b3-0bc0cba6b8fd]
[2020/02/06 10:36:43.965 +08:00] [INFO] [domain.go:456] ["domain closed"] ["take time"=70.956µs]
[2020/02/06 10:36:43.965 +08:00] [INFO] [tidb.go:68] ["new domain"] [store=2000777c-28ab-440c-98eb-a474fbf8dc13] ["ddl lease"=0s] ["stats lease"=-1ns]
[2020/02/06 10:36:43.965 +08:00] [INFO] [ddl.go:289] ["[ddl] start DDL"] [ID=d2847975-a72d-4d88-b6e4-1ecfa1a08795]
[2020/02/06 10:36:43.965 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 103, tp general"]
[2020/02/06 10:36:43.965 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 104, tp add index"]
[2020/02/06 10:36:43.970 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=11] ["start time"=1.770633ms]
[2020/02/06 10:36:43.970 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:43.972 +08:00] [INFO] [set.go:180] ["set session var"] [conn=0] [name=sql_mode] [val=STRICT_TRANS_TABLES]
[2020/02/06 10:36:43.974 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 103, tp general"] ["take time"=26.149µs]
[2020/02/06 10:36:43.974 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 104, tp add index"] ["take time"=9.573µs]
[2020/02/06 10:36:43.974 +08:00] [INFO] [session_pool.go:85] ["[ddl] closing sessionPool"]
[2020/02/06 10:36:43.974 +08:00] [INFO] [ddl.go:349] ["[ddl] DDL closed"] [ID=d2847975-a72d-4d88-b6e4-1ecfa1a08795] ["take time"=133.806µs]
[2020/02/06 10:36:43.974 +08:00] [INFO] [ddl.go:282] ["[ddl] stop DDL"] [ID=d2847975-a72d-4d88-b6e4-1ecfa1a08795]
[2020/02/06 10:36:43.974 +08:00] [INFO] [domain.go:456] ["domain closed"] ["take time"=153.406µs]
PASS: physical_plan_test.go:139: testPlanSuite.TestDAGPlanBuilderSubquery	0.045s
[2020/02/06 10:36:43.975 +08:00] [INFO] [tidb.go:68] ["new domain"] [store=6ab6258b-7b0c-4b53-b330-2c67cc75418e] ["ddl lease"=0s] ["stats lease"=-1ns]
[2020/02/06 10:36:43.975 +08:00] [INFO] [ddl.go:289] ["[ddl] start DDL"] [ID=ff4e276f-a8c8-4e3d-8d79-a108914700a1]
[2020/02/06 10:36:43.975 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 105, tp general"]
[2020/02/06 10:36:43.975 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 106, tp add index"]
[2020/02/06 10:36:43.975 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=0] ["start time"=72.081µs]
[2020/02/06 10:36:43.975 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:43.975 +08:00] [INFO] [tidb.go:171] ["rollbackTxn for ddl/autocommit failed"]
[2020/02/06 10:36:43.975 +08:00] [WARN] [session.go:736] ["run statement failed"] [schemaVersion=0] [error="[schema:1049]Unknown database 'mysql'"] [errorVerbose="[schema:1049]Unknown database 'mysql'\ngithub.com/pingcap/errors.AddStack\n\t/home/aliv/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20190809092503-95897b64e011/errors.go:174\ngithub.com/pingcap/tidb/parser/terror.(*Error).GenWithStackByArgs\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/terror/terror.go:240\ngithub.com/pingcap/tidb/executor.(*SimpleExec).executeUse\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/simple.go:66\ngithub.com/pingcap/tidb/executor.(*SimpleExec).Next\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/simple.go:49\ngithub.com/pingcap/tidb/executor.Next\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/executor.go:175\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelayExecutor\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:271\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelay\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:237\ngithub.com/pingcap/tidb/executor.(*ExecStmt).Exec\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:208\ngithub.com/pingcap/tidb/session.runStmt\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/tidb.go:219\ngithub.com/pingcap/tidb/session.(*session).executeStatement\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:733\ngithub.com/pingcap/tidb/session.(*session).execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:812\ngithub.com/pingcap/tidb/session.(*session).Execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:760\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:175\ngithub.com/pingcap/tidb/session.bootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:143\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:1021\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:982\ngithub.com/pingcap/tidb/planner/core_test.newStoreWithBootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/cbo_test.go:270\ngithub.com/pingcap/tidb/planner/core_test.(*testPlanSuite).TestDAGPlanBuilderUnionScan\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/physical_plan_test.go:249\nreflect.Value.call\n\t/usr/lib/go/src/reflect/value.go:460\nreflect.Value.Call\n\t/usr/lib/go/src/reflect/value.go:321\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:854\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:739\nruntime.goexit\n\t/usr/lib/go/src/runtime/asm_amd64.s:1357"] [session="{\n  \"currDBName\": \"\",\n  \"id\": 0,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": \"\"\n}"]
[2020/02/06 10:36:43.976 +08:00] [WARN] [session.go:803] ["compile SQL failed"] [error="[schema:1146]Table 'mysql.tidb' doesn't exist"] [errorVerbose="[schema:1146]Table 'mysql.tidb' doesn't exist\ngithub.com/pingcap/errors.AddStack\n\t/home/aliv/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20190809092503-95897b64e011/errors.go:174\ngithub.com/pingcap/tidb/parser/terror.(*Error).GenWithStackByArgs\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/terror/terror.go:240\ngithub.com/pingcap/tidb/infoschema.(*infoSchema).TableByName\n\t/home/aliv/go/src/github.com/pingcap/tinysql/infoschema/infoschema.go:171\ngithub.com/pingcap/tidb/planner/core.(*preprocessor).handleTableName\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:650\ngithub.com/pingcap/tidb/planner/core.(*preprocessor).Leave\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:133\ngithub.com/pingcap/tidb/parser/ast.(*TableName).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:294\ngithub.com/pingcap/tidb/parser/ast.(*TableSource).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:431\ngithub.com/pingcap/tidb/parser/ast.(*Join).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:142\ngithub.com/pingcap/tidb/parser/ast.(*TableRefsClause).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:612\ngithub.com/pingcap/tidb/parser/ast.(*SelectStmt).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:931\ngithub.com/pingcap/tidb/planner/core.Preprocess\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:48\ngithub.com/pingcap/tidb/executor.(*Compiler).Compile\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/compiler.go:34\ngithub.com/pingcap/tidb/session.(*session).execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:800\ngithub.com/pingcap/tidb/session.(*session).Execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:760\ngithub.com/pingcap/tidb/session.getTiDBVar\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:204\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:181\ngithub.com/pingcap/tidb/session.bootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:143\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:1021\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:982\ngithub.com/pingcap/tidb/planner/core_test.newStoreWithBootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/cbo_test.go:270\ngithub.com/pingcap/tidb/planner/core_test.(*testPlanSuite).TestDAGPlanBuilderUnionScan\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/physical_plan_test.go:249\nreflect.Value.call\n\t/usr/lib/go/src/reflect/value.go:460\nreflect.Value.Call\n\t/usr/lib/go/src/reflect/value.go:321\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:854\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:739\nruntime.goexit\n\t/usr/lib/go/src/runtime/asm_amd64.s:1357"] [SQL="SELECT HIGH_PRIORITY VARIABLE_VALUE FROM mysql.tidb WHERE VARIABLE_NAME=\"bootstrapped\""]
[2020/02/06 10:36:43.976 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:2, Type:create schema, State:none, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.976 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS test"]
[2020/02/06 10:36:43.976 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 105, tp general"] [job="ID:2, Type:create schema, State:none, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.976 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.976 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 105, tp general"] [job="ID:2, Type:create schema, State:synced, SchemaState:public, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.976 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.977 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=2]
[2020/02/06 10:36:43.977 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.977 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=1] ["start time"=134.071µs]
[2020/02/06 10:36:43.977 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:43.977 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:4, Type:create schema, State:none, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.977 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS mysql;"]
[2020/02/06 10:36:43.977 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 105, tp general"] [job="ID:4, Type:create schema, State:none, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.977 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.977 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 105, tp general"] [job="ID:4, Type:create schema, State:synced, SchemaState:public, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.977 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.978 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=4]
[2020/02/06 10:36:43.978 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.978 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=1] [neededSchemaVersion=2] ["start time"=31.989µs] [tblIDs="[]"]
[2020/02/06 10:36:43.978 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:6, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.978 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) Not Null PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT Null);"]
[2020/02/06 10:36:43.978 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 105, tp general"] [job="ID:6, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.978 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.979 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 105, tp general"] [job="ID:6, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.978 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.979 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=6]
[2020/02/06 10:36:43.979 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.979 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=2] [neededSchemaVersion=3] ["start time"=77.435µs] [tblIDs="[5]"]
[2020/02/06 10:36:43.979 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:8, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.979 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.tidb(\n\t\tVARIABLE_NAME  VARCHAR(64) Not Null PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT Null,\n\t\tCOMMENT VARCHAR(1024));"]
[2020/02/06 10:36:43.979 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 105, tp general"] [job="ID:8, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.979 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.980 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 105, tp general"] [job="ID:8, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.979 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.980 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=8]
[2020/02/06 10:36:43.980 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.980 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=3] [neededSchemaVersion=4] ["start time"=98.105µs] [tblIDs="[7]"]
[2020/02/06 10:36:43.981 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:10, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.98 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.help_topic (\n  \t\thelp_topic_id int(10) unsigned NOT NULL,\n  \t\tname char(64) NOT NULL,\n  \t\thelp_category_id smallint(5) unsigned NOT NULL,\n  \t\tdescription text NOT NULL,\n  \t\texample text NOT NULL,\n  \t\turl text NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id),\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"]
[2020/02/06 10:36:43.981 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 105, tp general"] [job="ID:10, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.98 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.981 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 105, tp general"] [job="ID:10, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.98 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.982 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=10]
[2020/02/06 10:36:43.982 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.982 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=4] [neededSchemaVersion=5] ["start time"=166.662µs] [tblIDs="[9]"]
[2020/02/06 10:36:43.983 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:12, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.982 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_meta (\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tcount bigint(64) unsigned NOT NULL DEFAULT 0,\n\t\tindex idx_ver(version),\n\t\tunique index tbl(table_id)\n\t);"]
[2020/02/06 10:36:43.983 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 105, tp general"] [job="ID:12, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.982 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.984 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 105, tp general"] [job="ID:12, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.982 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.984 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=12]
[2020/02/06 10:36:43.984 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.984 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=5] [neededSchemaVersion=6] ["start time"=113.798µs] [tblIDs="[11]"]
[2020/02/06 10:36:43.985 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:14, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.985 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_histograms (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tdistinct_count bigint(64) NOT NULL,\n\t\tnull_count bigint(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size bigint(64) NOT NULL DEFAULT 0,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tversion bigint(64) unsigned NOT NULL DEFAULT 0,\n\t\tcm_sketch blob,\n\t\tstats_ver bigint(64) NOT NULL DEFAULT 0,\n\t\tflag bigint(64) NOT NULL DEFAULT 0,\n\t\tcorrelation double NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos blob DEFAULT NULL,\n\t\tunique index tbl(table_id, is_index, hist_id)\n\t);"]
[2020/02/06 10:36:43.985 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 105, tp general"] [job="ID:14, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.985 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.987 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 105, tp general"] [job="ID:14, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.985 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.988 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=14]
[2020/02/06 10:36:43.988 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.988 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=6] [neededSchemaVersion=7] ["start time"=256.041µs] [tblIDs="[13]"]
[2020/02/06 10:36:43.989 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:16, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.989 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_buckets (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tbucket_id bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\trepeats bigint(64) NOT NULL,\n\t\tupper_bound blob NOT NULL,\n\t\tlower_bound blob ,\n\t\tunique index tbl(table_id, is_index, hist_id, bucket_id)\n\t);"]
[2020/02/06 10:36:43.989 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 105, tp general"] [job="ID:16, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.989 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.990 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 105, tp general"] [job="ID:16, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.989 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.990 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=16]
[2020/02/06 10:36:43.990 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.990 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=7] [neededSchemaVersion=8] ["start time"=142.864µs] [tblIDs="[15]"]
[2020/02/06 10:36:43.991 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:18, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.99 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id BIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id BIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts BIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"]
[2020/02/06 10:36:43.991 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 105, tp general"] [job="ID:18, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.99 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.991 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 105, tp general"] [job="ID:18, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.99 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.992 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=18]
[2020/02/06 10:36:43.992 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.992 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=8] [neededSchemaVersion=9] ["start time"=107.99µs] [tblIDs="[17]"]
[2020/02/06 10:36:43.992 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:20, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.992 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id BIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id BIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts BIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"]
[2020/02/06 10:36:43.992 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 105, tp general"] [job="ID:20, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.992 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.993 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 105, tp general"] [job="ID:20, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.992 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.993 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=20]
[2020/02/06 10:36:43.993 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.993 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=9] [neededSchemaVersion=10] ["start time"=115.771µs] [tblIDs="[19]"]
[2020/02/06 10:36:43.994 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:22, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:43.994 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_top_n (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tvalue longblob,\n\t\tcount bigint(64) UNSIGNED NOT NULL,\n\t\tindex tbl(table_id, is_index, hist_id)\n\t);"]
[2020/02/06 10:36:43.994 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 105, tp general"] [job="ID:22, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.994 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.995 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 105, tp general"] [job="ID:22, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:43.994 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:43.995 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=22]
[2020/02/06 10:36:43.995 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:43.995 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=10] [neededSchemaVersion=11] ["start time"=106.843µs] [tblIDs="[21]"]
[2020/02/06 10:36:44.010 +08:00] [INFO] [bootstrap.go:153] ["bootstrap successful"] ["take time"=34.397593ms]
[2020/02/06 10:36:44.010 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 105, tp general"] ["take time"=6.06µs]
[2020/02/06 10:36:44.010 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 106, tp add index"] ["take time"=2.776µs]
[2020/02/06 10:36:44.010 +08:00] [INFO] [session_pool.go:85] ["[ddl] closing sessionPool"]
[2020/02/06 10:36:44.010 +08:00] [INFO] [ddl.go:349] ["[ddl] DDL closed"] [ID=ff4e276f-a8c8-4e3d-8d79-a108914700a1] ["take time"=36.004µs]
[2020/02/06 10:36:44.010 +08:00] [INFO] [ddl.go:282] ["[ddl] stop DDL"] [ID=ff4e276f-a8c8-4e3d-8d79-a108914700a1]
[2020/02/06 10:36:44.010 +08:00] [INFO] [domain.go:456] ["domain closed"] ["take time"=49.43µs]
[2020/02/06 10:36:44.010 +08:00] [INFO] [tidb.go:68] ["new domain"] [store=6ab6258b-7b0c-4b53-b330-2c67cc75418e] ["ddl lease"=0s] ["stats lease"=-1ns]
[2020/02/06 10:36:44.010 +08:00] [INFO] [ddl.go:289] ["[ddl] start DDL"] [ID=47d24351-112c-4c18-b18e-1116b75880d7]
[2020/02/06 10:36:44.010 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 107, tp general"]
[2020/02/06 10:36:44.010 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 108, tp add index"]
[2020/02/06 10:36:44.014 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=11] ["start time"=3.46773ms]
[2020/02/06 10:36:44.014 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:44.016 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 107, tp general"] ["take time"=6.74µs]
[2020/02/06 10:36:44.016 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 108, tp add index"] ["take time"=2.554µs]
[2020/02/06 10:36:44.016 +08:00] [INFO] [session_pool.go:85] ["[ddl] closing sessionPool"]
[2020/02/06 10:36:44.016 +08:00] [INFO] [ddl.go:349] ["[ddl] DDL closed"] [ID=47d24351-112c-4c18-b18e-1116b75880d7] ["take time"=38.593µs]
[2020/02/06 10:36:44.016 +08:00] [INFO] [ddl.go:282] ["[ddl] stop DDL"] [ID=47d24351-112c-4c18-b18e-1116b75880d7]
[2020/02/06 10:36:44.016 +08:00] [INFO] [domain.go:456] ["domain closed"] ["take time"=61.712µs]
PASS: physical_plan_test.go:247: testPlanSuite.TestDAGPlanBuilderUnionScan	0.042s
[2020/02/06 10:36:44.016 +08:00] [INFO] [tidb.go:68] ["new domain"] [store=ba97cad6-cf42-4229-b757-8201aa4d434e] ["ddl lease"=0s] ["stats lease"=-1ns]
[2020/02/06 10:36:44.016 +08:00] [INFO] [ddl.go:289] ["[ddl] start DDL"] [ID=30324d0a-c0de-4bfc-bfde-e018f5fe6022]
[2020/02/06 10:36:44.016 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 109, tp general"]
[2020/02/06 10:36:44.016 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 110, tp add index"]
[2020/02/06 10:36:44.016 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=0] ["start time"=60.018µs]
[2020/02/06 10:36:44.016 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:44.016 +08:00] [INFO] [tidb.go:171] ["rollbackTxn for ddl/autocommit failed"]
[2020/02/06 10:36:44.016 +08:00] [WARN] [session.go:736] ["run statement failed"] [schemaVersion=0] [error="[schema:1049]Unknown database 'mysql'"] [errorVerbose="[schema:1049]Unknown database 'mysql'\ngithub.com/pingcap/errors.AddStack\n\t/home/aliv/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20190809092503-95897b64e011/errors.go:174\ngithub.com/pingcap/tidb/parser/terror.(*Error).GenWithStackByArgs\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/terror/terror.go:240\ngithub.com/pingcap/tidb/executor.(*SimpleExec).executeUse\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/simple.go:66\ngithub.com/pingcap/tidb/executor.(*SimpleExec).Next\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/simple.go:49\ngithub.com/pingcap/tidb/executor.Next\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/executor.go:175\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelayExecutor\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:271\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelay\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:237\ngithub.com/pingcap/tidb/executor.(*ExecStmt).Exec\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:208\ngithub.com/pingcap/tidb/session.runStmt\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/tidb.go:219\ngithub.com/pingcap/tidb/session.(*session).executeStatement\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:733\ngithub.com/pingcap/tidb/session.(*session).execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:812\ngithub.com/pingcap/tidb/session.(*session).Execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:760\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:175\ngithub.com/pingcap/tidb/session.bootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:143\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:1021\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:982\ngithub.com/pingcap/tidb/planner/core_test.newStoreWithBootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/cbo_test.go:270\ngithub.com/pingcap/tidb/planner/core_test.(*testPlanSuite).TestDAGPlanTopN\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/physical_plan_test.go:179\nreflect.Value.call\n\t/usr/lib/go/src/reflect/value.go:460\nreflect.Value.Call\n\t/usr/lib/go/src/reflect/value.go:321\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:854\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:739\nruntime.goexit\n\t/usr/lib/go/src/runtime/asm_amd64.s:1357"] [session="{\n  \"currDBName\": \"\",\n  \"id\": 0,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": \"\"\n}"]
[2020/02/06 10:36:44.017 +08:00] [WARN] [session.go:803] ["compile SQL failed"] [error="[schema:1146]Table 'mysql.tidb' doesn't exist"] [errorVerbose="[schema:1146]Table 'mysql.tidb' doesn't exist\ngithub.com/pingcap/errors.AddStack\n\t/home/aliv/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20190809092503-95897b64e011/errors.go:174\ngithub.com/pingcap/tidb/parser/terror.(*Error).GenWithStackByArgs\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/terror/terror.go:240\ngithub.com/pingcap/tidb/infoschema.(*infoSchema).TableByName\n\t/home/aliv/go/src/github.com/pingcap/tinysql/infoschema/infoschema.go:171\ngithub.com/pingcap/tidb/planner/core.(*preprocessor).handleTableName\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:650\ngithub.com/pingcap/tidb/planner/core.(*preprocessor).Leave\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:133\ngithub.com/pingcap/tidb/parser/ast.(*TableName).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:294\ngithub.com/pingcap/tidb/parser/ast.(*TableSource).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:431\ngithub.com/pingcap/tidb/parser/ast.(*Join).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:142\ngithub.com/pingcap/tidb/parser/ast.(*TableRefsClause).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:612\ngithub.com/pingcap/tidb/parser/ast.(*SelectStmt).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:931\ngithub.com/pingcap/tidb/planner/core.Preprocess\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:48\ngithub.com/pingcap/tidb/executor.(*Compiler).Compile\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/compiler.go:34\ngithub.com/pingcap/tidb/session.(*session).execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:800\ngithub.com/pingcap/tidb/session.(*session).Execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:760\ngithub.com/pingcap/tidb/session.getTiDBVar\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:204\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:181\ngithub.com/pingcap/tidb/session.bootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:143\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:1021\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:982\ngithub.com/pingcap/tidb/planner/core_test.newStoreWithBootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/cbo_test.go:270\ngithub.com/pingcap/tidb/planner/core_test.(*testPlanSuite).TestDAGPlanTopN\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/physical_plan_test.go:179\nreflect.Value.call\n\t/usr/lib/go/src/reflect/value.go:460\nreflect.Value.Call\n\t/usr/lib/go/src/reflect/value.go:321\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:854\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:739\nruntime.goexit\n\t/usr/lib/go/src/runtime/asm_amd64.s:1357"] [SQL="SELECT HIGH_PRIORITY VARIABLE_VALUE FROM mysql.tidb WHERE VARIABLE_NAME=\"bootstrapped\""]
[2020/02/06 10:36:44.017 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:2, Type:create schema, State:none, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.017 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS test"]
[2020/02/06 10:36:44.017 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 109, tp general"] [job="ID:2, Type:create schema, State:none, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.017 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.017 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 109, tp general"] [job="ID:2, Type:create schema, State:synced, SchemaState:public, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.017 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.017 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=2]
[2020/02/06 10:36:44.017 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.017 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=1] ["start time"=93.415µs]
[2020/02/06 10:36:44.018 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:44.018 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:4, Type:create schema, State:none, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.018 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS mysql;"]
[2020/02/06 10:36:44.018 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 109, tp general"] [job="ID:4, Type:create schema, State:none, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.018 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.018 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 109, tp general"] [job="ID:4, Type:create schema, State:synced, SchemaState:public, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.018 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.018 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=4]
[2020/02/06 10:36:44.018 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.018 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=1] [neededSchemaVersion=2] ["start time"=26.873µs] [tblIDs="[]"]
[2020/02/06 10:36:44.018 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:6, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.018 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) Not Null PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT Null);"]
[2020/02/06 10:36:44.019 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 109, tp general"] [job="ID:6, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.018 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.019 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 109, tp general"] [job="ID:6, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.018 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.019 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=6]
[2020/02/06 10:36:44.019 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.019 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=2] [neededSchemaVersion=3] ["start time"=87.726µs] [tblIDs="[5]"]
[2020/02/06 10:36:44.020 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:8, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.019 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.tidb(\n\t\tVARIABLE_NAME  VARCHAR(64) Not Null PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT Null,\n\t\tCOMMENT VARCHAR(1024));"]
[2020/02/06 10:36:44.020 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 109, tp general"] [job="ID:8, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.019 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.020 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 109, tp general"] [job="ID:8, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.019 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.021 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=8]
[2020/02/06 10:36:44.021 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.021 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=3] [neededSchemaVersion=4] ["start time"=83.063µs] [tblIDs="[7]"]
[2020/02/06 10:36:44.021 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:10, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.021 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.help_topic (\n  \t\thelp_topic_id int(10) unsigned NOT NULL,\n  \t\tname char(64) NOT NULL,\n  \t\thelp_category_id smallint(5) unsigned NOT NULL,\n  \t\tdescription text NOT NULL,\n  \t\texample text NOT NULL,\n  \t\turl text NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id),\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"]
[2020/02/06 10:36:44.021 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 109, tp general"] [job="ID:10, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.021 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.022 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 109, tp general"] [job="ID:10, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.021 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.022 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=10]
[2020/02/06 10:36:44.022 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.022 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=4] [neededSchemaVersion=5] ["start time"=99.802µs] [tblIDs="[9]"]
[2020/02/06 10:36:44.023 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:12, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.022 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_meta (\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tcount bigint(64) unsigned NOT NULL DEFAULT 0,\n\t\tindex idx_ver(version),\n\t\tunique index tbl(table_id)\n\t);"]
[2020/02/06 10:36:44.023 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 109, tp general"] [job="ID:12, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.022 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.023 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 109, tp general"] [job="ID:12, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.022 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.024 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=12]
[2020/02/06 10:36:44.024 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.024 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=5] [neededSchemaVersion=6] ["start time"=113.583µs] [tblIDs="[11]"]
[2020/02/06 10:36:44.025 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:14, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.024 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_histograms (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tdistinct_count bigint(64) NOT NULL,\n\t\tnull_count bigint(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size bigint(64) NOT NULL DEFAULT 0,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tversion bigint(64) unsigned NOT NULL DEFAULT 0,\n\t\tcm_sketch blob,\n\t\tstats_ver bigint(64) NOT NULL DEFAULT 0,\n\t\tflag bigint(64) NOT NULL DEFAULT 0,\n\t\tcorrelation double NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos blob DEFAULT NULL,\n\t\tunique index tbl(table_id, is_index, hist_id)\n\t);"]
[2020/02/06 10:36:44.025 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 109, tp general"] [job="ID:14, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.024 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.026 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 109, tp general"] [job="ID:14, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.024 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.027 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=14]
[2020/02/06 10:36:44.027 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.027 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=6] [neededSchemaVersion=7] ["start time"=162.47µs] [tblIDs="[13]"]
[2020/02/06 10:36:44.027 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:16, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.027 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_buckets (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tbucket_id bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\trepeats bigint(64) NOT NULL,\n\t\tupper_bound blob NOT NULL,\n\t\tlower_bound blob ,\n\t\tunique index tbl(table_id, is_index, hist_id, bucket_id)\n\t);"]
[2020/02/06 10:36:44.027 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 109, tp general"] [job="ID:16, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.027 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.028 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 109, tp general"] [job="ID:16, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.027 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.028 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=16]
[2020/02/06 10:36:44.028 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.029 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=7] [neededSchemaVersion=8] ["start time"=141.067µs] [tblIDs="[15]"]
[2020/02/06 10:36:44.029 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:18, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.029 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id BIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id BIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts BIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"]
[2020/02/06 10:36:44.029 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 109, tp general"] [job="ID:18, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.029 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.030 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 109, tp general"] [job="ID:18, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.029 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.030 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=18]
[2020/02/06 10:36:44.030 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.030 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=8] [neededSchemaVersion=9] ["start time"=111.585µs] [tblIDs="[17]"]
[2020/02/06 10:36:44.031 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:20, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.03 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id BIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id BIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts BIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"]
[2020/02/06 10:36:44.031 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 109, tp general"] [job="ID:20, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.03 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.031 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 109, tp general"] [job="ID:20, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.03 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.032 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=20]
[2020/02/06 10:36:44.032 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.032 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=9] [neededSchemaVersion=10] ["start time"=99.464µs] [tblIDs="[19]"]
[2020/02/06 10:36:44.032 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:22, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.032 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_top_n (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tvalue longblob,\n\t\tcount bigint(64) UNSIGNED NOT NULL,\n\t\tindex tbl(table_id, is_index, hist_id)\n\t);"]
[2020/02/06 10:36:44.032 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 109, tp general"] [job="ID:22, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.032 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.034 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 109, tp general"] [job="ID:22, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.032 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.034 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=22]
[2020/02/06 10:36:44.034 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.034 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=10] [neededSchemaVersion=11] ["start time"=140.958µs] [tblIDs="[21]"]
[2020/02/06 10:36:44.050 +08:00] [INFO] [bootstrap.go:153] ["bootstrap successful"] ["take time"=33.551516ms]
[2020/02/06 10:36:44.050 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 109, tp general"] ["take time"=5.383µs]
[2020/02/06 10:36:44.050 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 110, tp add index"] ["take time"=3.412µs]
[2020/02/06 10:36:44.050 +08:00] [INFO] [session_pool.go:85] ["[ddl] closing sessionPool"]
[2020/02/06 10:36:44.050 +08:00] [INFO] [ddl.go:349] ["[ddl] DDL closed"] [ID=30324d0a-c0de-4bfc-bfde-e018f5fe6022] ["take time"=48.892µs]
[2020/02/06 10:36:44.050 +08:00] [INFO] [ddl.go:282] ["[ddl] stop DDL"] [ID=30324d0a-c0de-4bfc-bfde-e018f5fe6022]
[2020/02/06 10:36:44.050 +08:00] [INFO] [domain.go:456] ["domain closed"] ["take time"=64.776µs]
[2020/02/06 10:36:44.050 +08:00] [INFO] [tidb.go:68] ["new domain"] [store=ba97cad6-cf42-4229-b757-8201aa4d434e] ["ddl lease"=0s] ["stats lease"=-1ns]
[2020/02/06 10:36:44.050 +08:00] [INFO] [ddl.go:289] ["[ddl] start DDL"] [ID=ee5deae0-fe0d-48f6-8e15-6703afa11240]
[2020/02/06 10:36:44.050 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 111, tp general"]
[2020/02/06 10:36:44.050 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 112, tp add index"]
[2020/02/06 10:36:44.056 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=11] ["start time"=4.494183ms]
[2020/02/06 10:36:44.056 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:44.060 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 111, tp general"] ["take time"=38.813µs]
[2020/02/06 10:36:44.060 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 112, tp add index"] ["take time"=10.37µs]
[2020/02/06 10:36:44.060 +08:00] [INFO] [session_pool.go:85] ["[ddl] closing sessionPool"]
[2020/02/06 10:36:44.060 +08:00] [INFO] [ddl.go:349] ["[ddl] DDL closed"] [ID=ee5deae0-fe0d-48f6-8e15-6703afa11240] ["take time"=127.39µs]
[2020/02/06 10:36:44.060 +08:00] [INFO] [ddl.go:282] ["[ddl] stop DDL"] [ID=ee5deae0-fe0d-48f6-8e15-6703afa11240]
[2020/02/06 10:36:44.060 +08:00] [INFO] [domain.go:456] ["domain closed"] ["take time"=144.906µs]
PASS: physical_plan_test.go:177: testPlanSuite.TestDAGPlanTopN	0.044s
[2020/02/06 10:36:44.061 +08:00] [INFO] [tidb.go:68] ["new domain"] [store=c65bbe64-8691-4319-add8-d457541aa4ba] ["ddl lease"=0s] ["stats lease"=-1ns]
[2020/02/06 10:36:44.061 +08:00] [INFO] [ddl.go:289] ["[ddl] start DDL"] [ID=9cec0881-1c4b-45fe-83d6-7b177c2812bc]
[2020/02/06 10:36:44.061 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 114, tp add index"]
[2020/02/06 10:36:44.061 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=0] ["start time"=69.429µs]
[2020/02/06 10:36:44.061 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:44.061 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 113, tp general"]
[2020/02/06 10:36:44.062 +08:00] [INFO] [tidb.go:171] ["rollbackTxn for ddl/autocommit failed"]
[2020/02/06 10:36:44.062 +08:00] [WARN] [session.go:736] ["run statement failed"] [schemaVersion=0] [error="[schema:1049]Unknown database 'mysql'"] [errorVerbose="[schema:1049]Unknown database 'mysql'\ngithub.com/pingcap/errors.AddStack\n\t/home/aliv/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20190809092503-95897b64e011/errors.go:174\ngithub.com/pingcap/tidb/parser/terror.(*Error).GenWithStackByArgs\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/terror/terror.go:240\ngithub.com/pingcap/tidb/executor.(*SimpleExec).executeUse\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/simple.go:66\ngithub.com/pingcap/tidb/executor.(*SimpleExec).Next\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/simple.go:49\ngithub.com/pingcap/tidb/executor.Next\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/executor.go:175\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelayExecutor\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:271\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelay\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:237\ngithub.com/pingcap/tidb/executor.(*ExecStmt).Exec\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:208\ngithub.com/pingcap/tidb/session.runStmt\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/tidb.go:219\ngithub.com/pingcap/tidb/session.(*session).executeStatement\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:733\ngithub.com/pingcap/tidb/session.(*session).execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:812\ngithub.com/pingcap/tidb/session.(*session).Execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:760\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:175\ngithub.com/pingcap/tidb/session.bootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:143\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:1021\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:982\ngithub.com/pingcap/tidb/planner/core_test.newStoreWithBootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/cbo_test.go:270\ngithub.com/pingcap/tidb/planner/core_test.(*testPlanSuite).TestHintAlias\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/physical_plan_test.go:676\nreflect.Value.call\n\t/usr/lib/go/src/reflect/value.go:460\nreflect.Value.Call\n\t/usr/lib/go/src/reflect/value.go:321\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:854\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:739\nruntime.goexit\n\t/usr/lib/go/src/runtime/asm_amd64.s:1357"] [session="{\n  \"currDBName\": \"\",\n  \"id\": 0,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": \"\"\n}"]
[2020/02/06 10:36:44.062 +08:00] [WARN] [session.go:803] ["compile SQL failed"] [error="[schema:1146]Table 'mysql.tidb' doesn't exist"] [errorVerbose="[schema:1146]Table 'mysql.tidb' doesn't exist\ngithub.com/pingcap/errors.AddStack\n\t/home/aliv/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20190809092503-95897b64e011/errors.go:174\ngithub.com/pingcap/tidb/parser/terror.(*Error).GenWithStackByArgs\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/terror/terror.go:240\ngithub.com/pingcap/tidb/infoschema.(*infoSchema).TableByName\n\t/home/aliv/go/src/github.com/pingcap/tinysql/infoschema/infoschema.go:171\ngithub.com/pingcap/tidb/planner/core.(*preprocessor).handleTableName\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:650\ngithub.com/pingcap/tidb/planner/core.(*preprocessor).Leave\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:133\ngithub.com/pingcap/tidb/parser/ast.(*TableName).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:294\ngithub.com/pingcap/tidb/parser/ast.(*TableSource).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:431\ngithub.com/pingcap/tidb/parser/ast.(*Join).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:142\ngithub.com/pingcap/tidb/parser/ast.(*TableRefsClause).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:612\ngithub.com/pingcap/tidb/parser/ast.(*SelectStmt).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:931\ngithub.com/pingcap/tidb/planner/core.Preprocess\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:48\ngithub.com/pingcap/tidb/executor.(*Compiler).Compile\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/compiler.go:34\ngithub.com/pingcap/tidb/session.(*session).execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:800\ngithub.com/pingcap/tidb/session.(*session).Execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:760\ngithub.com/pingcap/tidb/session.getTiDBVar\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:204\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:181\ngithub.com/pingcap/tidb/session.bootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:143\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:1021\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:982\ngithub.com/pingcap/tidb/planner/core_test.newStoreWithBootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/cbo_test.go:270\ngithub.com/pingcap/tidb/planner/core_test.(*testPlanSuite).TestHintAlias\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/physical_plan_test.go:676\nreflect.Value.call\n\t/usr/lib/go/src/reflect/value.go:460\nreflect.Value.Call\n\t/usr/lib/go/src/reflect/value.go:321\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:854\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:739\nruntime.goexit\n\t/usr/lib/go/src/runtime/asm_amd64.s:1357"] [SQL="SELECT HIGH_PRIORITY VARIABLE_VALUE FROM mysql.tidb WHERE VARIABLE_NAME=\"bootstrapped\""]
[2020/02/06 10:36:44.062 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:2, Type:create schema, State:none, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.062 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS test"]
[2020/02/06 10:36:44.062 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 113, tp general"] [job="ID:2, Type:create schema, State:none, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.062 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.063 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 113, tp general"] [job="ID:2, Type:create schema, State:synced, SchemaState:public, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.062 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.063 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=2]
[2020/02/06 10:36:44.063 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.063 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=1] ["start time"=135.858µs]
[2020/02/06 10:36:44.063 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:44.063 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:4, Type:create schema, State:none, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.063 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS mysql;"]
[2020/02/06 10:36:44.063 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 113, tp general"] [job="ID:4, Type:create schema, State:none, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.063 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.064 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 113, tp general"] [job="ID:4, Type:create schema, State:synced, SchemaState:public, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.063 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.064 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=4]
[2020/02/06 10:36:44.064 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.064 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=1] [neededSchemaVersion=2] ["start time"=35.606µs] [tblIDs="[]"]
[2020/02/06 10:36:44.064 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:6, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.064 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) Not Null PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT Null);"]
[2020/02/06 10:36:44.065 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 113, tp general"] [job="ID:6, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.064 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.065 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 113, tp general"] [job="ID:6, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.064 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.065 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=6]
[2020/02/06 10:36:44.065 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.065 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=2] [neededSchemaVersion=3] ["start time"=81.363µs] [tblIDs="[5]"]
[2020/02/06 10:36:44.066 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:8, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.066 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.tidb(\n\t\tVARIABLE_NAME  VARCHAR(64) Not Null PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT Null,\n\t\tCOMMENT VARCHAR(1024));"]
[2020/02/06 10:36:44.066 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 113, tp general"] [job="ID:8, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.066 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.067 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 113, tp general"] [job="ID:8, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.066 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.068 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=8]
[2020/02/06 10:36:44.068 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.068 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=3] [neededSchemaVersion=4] ["start time"=121.344µs] [tblIDs="[7]"]
[2020/02/06 10:36:44.068 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:10, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.068 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.help_topic (\n  \t\thelp_topic_id int(10) unsigned NOT NULL,\n  \t\tname char(64) NOT NULL,\n  \t\thelp_category_id smallint(5) unsigned NOT NULL,\n  \t\tdescription text NOT NULL,\n  \t\texample text NOT NULL,\n  \t\turl text NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id),\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"]
[2020/02/06 10:36:44.068 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 113, tp general"] [job="ID:10, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.068 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.069 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 113, tp general"] [job="ID:10, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.068 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.070 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=10]
[2020/02/06 10:36:44.070 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.070 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=4] [neededSchemaVersion=5] ["start time"=138.18µs] [tblIDs="[9]"]
[2020/02/06 10:36:44.070 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:12, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.07 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_meta (\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tcount bigint(64) unsigned NOT NULL DEFAULT 0,\n\t\tindex idx_ver(version),\n\t\tunique index tbl(table_id)\n\t);"]
[2020/02/06 10:36:44.071 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 113, tp general"] [job="ID:12, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.07 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.072 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 113, tp general"] [job="ID:12, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.07 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.072 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=12]
[2020/02/06 10:36:44.072 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.073 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=5] [neededSchemaVersion=6] ["start time"=153.545µs] [tblIDs="[11]"]
[2020/02/06 10:36:44.073 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:14, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.073 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_histograms (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tdistinct_count bigint(64) NOT NULL,\n\t\tnull_count bigint(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size bigint(64) NOT NULL DEFAULT 0,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tversion bigint(64) unsigned NOT NULL DEFAULT 0,\n\t\tcm_sketch blob,\n\t\tstats_ver bigint(64) NOT NULL DEFAULT 0,\n\t\tflag bigint(64) NOT NULL DEFAULT 0,\n\t\tcorrelation double NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos blob DEFAULT NULL,\n\t\tunique index tbl(table_id, is_index, hist_id)\n\t);"]
[2020/02/06 10:36:44.074 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 113, tp general"] [job="ID:14, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.073 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.074 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 113, tp general"] [job="ID:14, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.073 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.075 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=14]
[2020/02/06 10:36:44.075 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.075 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=6] [neededSchemaVersion=7] ["start time"=174.741µs] [tblIDs="[13]"]
[2020/02/06 10:36:44.076 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:16, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.075 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_buckets (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tbucket_id bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\trepeats bigint(64) NOT NULL,\n\t\tupper_bound blob NOT NULL,\n\t\tlower_bound blob ,\n\t\tunique index tbl(table_id, is_index, hist_id, bucket_id)\n\t);"]
[2020/02/06 10:36:44.076 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 113, tp general"] [job="ID:16, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.075 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.077 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 113, tp general"] [job="ID:16, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.075 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.077 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=16]
[2020/02/06 10:36:44.077 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.077 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=7] [neededSchemaVersion=8] ["start time"=138.923µs] [tblIDs="[15]"]
[2020/02/06 10:36:44.078 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:18, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.077 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id BIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id BIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts BIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"]
[2020/02/06 10:36:44.078 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 113, tp general"] [job="ID:18, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.077 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.078 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 113, tp general"] [job="ID:18, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.077 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.079 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=18]
[2020/02/06 10:36:44.079 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.079 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=8] [neededSchemaVersion=9] ["start time"=111.376µs] [tblIDs="[17]"]
[2020/02/06 10:36:44.079 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:20, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.079 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id BIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id BIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts BIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"]
[2020/02/06 10:36:44.080 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 113, tp general"] [job="ID:20, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.079 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.080 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 113, tp general"] [job="ID:20, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.079 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.080 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=20]
[2020/02/06 10:36:44.081 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.081 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=9] [neededSchemaVersion=10] ["start time"=108.847µs] [tblIDs="[19]"]
[2020/02/06 10:36:44.081 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:22, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.081 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_top_n (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tvalue longblob,\n\t\tcount bigint(64) UNSIGNED NOT NULL,\n\t\tindex tbl(table_id, is_index, hist_id)\n\t);"]
[2020/02/06 10:36:44.081 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 113, tp general"] [job="ID:22, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.081 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.082 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 113, tp general"] [job="ID:22, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.081 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.082 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=22]
[2020/02/06 10:36:44.082 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.083 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=10] [neededSchemaVersion=11] ["start time"=165.139µs] [tblIDs="[21]"]
[2020/02/06 10:36:44.097 +08:00] [INFO] [bootstrap.go:153] ["bootstrap successful"] ["take time"=35.941434ms]
[2020/02/06 10:36:44.098 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 114, tp add index"] ["take time"=6.546µs]
[2020/02/06 10:36:44.098 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 113, tp general"] ["take time"=2.303µs]
[2020/02/06 10:36:44.098 +08:00] [INFO] [session_pool.go:85] ["[ddl] closing sessionPool"]
[2020/02/06 10:36:44.098 +08:00] [INFO] [ddl.go:349] ["[ddl] DDL closed"] [ID=9cec0881-1c4b-45fe-83d6-7b177c2812bc] ["take time"=35.866µs]
[2020/02/06 10:36:44.098 +08:00] [INFO] [ddl.go:282] ["[ddl] stop DDL"] [ID=9cec0881-1c4b-45fe-83d6-7b177c2812bc]
[2020/02/06 10:36:44.098 +08:00] [INFO] [domain.go:456] ["domain closed"] ["take time"=76.186µs]
[2020/02/06 10:36:44.098 +08:00] [INFO] [tidb.go:68] ["new domain"] [store=c65bbe64-8691-4319-add8-d457541aa4ba] ["ddl lease"=0s] ["stats lease"=-1ns]
[2020/02/06 10:36:44.098 +08:00] [INFO] [ddl.go:289] ["[ddl] start DDL"] [ID=3a824799-3ff5-4ef5-bb91-091d26c36ca4]
[2020/02/06 10:36:44.098 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 115, tp general"]
[2020/02/06 10:36:44.098 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 116, tp add index"]
[2020/02/06 10:36:44.103 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=11] ["start time"=3.84091ms]
[2020/02/06 10:36:44.103 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:44.105 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 115, tp general"] ["take time"=8.637µs]
[2020/02/06 10:36:44.105 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 116, tp add index"] ["take time"=2.501µs]
[2020/02/06 10:36:44.105 +08:00] [INFO] [session_pool.go:85] ["[ddl] closing sessionPool"]
[2020/02/06 10:36:44.105 +08:00] [INFO] [ddl.go:349] ["[ddl] DDL closed"] [ID=3a824799-3ff5-4ef5-bb91-091d26c36ca4] ["take time"=48.804µs]
[2020/02/06 10:36:44.105 +08:00] [INFO] [ddl.go:282] ["[ddl] stop DDL"] [ID=3a824799-3ff5-4ef5-bb91-091d26c36ca4]
[2020/02/06 10:36:44.105 +08:00] [INFO] [domain.go:456] ["domain closed"] ["take time"=62.45µs]
PASS: physical_plan_test.go:674: testPlanSuite.TestHintAlias	0.045s
[2020/02/06 10:36:44.106 +08:00] [INFO] [tidb.go:68] ["new domain"] [store=e36d3676-7a25-4d56-974d-2f958ebd7985] ["ddl lease"=0s] ["stats lease"=-1ns]
[2020/02/06 10:36:44.106 +08:00] [INFO] [ddl.go:289] ["[ddl] start DDL"] [ID=f5f06bb2-4f5f-4002-8530-41f1995668cf]
[2020/02/06 10:36:44.106 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 117, tp general"]
[2020/02/06 10:36:44.106 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 118, tp add index"]
[2020/02/06 10:36:44.106 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=0] ["start time"=59.632µs]
[2020/02/06 10:36:44.106 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:44.106 +08:00] [INFO] [tidb.go:171] ["rollbackTxn for ddl/autocommit failed"]
[2020/02/06 10:36:44.106 +08:00] [WARN] [session.go:736] ["run statement failed"] [schemaVersion=0] [error="[schema:1049]Unknown database 'mysql'"] [errorVerbose="[schema:1049]Unknown database 'mysql'\ngithub.com/pingcap/errors.AddStack\n\t/home/aliv/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20190809092503-95897b64e011/errors.go:174\ngithub.com/pingcap/tidb/parser/terror.(*Error).GenWithStackByArgs\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/terror/terror.go:240\ngithub.com/pingcap/tidb/executor.(*SimpleExec).executeUse\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/simple.go:66\ngithub.com/pingcap/tidb/executor.(*SimpleExec).Next\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/simple.go:49\ngithub.com/pingcap/tidb/executor.Next\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/executor.go:175\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelayExecutor\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:271\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelay\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:237\ngithub.com/pingcap/tidb/executor.(*ExecStmt).Exec\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:208\ngithub.com/pingcap/tidb/session.runStmt\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/tidb.go:219\ngithub.com/pingcap/tidb/session.(*session).executeStatement\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:733\ngithub.com/pingcap/tidb/session.(*session).execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:812\ngithub.com/pingcap/tidb/session.(*session).Execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:760\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:175\ngithub.com/pingcap/tidb/session.bootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:143\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:1021\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:982\ngithub.com/pingcap/tidb/planner/core_test.newStoreWithBootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/cbo_test.go:270\ngithub.com/pingcap/tidb/planner/core_test.(*testPlanSuite).TestIndexHint\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/physical_plan_test.go:723\nreflect.Value.call\n\t/usr/lib/go/src/reflect/value.go:460\nreflect.Value.Call\n\t/usr/lib/go/src/reflect/value.go:321\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:854\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:739\nruntime.goexit\n\t/usr/lib/go/src/runtime/asm_amd64.s:1357"] [session="{\n  \"currDBName\": \"\",\n  \"id\": 0,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": \"\"\n}"]
[2020/02/06 10:36:44.106 +08:00] [WARN] [session.go:803] ["compile SQL failed"] [error="[schema:1146]Table 'mysql.tidb' doesn't exist"] [errorVerbose="[schema:1146]Table 'mysql.tidb' doesn't exist\ngithub.com/pingcap/errors.AddStack\n\t/home/aliv/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20190809092503-95897b64e011/errors.go:174\ngithub.com/pingcap/tidb/parser/terror.(*Error).GenWithStackByArgs\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/terror/terror.go:240\ngithub.com/pingcap/tidb/infoschema.(*infoSchema).TableByName\n\t/home/aliv/go/src/github.com/pingcap/tinysql/infoschema/infoschema.go:171\ngithub.com/pingcap/tidb/planner/core.(*preprocessor).handleTableName\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:650\ngithub.com/pingcap/tidb/planner/core.(*preprocessor).Leave\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:133\ngithub.com/pingcap/tidb/parser/ast.(*TableName).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:294\ngithub.com/pingcap/tidb/parser/ast.(*TableSource).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:431\ngithub.com/pingcap/tidb/parser/ast.(*Join).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:142\ngithub.com/pingcap/tidb/parser/ast.(*TableRefsClause).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:612\ngithub.com/pingcap/tidb/parser/ast.(*SelectStmt).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:931\ngithub.com/pingcap/tidb/planner/core.Preprocess\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:48\ngithub.com/pingcap/tidb/executor.(*Compiler).Compile\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/compiler.go:34\ngithub.com/pingcap/tidb/session.(*session).execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:800\ngithub.com/pingcap/tidb/session.(*session).Execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:760\ngithub.com/pingcap/tidb/session.getTiDBVar\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:204\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:181\ngithub.com/pingcap/tidb/session.bootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:143\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:1021\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:982\ngithub.com/pingcap/tidb/planner/core_test.newStoreWithBootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/cbo_test.go:270\ngithub.com/pingcap/tidb/planner/core_test.(*testPlanSuite).TestIndexHint\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/physical_plan_test.go:723\nreflect.Value.call\n\t/usr/lib/go/src/reflect/value.go:460\nreflect.Value.Call\n\t/usr/lib/go/src/reflect/value.go:321\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:854\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:739\nruntime.goexit\n\t/usr/lib/go/src/runtime/asm_amd64.s:1357"] [SQL="SELECT HIGH_PRIORITY VARIABLE_VALUE FROM mysql.tidb WHERE VARIABLE_NAME=\"bootstrapped\""]
[2020/02/06 10:36:44.106 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:2, Type:create schema, State:none, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.106 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS test"]
[2020/02/06 10:36:44.106 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 117, tp general"] [job="ID:2, Type:create schema, State:none, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.106 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.107 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 117, tp general"] [job="ID:2, Type:create schema, State:synced, SchemaState:public, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.106 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.107 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=2]
[2020/02/06 10:36:44.107 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.107 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=1] ["start time"=165.495µs]
[2020/02/06 10:36:44.107 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:44.107 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:4, Type:create schema, State:none, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.107 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS mysql;"]
[2020/02/06 10:36:44.107 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 117, tp general"] [job="ID:4, Type:create schema, State:none, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.107 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.108 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 117, tp general"] [job="ID:4, Type:create schema, State:synced, SchemaState:public, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.107 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.108 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=4]
[2020/02/06 10:36:44.108 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.108 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=1] [neededSchemaVersion=2] ["start time"=32.356µs] [tblIDs="[]"]
[2020/02/06 10:36:44.108 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:6, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.108 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) Not Null PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT Null);"]
[2020/02/06 10:36:44.108 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 117, tp general"] [job="ID:6, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.108 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.109 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 117, tp general"] [job="ID:6, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.108 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.109 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=6]
[2020/02/06 10:36:44.109 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.109 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=2] [neededSchemaVersion=3] ["start time"=74.002µs] [tblIDs="[5]"]
[2020/02/06 10:36:44.109 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:8, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.109 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.tidb(\n\t\tVARIABLE_NAME  VARCHAR(64) Not Null PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT Null,\n\t\tCOMMENT VARCHAR(1024));"]
[2020/02/06 10:36:44.109 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 117, tp general"] [job="ID:8, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.109 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.110 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 117, tp general"] [job="ID:8, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.109 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.110 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=8]
[2020/02/06 10:36:44.110 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.110 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=3] [neededSchemaVersion=4] ["start time"=85.485µs] [tblIDs="[7]"]
[2020/02/06 10:36:44.110 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:10, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.11 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.help_topic (\n  \t\thelp_topic_id int(10) unsigned NOT NULL,\n  \t\tname char(64) NOT NULL,\n  \t\thelp_category_id smallint(5) unsigned NOT NULL,\n  \t\tdescription text NOT NULL,\n  \t\texample text NOT NULL,\n  \t\turl text NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id),\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"]
[2020/02/06 10:36:44.111 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 117, tp general"] [job="ID:10, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.11 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.111 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 117, tp general"] [job="ID:10, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.11 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.112 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=10]
[2020/02/06 10:36:44.112 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.112 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=4] [neededSchemaVersion=5] ["start time"=123.048µs] [tblIDs="[9]"]
[2020/02/06 10:36:44.112 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:12, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.112 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_meta (\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tcount bigint(64) unsigned NOT NULL DEFAULT 0,\n\t\tindex idx_ver(version),\n\t\tunique index tbl(table_id)\n\t);"]
[2020/02/06 10:36:44.112 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 117, tp general"] [job="ID:12, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.112 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.113 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 117, tp general"] [job="ID:12, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.112 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.113 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=12]
[2020/02/06 10:36:44.113 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.113 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=5] [neededSchemaVersion=6] ["start time"=119.914µs] [tblIDs="[11]"]
[2020/02/06 10:36:44.114 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:14, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.113 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_histograms (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tdistinct_count bigint(64) NOT NULL,\n\t\tnull_count bigint(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size bigint(64) NOT NULL DEFAULT 0,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tversion bigint(64) unsigned NOT NULL DEFAULT 0,\n\t\tcm_sketch blob,\n\t\tstats_ver bigint(64) NOT NULL DEFAULT 0,\n\t\tflag bigint(64) NOT NULL DEFAULT 0,\n\t\tcorrelation double NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos blob DEFAULT NULL,\n\t\tunique index tbl(table_id, is_index, hist_id)\n\t);"]
[2020/02/06 10:36:44.114 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 117, tp general"] [job="ID:14, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.113 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.115 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 117, tp general"] [job="ID:14, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.113 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.115 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=14]
[2020/02/06 10:36:44.115 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.115 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=6] [neededSchemaVersion=7] ["start time"=146.198µs] [tblIDs="[13]"]
[2020/02/06 10:36:44.115 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:16, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.115 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_buckets (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tbucket_id bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\trepeats bigint(64) NOT NULL,\n\t\tupper_bound blob NOT NULL,\n\t\tlower_bound blob ,\n\t\tunique index tbl(table_id, is_index, hist_id, bucket_id)\n\t);"]
[2020/02/06 10:36:44.116 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 117, tp general"] [job="ID:16, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.115 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.116 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 117, tp general"] [job="ID:16, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.115 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.117 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=16]
[2020/02/06 10:36:44.117 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.117 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=7] [neededSchemaVersion=8] ["start time"=290.493µs] [tblIDs="[15]"]
[2020/02/06 10:36:44.117 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:18, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.117 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id BIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id BIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts BIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"]
[2020/02/06 10:36:44.117 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 117, tp general"] [job="ID:18, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.117 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.121 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 117, tp general"] [job="ID:18, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.117 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.121 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=18]
[2020/02/06 10:36:44.121 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.121 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=8] [neededSchemaVersion=9] ["start time"=101.921µs] [tblIDs="[17]"]
[2020/02/06 10:36:44.121 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:20, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.121 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id BIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id BIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts BIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"]
[2020/02/06 10:36:44.122 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 117, tp general"] [job="ID:20, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.121 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.122 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 117, tp general"] [job="ID:20, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.121 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.122 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=20]
[2020/02/06 10:36:44.122 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.123 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=9] [neededSchemaVersion=10] ["start time"=92.379µs] [tblIDs="[19]"]
[2020/02/06 10:36:44.123 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:22, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.123 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_top_n (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tvalue longblob,\n\t\tcount bigint(64) UNSIGNED NOT NULL,\n\t\tindex tbl(table_id, is_index, hist_id)\n\t);"]
[2020/02/06 10:36:44.123 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 117, tp general"] [job="ID:22, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.123 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.124 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 117, tp general"] [job="ID:22, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.123 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.124 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=22]
[2020/02/06 10:36:44.124 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.124 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=10] [neededSchemaVersion=11] ["start time"=93.384µs] [tblIDs="[21]"]
[2020/02/06 10:36:44.135 +08:00] [INFO] [bootstrap.go:153] ["bootstrap successful"] ["take time"=29.613019ms]
[2020/02/06 10:36:44.135 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 117, tp general"] ["take time"=4.91µs]
[2020/02/06 10:36:44.135 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 118, tp add index"] ["take time"=3.641µs]
[2020/02/06 10:36:44.135 +08:00] [INFO] [session_pool.go:85] ["[ddl] closing sessionPool"]
[2020/02/06 10:36:44.135 +08:00] [INFO] [ddl.go:349] ["[ddl] DDL closed"] [ID=f5f06bb2-4f5f-4002-8530-41f1995668cf] ["take time"=38.162µs]
[2020/02/06 10:36:44.135 +08:00] [INFO] [ddl.go:282] ["[ddl] stop DDL"] [ID=f5f06bb2-4f5f-4002-8530-41f1995668cf]
[2020/02/06 10:36:44.135 +08:00] [INFO] [domain.go:456] ["domain closed"] ["take time"=51.163µs]
[2020/02/06 10:36:44.135 +08:00] [INFO] [tidb.go:68] ["new domain"] [store=e36d3676-7a25-4d56-974d-2f958ebd7985] ["ddl lease"=0s] ["stats lease"=-1ns]
[2020/02/06 10:36:44.136 +08:00] [INFO] [ddl.go:289] ["[ddl] start DDL"] [ID=0ad6515d-2dd1-4aad-adc9-06d5e9bc8d0e]
[2020/02/06 10:36:44.136 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 119, tp general"]
[2020/02/06 10:36:44.136 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 120, tp add index"]
[2020/02/06 10:36:44.140 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=11] ["start time"=3.335582ms]
[2020/02/06 10:36:44.140 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:44.143 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 119, tp general"] ["take time"=10.981µs]
[2020/02/06 10:36:44.143 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 120, tp add index"] ["take time"=4.115µs]
[2020/02/06 10:36:44.143 +08:00] [INFO] [session_pool.go:85] ["[ddl] closing sessionPool"]
[2020/02/06 10:36:44.143 +08:00] [INFO] [ddl.go:349] ["[ddl] DDL closed"] [ID=0ad6515d-2dd1-4aad-adc9-06d5e9bc8d0e] ["take time"=78.996µs]
[2020/02/06 10:36:44.143 +08:00] [INFO] [ddl.go:282] ["[ddl] stop DDL"] [ID=0ad6515d-2dd1-4aad-adc9-06d5e9bc8d0e]
[2020/02/06 10:36:44.143 +08:00] [INFO] [domain.go:456] ["domain closed"] ["take time"=92.923µs]
PASS: physical_plan_test.go:721: testPlanSuite.TestIndexHint	0.038s
[2020/02/06 10:36:44.145 +08:00] [INFO] [tidb.go:68] ["new domain"] [store=9949aecb-ea60-428b-b2c2-20725ea6a7f8] ["ddl lease"=0s] ["stats lease"=-1ns]
[2020/02/06 10:36:44.145 +08:00] [INFO] [ddl.go:289] ["[ddl] start DDL"] [ID=baf40fd5-cd3e-4c8f-b7d9-78a7019593aa]
[2020/02/06 10:36:44.145 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 122, tp add index"]
[2020/02/06 10:36:44.145 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 121, tp general"]
[2020/02/06 10:36:44.145 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=0] ["start time"=59.295µs]
[2020/02/06 10:36:44.145 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:44.145 +08:00] [INFO] [tidb.go:171] ["rollbackTxn for ddl/autocommit failed"]
[2020/02/06 10:36:44.145 +08:00] [WARN] [session.go:736] ["run statement failed"] [schemaVersion=0] [error="[schema:1049]Unknown database 'mysql'"] [errorVerbose="[schema:1049]Unknown database 'mysql'\ngithub.com/pingcap/errors.AddStack\n\t/home/aliv/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20190809092503-95897b64e011/errors.go:174\ngithub.com/pingcap/tidb/parser/terror.(*Error).GenWithStackByArgs\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/terror/terror.go:240\ngithub.com/pingcap/tidb/executor.(*SimpleExec).executeUse\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/simple.go:66\ngithub.com/pingcap/tidb/executor.(*SimpleExec).Next\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/simple.go:49\ngithub.com/pingcap/tidb/executor.Next\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/executor.go:175\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelayExecutor\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:271\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelay\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:237\ngithub.com/pingcap/tidb/executor.(*ExecStmt).Exec\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:208\ngithub.com/pingcap/tidb/session.runStmt\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/tidb.go:219\ngithub.com/pingcap/tidb/session.(*session).executeStatement\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:733\ngithub.com/pingcap/tidb/session.(*session).execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:812\ngithub.com/pingcap/tidb/session.(*session).Execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:760\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:175\ngithub.com/pingcap/tidb/session.bootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:143\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:1021\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:982\ngithub.com/pingcap/tidb/planner/core_test.newStoreWithBootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/cbo_test.go:270\ngithub.com/pingcap/tidb/planner/core_test.(*testPlanSuite).TestIndexJoinHint\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/physical_plan_test.go:838\nreflect.Value.call\n\t/usr/lib/go/src/reflect/value.go:460\nreflect.Value.Call\n\t/usr/lib/go/src/reflect/value.go:321\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:854\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:739\nruntime.goexit\n\t/usr/lib/go/src/runtime/asm_amd64.s:1357"] [session="{\n  \"currDBName\": \"\",\n  \"id\": 0,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": \"\"\n}"]
[2020/02/06 10:36:44.145 +08:00] [WARN] [session.go:803] ["compile SQL failed"] [error="[schema:1146]Table 'mysql.tidb' doesn't exist"] [errorVerbose="[schema:1146]Table 'mysql.tidb' doesn't exist\ngithub.com/pingcap/errors.AddStack\n\t/home/aliv/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20190809092503-95897b64e011/errors.go:174\ngithub.com/pingcap/tidb/parser/terror.(*Error).GenWithStackByArgs\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/terror/terror.go:240\ngithub.com/pingcap/tidb/infoschema.(*infoSchema).TableByName\n\t/home/aliv/go/src/github.com/pingcap/tinysql/infoschema/infoschema.go:171\ngithub.com/pingcap/tidb/planner/core.(*preprocessor).handleTableName\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:650\ngithub.com/pingcap/tidb/planner/core.(*preprocessor).Leave\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:133\ngithub.com/pingcap/tidb/parser/ast.(*TableName).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:294\ngithub.com/pingcap/tidb/parser/ast.(*TableSource).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:431\ngithub.com/pingcap/tidb/parser/ast.(*Join).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:142\ngithub.com/pingcap/tidb/parser/ast.(*TableRefsClause).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:612\ngithub.com/pingcap/tidb/parser/ast.(*SelectStmt).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:931\ngithub.com/pingcap/tidb/planner/core.Preprocess\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:48\ngithub.com/pingcap/tidb/executor.(*Compiler).Compile\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/compiler.go:34\ngithub.com/pingcap/tidb/session.(*session).execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:800\ngithub.com/pingcap/tidb/session.(*session).Execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:760\ngithub.com/pingcap/tidb/session.getTiDBVar\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:204\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:181\ngithub.com/pingcap/tidb/session.bootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:143\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:1021\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:982\ngithub.com/pingcap/tidb/planner/core_test.newStoreWithBootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/cbo_test.go:270\ngithub.com/pingcap/tidb/planner/core_test.(*testPlanSuite).TestIndexJoinHint\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/physical_plan_test.go:838\nreflect.Value.call\n\t/usr/lib/go/src/reflect/value.go:460\nreflect.Value.Call\n\t/usr/lib/go/src/reflect/value.go:321\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:854\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:739\nruntime.goexit\n\t/usr/lib/go/src/runtime/asm_amd64.s:1357"] [SQL="SELECT HIGH_PRIORITY VARIABLE_VALUE FROM mysql.tidb WHERE VARIABLE_NAME=\"bootstrapped\""]
[2020/02/06 10:36:44.145 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:2, Type:create schema, State:none, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.145 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS test"]
[2020/02/06 10:36:44.146 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 121, tp general"] [job="ID:2, Type:create schema, State:none, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.145 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.146 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 121, tp general"] [job="ID:2, Type:create schema, State:synced, SchemaState:public, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.145 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.146 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=2]
[2020/02/06 10:36:44.146 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.146 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=1] ["start time"=172.381µs]
[2020/02/06 10:36:44.146 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:44.147 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:4, Type:create schema, State:none, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.147 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS mysql;"]
[2020/02/06 10:36:44.147 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 121, tp general"] [job="ID:4, Type:create schema, State:none, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.147 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.147 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 121, tp general"] [job="ID:4, Type:create schema, State:synced, SchemaState:public, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.147 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.147 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=4]
[2020/02/06 10:36:44.147 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.147 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=1] [neededSchemaVersion=2] ["start time"=33.171µs] [tblIDs="[]"]
[2020/02/06 10:36:44.148 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:6, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.148 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) Not Null PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT Null);"]
[2020/02/06 10:36:44.148 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 121, tp general"] [job="ID:6, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.148 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.148 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 121, tp general"] [job="ID:6, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.148 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.149 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=6]
[2020/02/06 10:36:44.149 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.149 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=2] [neededSchemaVersion=3] ["start time"=160.349µs] [tblIDs="[5]"]
[2020/02/06 10:36:44.150 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:8, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.149 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.tidb(\n\t\tVARIABLE_NAME  VARCHAR(64) Not Null PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT Null,\n\t\tCOMMENT VARCHAR(1024));"]
[2020/02/06 10:36:44.150 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 121, tp general"] [job="ID:8, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.149 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.150 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 121, tp general"] [job="ID:8, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.149 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.151 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=8]
[2020/02/06 10:36:44.151 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.151 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=3] [neededSchemaVersion=4] ["start time"=98.327µs] [tblIDs="[7]"]
[2020/02/06 10:36:44.151 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:10, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.151 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.help_topic (\n  \t\thelp_topic_id int(10) unsigned NOT NULL,\n  \t\tname char(64) NOT NULL,\n  \t\thelp_category_id smallint(5) unsigned NOT NULL,\n  \t\tdescription text NOT NULL,\n  \t\texample text NOT NULL,\n  \t\turl text NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id),\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"]
[2020/02/06 10:36:44.151 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 121, tp general"] [job="ID:10, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.151 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.152 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 121, tp general"] [job="ID:10, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.151 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.152 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=10]
[2020/02/06 10:36:44.152 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.152 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=4] [neededSchemaVersion=5] ["start time"=141.742µs] [tblIDs="[9]"]
[2020/02/06 10:36:44.153 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:12, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.153 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_meta (\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tcount bigint(64) unsigned NOT NULL DEFAULT 0,\n\t\tindex idx_ver(version),\n\t\tunique index tbl(table_id)\n\t);"]
[2020/02/06 10:36:44.153 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 121, tp general"] [job="ID:12, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.153 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.154 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 121, tp general"] [job="ID:12, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.153 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.154 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=12]
[2020/02/06 10:36:44.154 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.154 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=5] [neededSchemaVersion=6] ["start time"=107.903µs] [tblIDs="[11]"]
[2020/02/06 10:36:44.155 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:14, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.154 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_histograms (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tdistinct_count bigint(64) NOT NULL,\n\t\tnull_count bigint(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size bigint(64) NOT NULL DEFAULT 0,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tversion bigint(64) unsigned NOT NULL DEFAULT 0,\n\t\tcm_sketch blob,\n\t\tstats_ver bigint(64) NOT NULL DEFAULT 0,\n\t\tflag bigint(64) NOT NULL DEFAULT 0,\n\t\tcorrelation double NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos blob DEFAULT NULL,\n\t\tunique index tbl(table_id, is_index, hist_id)\n\t);"]
[2020/02/06 10:36:44.155 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 121, tp general"] [job="ID:14, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.154 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.156 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 121, tp general"] [job="ID:14, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.154 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.157 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=14]
[2020/02/06 10:36:44.157 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.157 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=6] [neededSchemaVersion=7] ["start time"=165.845µs] [tblIDs="[13]"]
[2020/02/06 10:36:44.157 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:16, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.157 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_buckets (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tbucket_id bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\trepeats bigint(64) NOT NULL,\n\t\tupper_bound blob NOT NULL,\n\t\tlower_bound blob ,\n\t\tunique index tbl(table_id, is_index, hist_id, bucket_id)\n\t);"]
[2020/02/06 10:36:44.157 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 121, tp general"] [job="ID:16, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.157 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.158 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 121, tp general"] [job="ID:16, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.157 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.158 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=16]
[2020/02/06 10:36:44.158 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.159 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=7] [neededSchemaVersion=8] ["start time"=143.876µs] [tblIDs="[15]"]
[2020/02/06 10:36:44.159 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:18, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.159 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id BIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id BIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts BIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"]
[2020/02/06 10:36:44.159 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 121, tp general"] [job="ID:18, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.159 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.160 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 121, tp general"] [job="ID:18, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.159 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.160 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=18]
[2020/02/06 10:36:44.160 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.160 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=8] [neededSchemaVersion=9] ["start time"=109.246µs] [tblIDs="[17]"]
[2020/02/06 10:36:44.161 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:20, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.16 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id BIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id BIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts BIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"]
[2020/02/06 10:36:44.161 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 121, tp general"] [job="ID:20, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.16 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.161 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 121, tp general"] [job="ID:20, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.16 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.162 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=20]
[2020/02/06 10:36:44.162 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.162 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=9] [neededSchemaVersion=10] ["start time"=97.08µs] [tblIDs="[19]"]
[2020/02/06 10:36:44.162 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:22, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.162 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_top_n (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tvalue longblob,\n\t\tcount bigint(64) UNSIGNED NOT NULL,\n\t\tindex tbl(table_id, is_index, hist_id)\n\t);"]
[2020/02/06 10:36:44.162 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 121, tp general"] [job="ID:22, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.162 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.163 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 121, tp general"] [job="ID:22, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.162 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.163 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=22]
[2020/02/06 10:36:44.163 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.163 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=10] [neededSchemaVersion=11] ["start time"=102.605µs] [tblIDs="[21]"]
[2020/02/06 10:36:44.176 +08:00] [INFO] [bootstrap.go:153] ["bootstrap successful"] ["take time"=30.76519ms]
[2020/02/06 10:36:44.176 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 121, tp general"] ["take time"=10.211µs]
[2020/02/06 10:36:44.176 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 122, tp add index"] ["take time"=5.586µs]
[2020/02/06 10:36:44.176 +08:00] [INFO] [session_pool.go:85] ["[ddl] closing sessionPool"]
[2020/02/06 10:36:44.176 +08:00] [INFO] [ddl.go:349] ["[ddl] DDL closed"] [ID=baf40fd5-cd3e-4c8f-b7d9-78a7019593aa] ["take time"=50.829µs]
[2020/02/06 10:36:44.176 +08:00] [INFO] [ddl.go:282] ["[ddl] stop DDL"] [ID=baf40fd5-cd3e-4c8f-b7d9-78a7019593aa]
[2020/02/06 10:36:44.176 +08:00] [INFO] [domain.go:456] ["domain closed"] ["take time"=67.144µs]
[2020/02/06 10:36:44.176 +08:00] [INFO] [tidb.go:68] ["new domain"] [store=9949aecb-ea60-428b-b2c2-20725ea6a7f8] ["ddl lease"=0s] ["stats lease"=-1ns]
[2020/02/06 10:36:44.176 +08:00] [INFO] [ddl.go:289] ["[ddl] start DDL"] [ID=c8ed3a9e-31a8-4baf-8dff-5b8c9e4f4c23]
[2020/02/06 10:36:44.176 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 123, tp general"]
[2020/02/06 10:36:44.176 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 124, tp add index"]
[2020/02/06 10:36:44.183 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=11] ["start time"=5.271488ms]
[2020/02/06 10:36:44.183 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:44.185 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:24, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:23, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.185 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create table test.t1(a bigint, b bigint, index idx_a(a), index idx_b(b));"]
[2020/02/06 10:36:44.185 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 123, tp general"] [job="ID:24, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:23, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.185 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.186 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 123, tp general"] [job="ID:24, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:23, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.185 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.186 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=24]
[2020/02/06 10:36:44.186 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.186 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=11] [neededSchemaVersion=12] ["start time"=91.107µs] [tblIDs="[23]"]
[2020/02/06 10:36:44.187 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:26, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:25, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.187 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create table test.t2(a bigint, b bigint, index idx_a(a), index idx_b(b));"]
[2020/02/06 10:36:44.187 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 123, tp general"] [job="ID:26, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:25, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.187 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.188 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 123, tp general"] [job="ID:26, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:25, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.187 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.188 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=26]
[2020/02/06 10:36:44.188 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.188 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=12] [neededSchemaVersion=13] ["start time"=126.294µs] [tblIDs="[25]"]
[2020/02/06 10:36:44.189 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 123, tp general"] ["take time"=19.323µs]
[2020/02/06 10:36:44.189 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 124, tp add index"] ["take time"=3.564µs]
[2020/02/06 10:36:44.189 +08:00] [INFO] [session_pool.go:85] ["[ddl] closing sessionPool"]
[2020/02/06 10:36:44.189 +08:00] [INFO] [ddl.go:349] ["[ddl] DDL closed"] [ID=c8ed3a9e-31a8-4baf-8dff-5b8c9e4f4c23] ["take time"=94.969µs]
[2020/02/06 10:36:44.189 +08:00] [INFO] [ddl.go:282] ["[ddl] stop DDL"] [ID=c8ed3a9e-31a8-4baf-8dff-5b8c9e4f4c23]
[2020/02/06 10:36:44.189 +08:00] [INFO] [domain.go:456] ["domain closed"] ["take time"=111.501µs]
PASS: physical_plan_test.go:836: testPlanSuite.TestIndexJoinHint	0.046s
[2020/02/06 10:36:44.190 +08:00] [INFO] [tidb.go:68] ["new domain"] [store=048af205-6451-45e9-acb9-9ac05614d173] ["ddl lease"=0s] ["stats lease"=-1ns]
[2020/02/06 10:36:44.190 +08:00] [INFO] [ddl.go:289] ["[ddl] start DDL"] [ID=fb452667-b700-4393-be7c-2dfe5de33c6e]
[2020/02/06 10:36:44.190 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 125, tp general"]
[2020/02/06 10:36:44.190 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 126, tp add index"]
[2020/02/06 10:36:44.190 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=0] ["start time"=64.801µs]
[2020/02/06 10:36:44.190 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:44.190 +08:00] [INFO] [tidb.go:171] ["rollbackTxn for ddl/autocommit failed"]
[2020/02/06 10:36:44.190 +08:00] [WARN] [session.go:736] ["run statement failed"] [schemaVersion=0] [error="[schema:1049]Unknown database 'mysql'"] [errorVerbose="[schema:1049]Unknown database 'mysql'\ngithub.com/pingcap/errors.AddStack\n\t/home/aliv/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20190809092503-95897b64e011/errors.go:174\ngithub.com/pingcap/tidb/parser/terror.(*Error).GenWithStackByArgs\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/terror/terror.go:240\ngithub.com/pingcap/tidb/executor.(*SimpleExec).executeUse\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/simple.go:66\ngithub.com/pingcap/tidb/executor.(*SimpleExec).Next\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/simple.go:49\ngithub.com/pingcap/tidb/executor.Next\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/executor.go:175\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelayExecutor\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:271\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelay\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:237\ngithub.com/pingcap/tidb/executor.(*ExecStmt).Exec\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:208\ngithub.com/pingcap/tidb/session.runStmt\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/tidb.go:219\ngithub.com/pingcap/tidb/session.(*session).executeStatement\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:733\ngithub.com/pingcap/tidb/session.(*session).execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:812\ngithub.com/pingcap/tidb/session.(*session).Execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:760\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:175\ngithub.com/pingcap/tidb/session.bootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:143\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:1021\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:982\ngithub.com/pingcap/tidb/planner/core_test.newStoreWithBootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/cbo_test.go:270\ngithub.com/pingcap/tidb/planner/core_test.(*testPlanSuite).TestIndexJoinUnionScan\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/physical_plan_test.go:433\nreflect.Value.call\n\t/usr/lib/go/src/reflect/value.go:460\nreflect.Value.Call\n\t/usr/lib/go/src/reflect/value.go:321\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:854\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:739\nruntime.goexit\n\t/usr/lib/go/src/runtime/asm_amd64.s:1357"] [session="{\n  \"currDBName\": \"\",\n  \"id\": 0,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": \"\"\n}"]
[2020/02/06 10:36:44.190 +08:00] [WARN] [session.go:803] ["compile SQL failed"] [error="[schema:1146]Table 'mysql.tidb' doesn't exist"] [errorVerbose="[schema:1146]Table 'mysql.tidb' doesn't exist\ngithub.com/pingcap/errors.AddStack\n\t/home/aliv/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20190809092503-95897b64e011/errors.go:174\ngithub.com/pingcap/tidb/parser/terror.(*Error).GenWithStackByArgs\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/terror/terror.go:240\ngithub.com/pingcap/tidb/infoschema.(*infoSchema).TableByName\n\t/home/aliv/go/src/github.com/pingcap/tinysql/infoschema/infoschema.go:171\ngithub.com/pingcap/tidb/planner/core.(*preprocessor).handleTableName\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:650\ngithub.com/pingcap/tidb/planner/core.(*preprocessor).Leave\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:133\ngithub.com/pingcap/tidb/parser/ast.(*TableName).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:294\ngithub.com/pingcap/tidb/parser/ast.(*TableSource).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:431\ngithub.com/pingcap/tidb/parser/ast.(*Join).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:142\ngithub.com/pingcap/tidb/parser/ast.(*TableRefsClause).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:612\ngithub.com/pingcap/tidb/parser/ast.(*SelectStmt).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:931\ngithub.com/pingcap/tidb/planner/core.Preprocess\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:48\ngithub.com/pingcap/tidb/executor.(*Compiler).Compile\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/compiler.go:34\ngithub.com/pingcap/tidb/session.(*session).execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:800\ngithub.com/pingcap/tidb/session.(*session).Execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:760\ngithub.com/pingcap/tidb/session.getTiDBVar\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:204\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:181\ngithub.com/pingcap/tidb/session.bootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:143\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:1021\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:982\ngithub.com/pingcap/tidb/planner/core_test.newStoreWithBootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/cbo_test.go:270\ngithub.com/pingcap/tidb/planner/core_test.(*testPlanSuite).TestIndexJoinUnionScan\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/physical_plan_test.go:433\nreflect.Value.call\n\t/usr/lib/go/src/reflect/value.go:460\nreflect.Value.Call\n\t/usr/lib/go/src/reflect/value.go:321\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:854\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:739\nruntime.goexit\n\t/usr/lib/go/src/runtime/asm_amd64.s:1357"] [SQL="SELECT HIGH_PRIORITY VARIABLE_VALUE FROM mysql.tidb WHERE VARIABLE_NAME=\"bootstrapped\""]
[2020/02/06 10:36:44.190 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:2, Type:create schema, State:none, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.19 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS test"]
[2020/02/06 10:36:44.191 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 125, tp general"] [job="ID:2, Type:create schema, State:none, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.19 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.191 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 125, tp general"] [job="ID:2, Type:create schema, State:synced, SchemaState:public, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.19 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.191 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=2]
[2020/02/06 10:36:44.191 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.191 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=1] ["start time"=96.917µs]
[2020/02/06 10:36:44.191 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:44.191 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:4, Type:create schema, State:none, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.191 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS mysql;"]
[2020/02/06 10:36:44.191 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 125, tp general"] [job="ID:4, Type:create schema, State:none, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.191 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.192 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 125, tp general"] [job="ID:4, Type:create schema, State:synced, SchemaState:public, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.191 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.192 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=4]
[2020/02/06 10:36:44.192 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.192 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=1] [neededSchemaVersion=2] ["start time"=31.024µs] [tblIDs="[]"]
[2020/02/06 10:36:44.192 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:6, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.192 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) Not Null PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT Null);"]
[2020/02/06 10:36:44.192 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 125, tp general"] [job="ID:6, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.192 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.193 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 125, tp general"] [job="ID:6, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.192 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.193 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=6]
[2020/02/06 10:36:44.193 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.193 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=2] [neededSchemaVersion=3] ["start time"=78.283µs] [tblIDs="[5]"]
[2020/02/06 10:36:44.193 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:8, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.193 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.tidb(\n\t\tVARIABLE_NAME  VARCHAR(64) Not Null PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT Null,\n\t\tCOMMENT VARCHAR(1024));"]
[2020/02/06 10:36:44.194 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 125, tp general"] [job="ID:8, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.193 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.195 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 125, tp general"] [job="ID:8, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.193 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.195 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=8]
[2020/02/06 10:36:44.195 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.196 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=3] [neededSchemaVersion=4] ["start time"=222.236µs] [tblIDs="[7]"]
[2020/02/06 10:36:44.196 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:10, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.196 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.help_topic (\n  \t\thelp_topic_id int(10) unsigned NOT NULL,\n  \t\tname char(64) NOT NULL,\n  \t\thelp_category_id smallint(5) unsigned NOT NULL,\n  \t\tdescription text NOT NULL,\n  \t\texample text NOT NULL,\n  \t\turl text NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id),\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"]
[2020/02/06 10:36:44.197 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 125, tp general"] [job="ID:10, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.196 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.197 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 125, tp general"] [job="ID:10, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.196 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.197 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=10]
[2020/02/06 10:36:44.198 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.198 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=4] [neededSchemaVersion=5] ["start time"=103.65µs] [tblIDs="[9]"]
[2020/02/06 10:36:44.198 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:12, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.198 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_meta (\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tcount bigint(64) unsigned NOT NULL DEFAULT 0,\n\t\tindex idx_ver(version),\n\t\tunique index tbl(table_id)\n\t);"]
[2020/02/06 10:36:44.198 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 125, tp general"] [job="ID:12, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.198 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.199 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 125, tp general"] [job="ID:12, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.198 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.199 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=12]
[2020/02/06 10:36:44.199 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.199 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=5] [neededSchemaVersion=6] ["start time"=112.654µs] [tblIDs="[11]"]
[2020/02/06 10:36:44.200 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:14, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.199 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_histograms (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tdistinct_count bigint(64) NOT NULL,\n\t\tnull_count bigint(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size bigint(64) NOT NULL DEFAULT 0,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tversion bigint(64) unsigned NOT NULL DEFAULT 0,\n\t\tcm_sketch blob,\n\t\tstats_ver bigint(64) NOT NULL DEFAULT 0,\n\t\tflag bigint(64) NOT NULL DEFAULT 0,\n\t\tcorrelation double NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos blob DEFAULT NULL,\n\t\tunique index tbl(table_id, is_index, hist_id)\n\t);"]
[2020/02/06 10:36:44.200 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 125, tp general"] [job="ID:14, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.199 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.201 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 125, tp general"] [job="ID:14, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.199 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.202 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=14]
[2020/02/06 10:36:44.202 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.202 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=6] [neededSchemaVersion=7] ["start time"=276.982µs] [tblIDs="[13]"]
[2020/02/06 10:36:44.203 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:16, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.203 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_buckets (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tbucket_id bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\trepeats bigint(64) NOT NULL,\n\t\tupper_bound blob NOT NULL,\n\t\tlower_bound blob ,\n\t\tunique index tbl(table_id, is_index, hist_id, bucket_id)\n\t);"]
[2020/02/06 10:36:44.203 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 125, tp general"] [job="ID:16, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.203 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.204 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 125, tp general"] [job="ID:16, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.203 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.205 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=16]
[2020/02/06 10:36:44.205 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.205 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=7] [neededSchemaVersion=8] ["start time"=210.427µs] [tblIDs="[15]"]
[2020/02/06 10:36:44.206 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:18, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.205 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id BIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id BIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts BIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"]
[2020/02/06 10:36:44.206 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 125, tp general"] [job="ID:18, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.205 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.207 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 125, tp general"] [job="ID:18, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.205 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.207 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=18]
[2020/02/06 10:36:44.207 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.207 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=8] [neededSchemaVersion=9] ["start time"=118.339µs] [tblIDs="[17]"]
[2020/02/06 10:36:44.208 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:20, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.207 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id BIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id BIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts BIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"]
[2020/02/06 10:36:44.208 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 125, tp general"] [job="ID:20, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.207 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.208 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 125, tp general"] [job="ID:20, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.207 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.209 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=20]
[2020/02/06 10:36:44.209 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.209 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=9] [neededSchemaVersion=10] ["start time"=96.397µs] [tblIDs="[19]"]
[2020/02/06 10:36:44.209 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:22, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.209 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_top_n (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tvalue longblob,\n\t\tcount bigint(64) UNSIGNED NOT NULL,\n\t\tindex tbl(table_id, is_index, hist_id)\n\t);"]
[2020/02/06 10:36:44.209 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 125, tp general"] [job="ID:22, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.209 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.210 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 125, tp general"] [job="ID:22, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.209 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.210 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=22]
[2020/02/06 10:36:44.210 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.210 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=10] [neededSchemaVersion=11] ["start time"=98.344µs] [tblIDs="[21]"]
[2020/02/06 10:36:44.223 +08:00] [INFO] [bootstrap.go:153] ["bootstrap successful"] ["take time"=33.224139ms]
[2020/02/06 10:36:44.223 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 125, tp general"] ["take time"=5.708µs]
[2020/02/06 10:36:44.223 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 126, tp add index"] ["take time"=2.306µs]
[2020/02/06 10:36:44.223 +08:00] [INFO] [session_pool.go:85] ["[ddl] closing sessionPool"]
[2020/02/06 10:36:44.223 +08:00] [INFO] [ddl.go:349] ["[ddl] DDL closed"] [ID=fb452667-b700-4393-be7c-2dfe5de33c6e] ["take time"=34.536µs]
[2020/02/06 10:36:44.223 +08:00] [INFO] [ddl.go:282] ["[ddl] stop DDL"] [ID=fb452667-b700-4393-be7c-2dfe5de33c6e]
[2020/02/06 10:36:44.223 +08:00] [INFO] [domain.go:456] ["domain closed"] ["take time"=47.965µs]
[2020/02/06 10:36:44.223 +08:00] [INFO] [tidb.go:68] ["new domain"] [store=048af205-6451-45e9-acb9-9ac05614d173] ["ddl lease"=0s] ["stats lease"=-1ns]
[2020/02/06 10:36:44.223 +08:00] [INFO] [ddl.go:289] ["[ddl] start DDL"] [ID=f2f875e6-f6b7-4550-bee1-56136d1d7f4e]
[2020/02/06 10:36:44.223 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 127, tp general"]
[2020/02/06 10:36:44.223 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 128, tp add index"]
[2020/02/06 10:36:44.229 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=11] ["start time"=4.449233ms]
[2020/02/06 10:36:44.229 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:44.231 +08:00] [INFO] [session.go:902] ["NewTxn() inside a transaction auto commit"] [schemaVersion=11] [txnStartTS=414438288059269121]
[2020/02/06 10:36:44.231 +08:00] [INFO] [session.go:902] ["NewTxn() inside a transaction auto commit"] [schemaVersion=11] [txnStartTS=414438288059531265]
[2020/02/06 10:36:44.231 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 128, tp add index"] ["take time"=8.572µs]
[2020/02/06 10:36:44.231 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 127, tp general"] ["take time"=2.318µs]
[2020/02/06 10:36:44.231 +08:00] [INFO] [session_pool.go:85] ["[ddl] closing sessionPool"]
[2020/02/06 10:36:44.231 +08:00] [INFO] [ddl.go:349] ["[ddl] DDL closed"] [ID=f2f875e6-f6b7-4550-bee1-56136d1d7f4e] ["take time"=37.717µs]
[2020/02/06 10:36:44.231 +08:00] [INFO] [ddl.go:282] ["[ddl] stop DDL"] [ID=f2f875e6-f6b7-4550-bee1-56136d1d7f4e]
[2020/02/06 10:36:44.231 +08:00] [INFO] [domain.go:456] ["domain closed"] ["take time"=49.979µs]
PASS: physical_plan_test.go:431: testPlanSuite.TestIndexJoinUnionScan	0.042s
[2020/02/06 10:36:44.232 +08:00] [INFO] [tidb.go:68] ["new domain"] [store=2de64136-bf2d-44a7-a3f2-f1b5672d1ba5] ["ddl lease"=0s] ["stats lease"=-1ns]
[2020/02/06 10:36:44.232 +08:00] [INFO] [ddl.go:289] ["[ddl] start DDL"] [ID=1f1bc025-f8fd-449a-81c5-ba815beac899]
[2020/02/06 10:36:44.232 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 129, tp general"]
[2020/02/06 10:36:44.232 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 130, tp add index"]
[2020/02/06 10:36:44.232 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=0] ["start time"=104.076µs]
[2020/02/06 10:36:44.233 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:44.233 +08:00] [INFO] [tidb.go:171] ["rollbackTxn for ddl/autocommit failed"]
[2020/02/06 10:36:44.233 +08:00] [WARN] [session.go:736] ["run statement failed"] [schemaVersion=0] [error="[schema:1049]Unknown database 'mysql'"] [errorVerbose="[schema:1049]Unknown database 'mysql'\ngithub.com/pingcap/errors.AddStack\n\t/home/aliv/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20190809092503-95897b64e011/errors.go:174\ngithub.com/pingcap/tidb/parser/terror.(*Error).GenWithStackByArgs\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/terror/terror.go:240\ngithub.com/pingcap/tidb/executor.(*SimpleExec).executeUse\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/simple.go:66\ngithub.com/pingcap/tidb/executor.(*SimpleExec).Next\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/simple.go:49\ngithub.com/pingcap/tidb/executor.Next\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/executor.go:175\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelayExecutor\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:271\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelay\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:237\ngithub.com/pingcap/tidb/executor.(*ExecStmt).Exec\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:208\ngithub.com/pingcap/tidb/session.runStmt\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/tidb.go:219\ngithub.com/pingcap/tidb/session.(*session).executeStatement\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:733\ngithub.com/pingcap/tidb/session.(*session).execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:812\ngithub.com/pingcap/tidb/session.(*session).Execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:760\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:175\ngithub.com/pingcap/tidb/session.bootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:143\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:1021\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:982\ngithub.com/pingcap/tidb/planner/core_test.newStoreWithBootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/cbo_test.go:270\ngithub.com/pingcap/tidb/planner/core_test.(*testPlanSuite).TestIndexLookupCartesianJoin\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/physical_plan_test.go:473\nreflect.Value.call\n\t/usr/lib/go/src/reflect/value.go:460\nreflect.Value.Call\n\t/usr/lib/go/src/reflect/value.go:321\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:854\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:739\nruntime.goexit\n\t/usr/lib/go/src/runtime/asm_amd64.s:1357"] [session="{\n  \"currDBName\": \"\",\n  \"id\": 0,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": \"\"\n}"]
[2020/02/06 10:36:44.233 +08:00] [WARN] [session.go:803] ["compile SQL failed"] [error="[schema:1146]Table 'mysql.tidb' doesn't exist"] [errorVerbose="[schema:1146]Table 'mysql.tidb' doesn't exist\ngithub.com/pingcap/errors.AddStack\n\t/home/aliv/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20190809092503-95897b64e011/errors.go:174\ngithub.com/pingcap/tidb/parser/terror.(*Error).GenWithStackByArgs\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/terror/terror.go:240\ngithub.com/pingcap/tidb/infoschema.(*infoSchema).TableByName\n\t/home/aliv/go/src/github.com/pingcap/tinysql/infoschema/infoschema.go:171\ngithub.com/pingcap/tidb/planner/core.(*preprocessor).handleTableName\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:650\ngithub.com/pingcap/tidb/planner/core.(*preprocessor).Leave\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:133\ngithub.com/pingcap/tidb/parser/ast.(*TableName).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:294\ngithub.com/pingcap/tidb/parser/ast.(*TableSource).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:431\ngithub.com/pingcap/tidb/parser/ast.(*Join).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:142\ngithub.com/pingcap/tidb/parser/ast.(*TableRefsClause).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:612\ngithub.com/pingcap/tidb/parser/ast.(*SelectStmt).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:931\ngithub.com/pingcap/tidb/planner/core.Preprocess\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:48\ngithub.com/pingcap/tidb/executor.(*Compiler).Compile\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/compiler.go:34\ngithub.com/pingcap/tidb/session.(*session).execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:800\ngithub.com/pingcap/tidb/session.(*session).Execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:760\ngithub.com/pingcap/tidb/session.getTiDBVar\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:204\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:181\ngithub.com/pingcap/tidb/session.bootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:143\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:1021\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:982\ngithub.com/pingcap/tidb/planner/core_test.newStoreWithBootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/cbo_test.go:270\ngithub.com/pingcap/tidb/planner/core_test.(*testPlanSuite).TestIndexLookupCartesianJoin\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/physical_plan_test.go:473\nreflect.Value.call\n\t/usr/lib/go/src/reflect/value.go:460\nreflect.Value.Call\n\t/usr/lib/go/src/reflect/value.go:321\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:854\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:739\nruntime.goexit\n\t/usr/lib/go/src/runtime/asm_amd64.s:1357"] [SQL="SELECT HIGH_PRIORITY VARIABLE_VALUE FROM mysql.tidb WHERE VARIABLE_NAME=\"bootstrapped\""]
[2020/02/06 10:36:44.234 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:2, Type:create schema, State:none, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.233 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS test"]
[2020/02/06 10:36:44.234 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 129, tp general"] [job="ID:2, Type:create schema, State:none, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.233 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.234 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 129, tp general"] [job="ID:2, Type:create schema, State:synced, SchemaState:public, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.233 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.235 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=2]
[2020/02/06 10:36:44.235 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.235 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=1] ["start time"=136.873µs]
[2020/02/06 10:36:44.235 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:44.235 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:4, Type:create schema, State:none, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.235 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS mysql;"]
[2020/02/06 10:36:44.235 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 129, tp general"] [job="ID:4, Type:create schema, State:none, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.235 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.235 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 129, tp general"] [job="ID:4, Type:create schema, State:synced, SchemaState:public, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.235 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.236 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=4]
[2020/02/06 10:36:44.236 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.236 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=1] [neededSchemaVersion=2] ["start time"=37.782µs] [tblIDs="[]"]
[2020/02/06 10:36:44.236 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:6, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.236 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) Not Null PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT Null);"]
[2020/02/06 10:36:44.236 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 129, tp general"] [job="ID:6, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.236 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.237 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 129, tp general"] [job="ID:6, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.236 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.237 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=6]
[2020/02/06 10:36:44.237 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.237 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=2] [neededSchemaVersion=3] ["start time"=94.12µs] [tblIDs="[5]"]
[2020/02/06 10:36:44.238 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:8, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.237 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.tidb(\n\t\tVARIABLE_NAME  VARCHAR(64) Not Null PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT Null,\n\t\tCOMMENT VARCHAR(1024));"]
[2020/02/06 10:36:44.238 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 129, tp general"] [job="ID:8, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.237 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.238 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 129, tp general"] [job="ID:8, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.237 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.239 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=8]
[2020/02/06 10:36:44.239 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.239 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=3] [neededSchemaVersion=4] ["start time"=104.206µs] [tblIDs="[7]"]
[2020/02/06 10:36:44.239 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:10, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.239 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.help_topic (\n  \t\thelp_topic_id int(10) unsigned NOT NULL,\n  \t\tname char(64) NOT NULL,\n  \t\thelp_category_id smallint(5) unsigned NOT NULL,\n  \t\tdescription text NOT NULL,\n  \t\texample text NOT NULL,\n  \t\turl text NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id),\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"]
[2020/02/06 10:36:44.240 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 129, tp general"] [job="ID:10, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.239 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.240 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 129, tp general"] [job="ID:10, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.239 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.240 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=10]
[2020/02/06 10:36:44.240 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.241 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=4] [neededSchemaVersion=5] ["start time"=111.075µs] [tblIDs="[9]"]
[2020/02/06 10:36:44.241 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:12, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.241 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_meta (\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tcount bigint(64) unsigned NOT NULL DEFAULT 0,\n\t\tindex idx_ver(version),\n\t\tunique index tbl(table_id)\n\t);"]
[2020/02/06 10:36:44.241 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 129, tp general"] [job="ID:12, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.241 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.242 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 129, tp general"] [job="ID:12, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.241 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.242 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=12]
[2020/02/06 10:36:44.242 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.242 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=5] [neededSchemaVersion=6] ["start time"=107.201µs] [tblIDs="[11]"]
[2020/02/06 10:36:44.243 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:14, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.242 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_histograms (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tdistinct_count bigint(64) NOT NULL,\n\t\tnull_count bigint(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size bigint(64) NOT NULL DEFAULT 0,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tversion bigint(64) unsigned NOT NULL DEFAULT 0,\n\t\tcm_sketch blob,\n\t\tstats_ver bigint(64) NOT NULL DEFAULT 0,\n\t\tflag bigint(64) NOT NULL DEFAULT 0,\n\t\tcorrelation double NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos blob DEFAULT NULL,\n\t\tunique index tbl(table_id, is_index, hist_id)\n\t);"]
[2020/02/06 10:36:44.243 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 129, tp general"] [job="ID:14, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.242 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.244 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 129, tp general"] [job="ID:14, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.242 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.244 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=14]
[2020/02/06 10:36:44.244 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.244 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=6] [neededSchemaVersion=7] ["start time"=156.476µs] [tblIDs="[13]"]
[2020/02/06 10:36:44.245 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:16, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.244 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_buckets (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tbucket_id bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\trepeats bigint(64) NOT NULL,\n\t\tupper_bound blob NOT NULL,\n\t\tlower_bound blob ,\n\t\tunique index tbl(table_id, is_index, hist_id, bucket_id)\n\t);"]
[2020/02/06 10:36:44.245 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 129, tp general"] [job="ID:16, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.244 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.245 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 129, tp general"] [job="ID:16, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.244 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.246 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=16]
[2020/02/06 10:36:44.246 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.246 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=7] [neededSchemaVersion=8] ["start time"=128.823µs] [tblIDs="[15]"]
[2020/02/06 10:36:44.246 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:18, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.246 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id BIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id BIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts BIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"]
[2020/02/06 10:36:44.246 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 129, tp general"] [job="ID:18, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.246 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.247 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 129, tp general"] [job="ID:18, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.246 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.247 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=18]
[2020/02/06 10:36:44.247 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.248 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=8] [neededSchemaVersion=9] ["start time"=103.449µs] [tblIDs="[17]"]
[2020/02/06 10:36:44.248 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:20, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.248 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id BIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id BIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts BIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"]
[2020/02/06 10:36:44.248 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 129, tp general"] [job="ID:20, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.248 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.249 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 129, tp general"] [job="ID:20, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.248 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.249 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=20]
[2020/02/06 10:36:44.249 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.249 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=9] [neededSchemaVersion=10] ["start time"=109.41µs] [tblIDs="[19]"]
[2020/02/06 10:36:44.249 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:22, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.249 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_top_n (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tvalue longblob,\n\t\tcount bigint(64) UNSIGNED NOT NULL,\n\t\tindex tbl(table_id, is_index, hist_id)\n\t);"]
[2020/02/06 10:36:44.250 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 129, tp general"] [job="ID:22, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.249 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.250 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 129, tp general"] [job="ID:22, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.249 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.251 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=22]
[2020/02/06 10:36:44.251 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.251 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=10] [neededSchemaVersion=11] ["start time"=103.343µs] [tblIDs="[21]"]
[2020/02/06 10:36:44.264 +08:00] [INFO] [bootstrap.go:153] ["bootstrap successful"] ["take time"=31.696499ms]
[2020/02/06 10:36:44.264 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 129, tp general"] ["take time"=5.191µs]
[2020/02/06 10:36:44.264 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 130, tp add index"] ["take time"=4.147µs]
[2020/02/06 10:36:44.264 +08:00] [INFO] [session_pool.go:85] ["[ddl] closing sessionPool"]
[2020/02/06 10:36:44.264 +08:00] [INFO] [ddl.go:349] ["[ddl] DDL closed"] [ID=1f1bc025-f8fd-449a-81c5-ba815beac899] ["take time"=35.72µs]
[2020/02/06 10:36:44.264 +08:00] [INFO] [ddl.go:282] ["[ddl] stop DDL"] [ID=1f1bc025-f8fd-449a-81c5-ba815beac899]
[2020/02/06 10:36:44.264 +08:00] [INFO] [domain.go:456] ["domain closed"] ["take time"=49.151µs]
[2020/02/06 10:36:44.264 +08:00] [INFO] [tidb.go:68] ["new domain"] [store=2de64136-bf2d-44a7-a3f2-f1b5672d1ba5] ["ddl lease"=0s] ["stats lease"=-1ns]
[2020/02/06 10:36:44.264 +08:00] [INFO] [ddl.go:289] ["[ddl] start DDL"] [ID=3662e1e2-ab7e-4948-8fb1-842fa275eb03]
[2020/02/06 10:36:44.264 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 132, tp add index"]
[2020/02/06 10:36:44.264 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 131, tp general"]
[2020/02/06 10:36:44.270 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=11] ["start time"=4.772396ms]
[2020/02/06 10:36:44.270 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:44.274 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 132, tp add index"] ["take time"=11.4µs]
[2020/02/06 10:36:44.274 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 131, tp general"] ["take time"=6.498µs]
[2020/02/06 10:36:44.274 +08:00] [INFO] [session_pool.go:85] ["[ddl] closing sessionPool"]
[2020/02/06 10:36:44.274 +08:00] [INFO] [ddl.go:349] ["[ddl] DDL closed"] [ID=3662e1e2-ab7e-4948-8fb1-842fa275eb03] ["take time"=87.227µs]
[2020/02/06 10:36:44.274 +08:00] [INFO] [ddl.go:282] ["[ddl] stop DDL"] [ID=3662e1e2-ab7e-4948-8fb1-842fa275eb03]
[2020/02/06 10:36:44.274 +08:00] [INFO] [domain.go:456] ["domain closed"] ["take time"=109.152µs]
PASS: physical_plan_test.go:471: testPlanSuite.TestIndexLookupCartesianJoin	0.042s
[2020/02/06 10:36:44.276 +08:00] [INFO] [tidb.go:68] ["new domain"] [store=f9e9eb06-77ce-402c-baa3-755851f939c3] ["ddl lease"=0s] ["stats lease"=-1ns]
[2020/02/06 10:36:44.276 +08:00] [INFO] [ddl.go:289] ["[ddl] start DDL"] [ID=ddf762db-a950-43b2-a6ae-c66f699fb645]
[2020/02/06 10:36:44.276 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 133, tp general"]
[2020/02/06 10:36:44.276 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 134, tp add index"]
[2020/02/06 10:36:44.276 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=0] ["start time"=88.917µs]
[2020/02/06 10:36:44.276 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:44.276 +08:00] [INFO] [tidb.go:171] ["rollbackTxn for ddl/autocommit failed"]
[2020/02/06 10:36:44.276 +08:00] [WARN] [session.go:736] ["run statement failed"] [schemaVersion=0] [error="[schema:1049]Unknown database 'mysql'"] [errorVerbose="[schema:1049]Unknown database 'mysql'\ngithub.com/pingcap/errors.AddStack\n\t/home/aliv/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20190809092503-95897b64e011/errors.go:174\ngithub.com/pingcap/tidb/parser/terror.(*Error).GenWithStackByArgs\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/terror/terror.go:240\ngithub.com/pingcap/tidb/executor.(*SimpleExec).executeUse\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/simple.go:66\ngithub.com/pingcap/tidb/executor.(*SimpleExec).Next\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/simple.go:49\ngithub.com/pingcap/tidb/executor.Next\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/executor.go:175\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelayExecutor\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:271\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelay\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:237\ngithub.com/pingcap/tidb/executor.(*ExecStmt).Exec\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:208\ngithub.com/pingcap/tidb/session.runStmt\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/tidb.go:219\ngithub.com/pingcap/tidb/session.(*session).executeStatement\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:733\ngithub.com/pingcap/tidb/session.(*session).execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:812\ngithub.com/pingcap/tidb/session.(*session).Execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:760\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:175\ngithub.com/pingcap/tidb/session.bootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:143\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:1021\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:982\ngithub.com/pingcap/tidb/planner/core_test.newStoreWithBootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/cbo_test.go:270\ngithub.com/pingcap/tidb/planner/core_test.(*testPlanSuite).TestJoinHints\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/physical_plan_test.go:569\nreflect.Value.call\n\t/usr/lib/go/src/reflect/value.go:460\nreflect.Value.Call\n\t/usr/lib/go/src/reflect/value.go:321\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:854\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:739\nruntime.goexit\n\t/usr/lib/go/src/runtime/asm_amd64.s:1357"] [session="{\n  \"currDBName\": \"\",\n  \"id\": 0,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": \"\"\n}"]
[2020/02/06 10:36:44.276 +08:00] [WARN] [session.go:803] ["compile SQL failed"] [error="[schema:1146]Table 'mysql.tidb' doesn't exist"] [errorVerbose="[schema:1146]Table 'mysql.tidb' doesn't exist\ngithub.com/pingcap/errors.AddStack\n\t/home/aliv/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20190809092503-95897b64e011/errors.go:174\ngithub.com/pingcap/tidb/parser/terror.(*Error).GenWithStackByArgs\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/terror/terror.go:240\ngithub.com/pingcap/tidb/infoschema.(*infoSchema).TableByName\n\t/home/aliv/go/src/github.com/pingcap/tinysql/infoschema/infoschema.go:171\ngithub.com/pingcap/tidb/planner/core.(*preprocessor).handleTableName\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:650\ngithub.com/pingcap/tidb/planner/core.(*preprocessor).Leave\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:133\ngithub.com/pingcap/tidb/parser/ast.(*TableName).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:294\ngithub.com/pingcap/tidb/parser/ast.(*TableSource).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:431\ngithub.com/pingcap/tidb/parser/ast.(*Join).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:142\ngithub.com/pingcap/tidb/parser/ast.(*TableRefsClause).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:612\ngithub.com/pingcap/tidb/parser/ast.(*SelectStmt).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:931\ngithub.com/pingcap/tidb/planner/core.Preprocess\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:48\ngithub.com/pingcap/tidb/executor.(*Compiler).Compile\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/compiler.go:34\ngithub.com/pingcap/tidb/session.(*session).execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:800\ngithub.com/pingcap/tidb/session.(*session).Execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:760\ngithub.com/pingcap/tidb/session.getTiDBVar\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:204\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:181\ngithub.com/pingcap/tidb/session.bootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:143\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:1021\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:982\ngithub.com/pingcap/tidb/planner/core_test.newStoreWithBootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/cbo_test.go:270\ngithub.com/pingcap/tidb/planner/core_test.(*testPlanSuite).TestJoinHints\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/physical_plan_test.go:569\nreflect.Value.call\n\t/usr/lib/go/src/reflect/value.go:460\nreflect.Value.Call\n\t/usr/lib/go/src/reflect/value.go:321\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:854\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:739\nruntime.goexit\n\t/usr/lib/go/src/runtime/asm_amd64.s:1357"] [SQL="SELECT HIGH_PRIORITY VARIABLE_VALUE FROM mysql.tidb WHERE VARIABLE_NAME=\"bootstrapped\""]
[2020/02/06 10:36:44.277 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:2, Type:create schema, State:none, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.277 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS test"]
[2020/02/06 10:36:44.277 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 133, tp general"] [job="ID:2, Type:create schema, State:none, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.277 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.277 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 133, tp general"] [job="ID:2, Type:create schema, State:synced, SchemaState:public, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.277 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.277 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=2]
[2020/02/06 10:36:44.278 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.278 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=1] ["start time"=147.171µs]
[2020/02/06 10:36:44.278 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:44.278 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:4, Type:create schema, State:none, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.278 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS mysql;"]
[2020/02/06 10:36:44.278 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 133, tp general"] [job="ID:4, Type:create schema, State:none, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.278 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.278 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 133, tp general"] [job="ID:4, Type:create schema, State:synced, SchemaState:public, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.278 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.279 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=4]
[2020/02/06 10:36:44.279 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.279 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=1] [neededSchemaVersion=2] ["start time"=54.323µs] [tblIDs="[]"]
[2020/02/06 10:36:44.279 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:6, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.279 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) Not Null PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT Null);"]
[2020/02/06 10:36:44.280 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 133, tp general"] [job="ID:6, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.279 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.280 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 133, tp general"] [job="ID:6, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.279 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.281 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=6]
[2020/02/06 10:36:44.281 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.281 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=2] [neededSchemaVersion=3] ["start time"=122.987µs] [tblIDs="[5]"]
[2020/02/06 10:36:44.281 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:8, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.281 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.tidb(\n\t\tVARIABLE_NAME  VARCHAR(64) Not Null PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT Null,\n\t\tCOMMENT VARCHAR(1024));"]
[2020/02/06 10:36:44.281 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 133, tp general"] [job="ID:8, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.281 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.282 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 133, tp general"] [job="ID:8, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.281 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.283 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=8]
[2020/02/06 10:36:44.283 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.283 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=3] [neededSchemaVersion=4] ["start time"=139.016µs] [tblIDs="[7]"]
[2020/02/06 10:36:44.284 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:10, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.283 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.help_topic (\n  \t\thelp_topic_id int(10) unsigned NOT NULL,\n  \t\tname char(64) NOT NULL,\n  \t\thelp_category_id smallint(5) unsigned NOT NULL,\n  \t\tdescription text NOT NULL,\n  \t\texample text NOT NULL,\n  \t\turl text NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id),\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"]
[2020/02/06 10:36:44.284 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 133, tp general"] [job="ID:10, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.283 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.285 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 133, tp general"] [job="ID:10, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.283 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.285 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=10]
[2020/02/06 10:36:44.285 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.286 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=4] [neededSchemaVersion=5] ["start time"=257.555µs] [tblIDs="[9]"]
[2020/02/06 10:36:44.286 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:12, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.286 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_meta (\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tcount bigint(64) unsigned NOT NULL DEFAULT 0,\n\t\tindex idx_ver(version),\n\t\tunique index tbl(table_id)\n\t);"]
[2020/02/06 10:36:44.287 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 133, tp general"] [job="ID:12, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.286 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.288 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 133, tp general"] [job="ID:12, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.286 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.288 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=12]
[2020/02/06 10:36:44.288 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.288 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=5] [neededSchemaVersion=6] ["start time"=126.674µs] [tblIDs="[11]"]
[2020/02/06 10:36:44.289 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:14, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.288 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_histograms (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tdistinct_count bigint(64) NOT NULL,\n\t\tnull_count bigint(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size bigint(64) NOT NULL DEFAULT 0,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tversion bigint(64) unsigned NOT NULL DEFAULT 0,\n\t\tcm_sketch blob,\n\t\tstats_ver bigint(64) NOT NULL DEFAULT 0,\n\t\tflag bigint(64) NOT NULL DEFAULT 0,\n\t\tcorrelation double NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos blob DEFAULT NULL,\n\t\tunique index tbl(table_id, is_index, hist_id)\n\t);"]
[2020/02/06 10:36:44.289 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 133, tp general"] [job="ID:14, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.288 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.290 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 133, tp general"] [job="ID:14, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.288 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.290 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=14]
[2020/02/06 10:36:44.290 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.290 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=6] [neededSchemaVersion=7] ["start time"=143.101µs] [tblIDs="[13]"]
[2020/02/06 10:36:44.290 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:16, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.29 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_buckets (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tbucket_id bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\trepeats bigint(64) NOT NULL,\n\t\tupper_bound blob NOT NULL,\n\t\tlower_bound blob ,\n\t\tunique index tbl(table_id, is_index, hist_id, bucket_id)\n\t);"]
[2020/02/06 10:36:44.291 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 133, tp general"] [job="ID:16, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.29 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.291 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 133, tp general"] [job="ID:16, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.29 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.292 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=16]
[2020/02/06 10:36:44.292 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.292 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=7] [neededSchemaVersion=8] ["start time"=129.643µs] [tblIDs="[15]"]
[2020/02/06 10:36:44.292 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:18, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.292 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id BIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id BIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts BIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"]
[2020/02/06 10:36:44.293 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 133, tp general"] [job="ID:18, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.292 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.293 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 133, tp general"] [job="ID:18, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.292 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.294 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=18]
[2020/02/06 10:36:44.294 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.294 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=8] [neededSchemaVersion=9] ["start time"=116.798µs] [tblIDs="[17]"]
[2020/02/06 10:36:44.294 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:20, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.294 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id BIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id BIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts BIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"]
[2020/02/06 10:36:44.294 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 133, tp general"] [job="ID:20, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.294 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.295 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 133, tp general"] [job="ID:20, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.294 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.295 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=20]
[2020/02/06 10:36:44.295 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.295 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=9] [neededSchemaVersion=10] ["start time"=93.343µs] [tblIDs="[19]"]
[2020/02/06 10:36:44.296 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:22, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.296 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_top_n (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tvalue longblob,\n\t\tcount bigint(64) UNSIGNED NOT NULL,\n\t\tindex tbl(table_id, is_index, hist_id)\n\t);"]
[2020/02/06 10:36:44.296 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 133, tp general"] [job="ID:22, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.296 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.296 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 133, tp general"] [job="ID:22, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.296 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.297 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=22]
[2020/02/06 10:36:44.297 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.297 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=10] [neededSchemaVersion=11] ["start time"=104.203µs] [tblIDs="[21]"]
[2020/02/06 10:36:44.309 +08:00] [INFO] [bootstrap.go:153] ["bootstrap successful"] ["take time"=32.760734ms]
[2020/02/06 10:36:44.309 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 133, tp general"] ["take time"=6.306µs]
[2020/02/06 10:36:44.309 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 134, tp add index"] ["take time"=3.229µs]
[2020/02/06 10:36:44.309 +08:00] [INFO] [session_pool.go:85] ["[ddl] closing sessionPool"]
[2020/02/06 10:36:44.309 +08:00] [INFO] [ddl.go:349] ["[ddl] DDL closed"] [ID=ddf762db-a950-43b2-a6ae-c66f699fb645] ["take time"=56.571µs]
[2020/02/06 10:36:44.309 +08:00] [INFO] [ddl.go:282] ["[ddl] stop DDL"] [ID=ddf762db-a950-43b2-a6ae-c66f699fb645]
[2020/02/06 10:36:44.309 +08:00] [INFO] [domain.go:456] ["domain closed"] ["take time"=68.838µs]
[2020/02/06 10:36:44.309 +08:00] [INFO] [tidb.go:68] ["new domain"] [store=f9e9eb06-77ce-402c-baa3-755851f939c3] ["ddl lease"=0s] ["stats lease"=-1ns]
[2020/02/06 10:36:44.309 +08:00] [INFO] [ddl.go:289] ["[ddl] start DDL"] [ID=0be0a0ac-e433-4157-980d-a3a26b8b6df0]
[2020/02/06 10:36:44.309 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 136, tp add index"]
[2020/02/06 10:36:44.309 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 135, tp general"]
[2020/02/06 10:36:44.314 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=11] ["start time"=4.181807ms]
[2020/02/06 10:36:44.314 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:44.318 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 135, tp general"] ["take time"=13.943µs]
[2020/02/06 10:36:44.318 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 136, tp add index"] ["take time"=2.965µs]
[2020/02/06 10:36:44.318 +08:00] [INFO] [session_pool.go:85] ["[ddl] closing sessionPool"]
[2020/02/06 10:36:44.318 +08:00] [INFO] [ddl.go:349] ["[ddl] DDL closed"] [ID=0be0a0ac-e433-4157-980d-a3a26b8b6df0] ["take time"=83.874µs]
[2020/02/06 10:36:44.318 +08:00] [INFO] [ddl.go:282] ["[ddl] stop DDL"] [ID=0be0a0ac-e433-4157-980d-a3a26b8b6df0]
[2020/02/06 10:36:44.318 +08:00] [INFO] [domain.go:456] ["domain closed"] ["take time"=103.667µs]
PASS: physical_plan_test.go:567: testPlanSuite.TestJoinHints	0.044s
[2020/02/06 10:36:44.320 +08:00] [INFO] [tidb.go:68] ["new domain"] [store=712ea0c5-7f23-48e0-ad53-de7f7af775fc] ["ddl lease"=0s] ["stats lease"=-1ns]
[2020/02/06 10:36:44.320 +08:00] [INFO] [ddl.go:289] ["[ddl] start DDL"] [ID=f63f5833-cfc4-46e1-bd35-af4e639cfc46]
[2020/02/06 10:36:44.320 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 137, tp general"]
[2020/02/06 10:36:44.320 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 138, tp add index"]
[2020/02/06 10:36:44.320 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=0] ["start time"=54.853µs]
[2020/02/06 10:36:44.320 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:44.320 +08:00] [INFO] [tidb.go:171] ["rollbackTxn for ddl/autocommit failed"]
[2020/02/06 10:36:44.320 +08:00] [WARN] [session.go:736] ["run statement failed"] [schemaVersion=0] [error="[schema:1049]Unknown database 'mysql'"] [errorVerbose="[schema:1049]Unknown database 'mysql'\ngithub.com/pingcap/errors.AddStack\n\t/home/aliv/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20190809092503-95897b64e011/errors.go:174\ngithub.com/pingcap/tidb/parser/terror.(*Error).GenWithStackByArgs\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/terror/terror.go:240\ngithub.com/pingcap/tidb/executor.(*SimpleExec).executeUse\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/simple.go:66\ngithub.com/pingcap/tidb/executor.(*SimpleExec).Next\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/simple.go:49\ngithub.com/pingcap/tidb/executor.Next\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/executor.go:175\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelayExecutor\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:271\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelay\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:237\ngithub.com/pingcap/tidb/executor.(*ExecStmt).Exec\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:208\ngithub.com/pingcap/tidb/session.runStmt\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/tidb.go:219\ngithub.com/pingcap/tidb/session.(*session).executeStatement\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:733\ngithub.com/pingcap/tidb/session.(*session).execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:812\ngithub.com/pingcap/tidb/session.(*session).Execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:760\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:175\ngithub.com/pingcap/tidb/session.bootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:143\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:1021\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:982\ngithub.com/pingcap/tidb/planner/core_test.newStoreWithBootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/cbo_test.go:270\ngithub.com/pingcap/tidb/planner/core_test.(*testPlanSuite).TestRefine\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/physical_plan_test.go:327\nreflect.Value.call\n\t/usr/lib/go/src/reflect/value.go:460\nreflect.Value.Call\n\t/usr/lib/go/src/reflect/value.go:321\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:854\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:739\nruntime.goexit\n\t/usr/lib/go/src/runtime/asm_amd64.s:1357"] [session="{\n  \"currDBName\": \"\",\n  \"id\": 0,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": \"\"\n}"]
[2020/02/06 10:36:44.320 +08:00] [WARN] [session.go:803] ["compile SQL failed"] [error="[schema:1146]Table 'mysql.tidb' doesn't exist"] [errorVerbose="[schema:1146]Table 'mysql.tidb' doesn't exist\ngithub.com/pingcap/errors.AddStack\n\t/home/aliv/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20190809092503-95897b64e011/errors.go:174\ngithub.com/pingcap/tidb/parser/terror.(*Error).GenWithStackByArgs\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/terror/terror.go:240\ngithub.com/pingcap/tidb/infoschema.(*infoSchema).TableByName\n\t/home/aliv/go/src/github.com/pingcap/tinysql/infoschema/infoschema.go:171\ngithub.com/pingcap/tidb/planner/core.(*preprocessor).handleTableName\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:650\ngithub.com/pingcap/tidb/planner/core.(*preprocessor).Leave\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:133\ngithub.com/pingcap/tidb/parser/ast.(*TableName).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:294\ngithub.com/pingcap/tidb/parser/ast.(*TableSource).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:431\ngithub.com/pingcap/tidb/parser/ast.(*Join).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:142\ngithub.com/pingcap/tidb/parser/ast.(*TableRefsClause).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:612\ngithub.com/pingcap/tidb/parser/ast.(*SelectStmt).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:931\ngithub.com/pingcap/tidb/planner/core.Preprocess\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:48\ngithub.com/pingcap/tidb/executor.(*Compiler).Compile\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/compiler.go:34\ngithub.com/pingcap/tidb/session.(*session).execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:800\ngithub.com/pingcap/tidb/session.(*session).Execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:760\ngithub.com/pingcap/tidb/session.getTiDBVar\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:204\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:181\ngithub.com/pingcap/tidb/session.bootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:143\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:1021\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:982\ngithub.com/pingcap/tidb/planner/core_test.newStoreWithBootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/cbo_test.go:270\ngithub.com/pingcap/tidb/planner/core_test.(*testPlanSuite).TestRefine\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/physical_plan_test.go:327\nreflect.Value.call\n\t/usr/lib/go/src/reflect/value.go:460\nreflect.Value.Call\n\t/usr/lib/go/src/reflect/value.go:321\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:854\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:739\nruntime.goexit\n\t/usr/lib/go/src/runtime/asm_amd64.s:1357"] [SQL="SELECT HIGH_PRIORITY VARIABLE_VALUE FROM mysql.tidb WHERE VARIABLE_NAME=\"bootstrapped\""]
[2020/02/06 10:36:44.321 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:2, Type:create schema, State:none, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.32 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS test"]
[2020/02/06 10:36:44.321 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 137, tp general"] [job="ID:2, Type:create schema, State:none, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.32 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.321 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 137, tp general"] [job="ID:2, Type:create schema, State:synced, SchemaState:public, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.32 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.321 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=2]
[2020/02/06 10:36:44.321 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.321 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=1] ["start time"=140.222µs]
[2020/02/06 10:36:44.321 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:44.322 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:4, Type:create schema, State:none, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.321 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS mysql;"]
[2020/02/06 10:36:44.322 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 137, tp general"] [job="ID:4, Type:create schema, State:none, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.321 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.322 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 137, tp general"] [job="ID:4, Type:create schema, State:synced, SchemaState:public, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.321 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.322 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=4]
[2020/02/06 10:36:44.322 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.322 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=1] [neededSchemaVersion=2] ["start time"=74.135µs] [tblIDs="[]"]
[2020/02/06 10:36:44.323 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:6, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.323 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) Not Null PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT Null);"]
[2020/02/06 10:36:44.323 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 137, tp general"] [job="ID:6, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.323 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.324 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 137, tp general"] [job="ID:6, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.323 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.324 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=6]
[2020/02/06 10:36:44.324 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.324 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=2] [neededSchemaVersion=3] ["start time"=100.976µs] [tblIDs="[5]"]
[2020/02/06 10:36:44.324 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:8, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.324 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.tidb(\n\t\tVARIABLE_NAME  VARCHAR(64) Not Null PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT Null,\n\t\tCOMMENT VARCHAR(1024));"]
[2020/02/06 10:36:44.324 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 137, tp general"] [job="ID:8, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.324 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.325 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 137, tp general"] [job="ID:8, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.324 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.325 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=8]
[2020/02/06 10:36:44.325 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.326 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=3] [neededSchemaVersion=4] ["start time"=132.241µs] [tblIDs="[7]"]
[2020/02/06 10:36:44.326 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:10, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.326 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.help_topic (\n  \t\thelp_topic_id int(10) unsigned NOT NULL,\n  \t\tname char(64) NOT NULL,\n  \t\thelp_category_id smallint(5) unsigned NOT NULL,\n  \t\tdescription text NOT NULL,\n  \t\texample text NOT NULL,\n  \t\turl text NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id),\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"]
[2020/02/06 10:36:44.326 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 137, tp general"] [job="ID:10, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.326 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.327 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 137, tp general"] [job="ID:10, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.326 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.327 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=10]
[2020/02/06 10:36:44.327 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.327 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=4] [neededSchemaVersion=5] ["start time"=90.801µs] [tblIDs="[9]"]
[2020/02/06 10:36:44.328 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:12, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.327 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_meta (\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tcount bigint(64) unsigned NOT NULL DEFAULT 0,\n\t\tindex idx_ver(version),\n\t\tunique index tbl(table_id)\n\t);"]
[2020/02/06 10:36:44.328 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 137, tp general"] [job="ID:12, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.327 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.328 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 137, tp general"] [job="ID:12, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.327 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.329 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=12]
[2020/02/06 10:36:44.329 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.329 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=5] [neededSchemaVersion=6] ["start time"=108.644µs] [tblIDs="[11]"]
[2020/02/06 10:36:44.329 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:14, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.329 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_histograms (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tdistinct_count bigint(64) NOT NULL,\n\t\tnull_count bigint(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size bigint(64) NOT NULL DEFAULT 0,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tversion bigint(64) unsigned NOT NULL DEFAULT 0,\n\t\tcm_sketch blob,\n\t\tstats_ver bigint(64) NOT NULL DEFAULT 0,\n\t\tflag bigint(64) NOT NULL DEFAULT 0,\n\t\tcorrelation double NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos blob DEFAULT NULL,\n\t\tunique index tbl(table_id, is_index, hist_id)\n\t);"]
[2020/02/06 10:36:44.329 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 137, tp general"] [job="ID:14, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.329 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.330 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 137, tp general"] [job="ID:14, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.329 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.331 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=14]
[2020/02/06 10:36:44.331 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.331 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=6] [neededSchemaVersion=7] ["start time"=146.838µs] [tblIDs="[13]"]
[2020/02/06 10:36:44.331 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:16, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.331 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_buckets (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tbucket_id bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\trepeats bigint(64) NOT NULL,\n\t\tupper_bound blob NOT NULL,\n\t\tlower_bound blob ,\n\t\tunique index tbl(table_id, is_index, hist_id, bucket_id)\n\t);"]
[2020/02/06 10:36:44.332 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 137, tp general"] [job="ID:16, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.331 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.332 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 137, tp general"] [job="ID:16, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.331 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.333 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=16]
[2020/02/06 10:36:44.333 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.333 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=7] [neededSchemaVersion=8] ["start time"=129.351µs] [tblIDs="[15]"]
[2020/02/06 10:36:44.333 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:18, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.333 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id BIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id BIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts BIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"]
[2020/02/06 10:36:44.333 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 137, tp general"] [job="ID:18, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.333 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.334 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 137, tp general"] [job="ID:18, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.333 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.334 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=18]
[2020/02/06 10:36:44.334 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.334 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=8] [neededSchemaVersion=9] ["start time"=97.408µs] [tblIDs="[17]"]
[2020/02/06 10:36:44.335 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:20, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.334 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id BIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id BIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts BIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"]
[2020/02/06 10:36:44.335 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 137, tp general"] [job="ID:20, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.334 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.335 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 137, tp general"] [job="ID:20, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.334 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.336 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=20]
[2020/02/06 10:36:44.336 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.336 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=9] [neededSchemaVersion=10] ["start time"=104.754µs] [tblIDs="[19]"]
[2020/02/06 10:36:44.336 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:22, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.336 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_top_n (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tvalue longblob,\n\t\tcount bigint(64) UNSIGNED NOT NULL,\n\t\tindex tbl(table_id, is_index, hist_id)\n\t);"]
[2020/02/06 10:36:44.336 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 137, tp general"] [job="ID:22, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.336 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.337 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 137, tp general"] [job="ID:22, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.336 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.337 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=22]
[2020/02/06 10:36:44.337 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.337 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=10] [neededSchemaVersion=11] ["start time"=90.281µs] [tblIDs="[21]"]
[2020/02/06 10:36:44.351 +08:00] [INFO] [bootstrap.go:153] ["bootstrap successful"] ["take time"=30.834492ms]
[2020/02/06 10:36:44.353 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 137, tp general"] ["take time"=5.284µs]
[2020/02/06 10:36:44.353 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 138, tp add index"] ["take time"=5.9µs]
[2020/02/06 10:36:44.353 +08:00] [INFO] [session_pool.go:85] ["[ddl] closing sessionPool"]
[2020/02/06 10:36:44.353 +08:00] [INFO] [ddl.go:349] ["[ddl] DDL closed"] [ID=f63f5833-cfc4-46e1-bd35-af4e639cfc46] ["take time"=83.573µs]
[2020/02/06 10:36:44.353 +08:00] [INFO] [ddl.go:282] ["[ddl] stop DDL"] [ID=f63f5833-cfc4-46e1-bd35-af4e639cfc46]
[2020/02/06 10:36:44.353 +08:00] [INFO] [domain.go:456] ["domain closed"] ["take time"=98.04µs]
[2020/02/06 10:36:44.353 +08:00] [INFO] [tidb.go:68] ["new domain"] [store=712ea0c5-7f23-48e0-ad53-de7f7af775fc] ["ddl lease"=0s] ["stats lease"=-1ns]
[2020/02/06 10:36:44.353 +08:00] [INFO] [ddl.go:289] ["[ddl] start DDL"] [ID=01466bc2-1e22-4b4b-847d-0c35bd94cd49]
[2020/02/06 10:36:44.353 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 139, tp general"]
[2020/02/06 10:36:44.353 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 140, tp add index"]
[2020/02/06 10:36:44.357 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=11] ["start time"=839.948µs]
[2020/02/06 10:36:44.357 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:44.360 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 140, tp add index"] ["take time"=34.985µs]
[2020/02/06 10:36:44.361 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 139, tp general"] ["take time"=5.798µs]
[2020/02/06 10:36:44.361 +08:00] [INFO] [session_pool.go:85] ["[ddl] closing sessionPool"]
[2020/02/06 10:36:44.361 +08:00] [INFO] [ddl.go:349] ["[ddl] DDL closed"] [ID=01466bc2-1e22-4b4b-847d-0c35bd94cd49] ["take time"=145.208µs]
[2020/02/06 10:36:44.361 +08:00] [INFO] [ddl.go:282] ["[ddl] stop DDL"] [ID=01466bc2-1e22-4b4b-847d-0c35bd94cd49]
[2020/02/06 10:36:44.361 +08:00] [INFO] [domain.go:456] ["domain closed"] ["take time"=165.265µs]
PASS: physical_plan_test.go:325: testPlanSuite.TestRefine	0.042s
[2020/02/06 10:36:44.361 +08:00] [INFO] [tidb.go:68] ["new domain"] [store=8284ec67-a0f8-4991-af0e-2a2d94bc86ea] ["ddl lease"=0s] ["stats lease"=-1ns]
[2020/02/06 10:36:44.361 +08:00] [INFO] [ddl.go:289] ["[ddl] start DDL"] [ID=3aed5c34-bd1c-4b98-8c73-87d8781ad471]
[2020/02/06 10:36:44.361 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 141, tp general"]
[2020/02/06 10:36:44.361 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 142, tp add index"]
[2020/02/06 10:36:44.361 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=0] ["start time"=85.753µs]
[2020/02/06 10:36:44.361 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:44.362 +08:00] [INFO] [tidb.go:171] ["rollbackTxn for ddl/autocommit failed"]
[2020/02/06 10:36:44.362 +08:00] [WARN] [session.go:736] ["run statement failed"] [schemaVersion=0] [error="[schema:1049]Unknown database 'mysql'"] [errorVerbose="[schema:1049]Unknown database 'mysql'\ngithub.com/pingcap/errors.AddStack\n\t/home/aliv/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20190809092503-95897b64e011/errors.go:174\ngithub.com/pingcap/tidb/parser/terror.(*Error).GenWithStackByArgs\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/terror/terror.go:240\ngithub.com/pingcap/tidb/executor.(*SimpleExec).executeUse\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/simple.go:66\ngithub.com/pingcap/tidb/executor.(*SimpleExec).Next\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/simple.go:49\ngithub.com/pingcap/tidb/executor.Next\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/executor.go:175\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelayExecutor\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:271\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelay\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:237\ngithub.com/pingcap/tidb/executor.(*ExecStmt).Exec\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:208\ngithub.com/pingcap/tidb/session.runStmt\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/tidb.go:219\ngithub.com/pingcap/tidb/session.(*session).executeStatement\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:733\ngithub.com/pingcap/tidb/session.(*session).execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:812\ngithub.com/pingcap/tidb/session.(*session).Execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:760\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:175\ngithub.com/pingcap/tidb/session.bootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:143\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:1021\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:982\ngithub.com/pingcap/tidb/planner/core_test.newStoreWithBootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/cbo_test.go:270\ngithub.com/pingcap/tidb/planner/core_test.(*testPlanSuite).TestRequestTypeSupportedOff\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/physical_plan_test.go:410\nreflect.Value.call\n\t/usr/lib/go/src/reflect/value.go:460\nreflect.Value.Call\n\t/usr/lib/go/src/reflect/value.go:321\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:854\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:739\nruntime.goexit\n\t/usr/lib/go/src/runtime/asm_amd64.s:1357"] [session="{\n  \"currDBName\": \"\",\n  \"id\": 0,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": \"\"\n}"]
[2020/02/06 10:36:44.362 +08:00] [WARN] [session.go:803] ["compile SQL failed"] [error="[schema:1146]Table 'mysql.tidb' doesn't exist"] [errorVerbose="[schema:1146]Table 'mysql.tidb' doesn't exist\ngithub.com/pingcap/errors.AddStack\n\t/home/aliv/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20190809092503-95897b64e011/errors.go:174\ngithub.com/pingcap/tidb/parser/terror.(*Error).GenWithStackByArgs\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/terror/terror.go:240\ngithub.com/pingcap/tidb/infoschema.(*infoSchema).TableByName\n\t/home/aliv/go/src/github.com/pingcap/tinysql/infoschema/infoschema.go:171\ngithub.com/pingcap/tidb/planner/core.(*preprocessor).handleTableName\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:650\ngithub.com/pingcap/tidb/planner/core.(*preprocessor).Leave\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:133\ngithub.com/pingcap/tidb/parser/ast.(*TableName).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:294\ngithub.com/pingcap/tidb/parser/ast.(*TableSource).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:431\ngithub.com/pingcap/tidb/parser/ast.(*Join).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:142\ngithub.com/pingcap/tidb/parser/ast.(*TableRefsClause).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:612\ngithub.com/pingcap/tidb/parser/ast.(*SelectStmt).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:931\ngithub.com/pingcap/tidb/planner/core.Preprocess\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:48\ngithub.com/pingcap/tidb/executor.(*Compiler).Compile\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/compiler.go:34\ngithub.com/pingcap/tidb/session.(*session).execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:800\ngithub.com/pingcap/tidb/session.(*session).Execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:760\ngithub.com/pingcap/tidb/session.getTiDBVar\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:204\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:181\ngithub.com/pingcap/tidb/session.bootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:143\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:1021\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:982\ngithub.com/pingcap/tidb/planner/core_test.newStoreWithBootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/cbo_test.go:270\ngithub.com/pingcap/tidb/planner/core_test.(*testPlanSuite).TestRequestTypeSupportedOff\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/physical_plan_test.go:410\nreflect.Value.call\n\t/usr/lib/go/src/reflect/value.go:460\nreflect.Value.Call\n\t/usr/lib/go/src/reflect/value.go:321\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:854\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:739\nruntime.goexit\n\t/usr/lib/go/src/runtime/asm_amd64.s:1357"] [SQL="SELECT HIGH_PRIORITY VARIABLE_VALUE FROM mysql.tidb WHERE VARIABLE_NAME=\"bootstrapped\""]
[2020/02/06 10:36:44.362 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:2, Type:create schema, State:none, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.362 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS test"]
[2020/02/06 10:36:44.362 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 141, tp general"] [job="ID:2, Type:create schema, State:none, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.362 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.363 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 141, tp general"] [job="ID:2, Type:create schema, State:synced, SchemaState:public, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.362 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.363 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=2]
[2020/02/06 10:36:44.363 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.363 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=1] ["start time"=127.954µs]
[2020/02/06 10:36:44.363 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:44.363 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:4, Type:create schema, State:none, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.363 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS mysql;"]
[2020/02/06 10:36:44.363 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 141, tp general"] [job="ID:4, Type:create schema, State:none, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.363 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.364 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 141, tp general"] [job="ID:4, Type:create schema, State:synced, SchemaState:public, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.363 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.364 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=4]
[2020/02/06 10:36:44.364 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.364 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=1] [neededSchemaVersion=2] ["start time"=45.598µs] [tblIDs="[]"]
[2020/02/06 10:36:44.364 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:6, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.364 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) Not Null PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT Null);"]
[2020/02/06 10:36:44.364 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 141, tp general"] [job="ID:6, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.364 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.365 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 141, tp general"] [job="ID:6, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.364 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.365 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=6]
[2020/02/06 10:36:44.365 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.365 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=2] [neededSchemaVersion=3] ["start time"=94.141µs] [tblIDs="[5]"]
[2020/02/06 10:36:44.366 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:8, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.366 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.tidb(\n\t\tVARIABLE_NAME  VARCHAR(64) Not Null PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT Null,\n\t\tCOMMENT VARCHAR(1024));"]
[2020/02/06 10:36:44.366 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 141, tp general"] [job="ID:8, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.366 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.367 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 141, tp general"] [job="ID:8, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.366 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.368 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=8]
[2020/02/06 10:36:44.368 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.368 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=3] [neededSchemaVersion=4] ["start time"=105.377µs] [tblIDs="[7]"]
[2020/02/06 10:36:44.368 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:10, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.368 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.help_topic (\n  \t\thelp_topic_id int(10) unsigned NOT NULL,\n  \t\tname char(64) NOT NULL,\n  \t\thelp_category_id smallint(5) unsigned NOT NULL,\n  \t\tdescription text NOT NULL,\n  \t\texample text NOT NULL,\n  \t\turl text NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id),\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"]
[2020/02/06 10:36:44.369 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 141, tp general"] [job="ID:10, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.368 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.370 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 141, tp general"] [job="ID:10, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.368 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.370 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=10]
[2020/02/06 10:36:44.370 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.371 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=4] [neededSchemaVersion=5] ["start time"=181.602µs] [tblIDs="[9]"]
[2020/02/06 10:36:44.371 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:12, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.371 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_meta (\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tcount bigint(64) unsigned NOT NULL DEFAULT 0,\n\t\tindex idx_ver(version),\n\t\tunique index tbl(table_id)\n\t);"]
[2020/02/06 10:36:44.372 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 141, tp general"] [job="ID:12, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.371 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.373 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 141, tp general"] [job="ID:12, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.371 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.373 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=12]
[2020/02/06 10:36:44.373 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.373 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=5] [neededSchemaVersion=6] ["start time"=119.737µs] [tblIDs="[11]"]
[2020/02/06 10:36:44.374 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:14, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.373 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_histograms (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tdistinct_count bigint(64) NOT NULL,\n\t\tnull_count bigint(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size bigint(64) NOT NULL DEFAULT 0,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tversion bigint(64) unsigned NOT NULL DEFAULT 0,\n\t\tcm_sketch blob,\n\t\tstats_ver bigint(64) NOT NULL DEFAULT 0,\n\t\tflag bigint(64) NOT NULL DEFAULT 0,\n\t\tcorrelation double NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos blob DEFAULT NULL,\n\t\tunique index tbl(table_id, is_index, hist_id)\n\t);"]
[2020/02/06 10:36:44.374 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 141, tp general"] [job="ID:14, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.373 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.375 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 141, tp general"] [job="ID:14, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.373 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.376 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=14]
[2020/02/06 10:36:44.376 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.377 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=6] [neededSchemaVersion=7] ["start time"=567.944µs] [tblIDs="[13]"]
[2020/02/06 10:36:44.378 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:16, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.378 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_buckets (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tbucket_id bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\trepeats bigint(64) NOT NULL,\n\t\tupper_bound blob NOT NULL,\n\t\tlower_bound blob ,\n\t\tunique index tbl(table_id, is_index, hist_id, bucket_id)\n\t);"]
[2020/02/06 10:36:44.379 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 141, tp general"] [job="ID:16, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.378 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.381 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 141, tp general"] [job="ID:16, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.378 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.381 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=16]
[2020/02/06 10:36:44.381 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.381 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=7] [neededSchemaVersion=8] ["start time"=159.782µs] [tblIDs="[15]"]
[2020/02/06 10:36:44.382 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:18, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.381 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id BIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id BIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts BIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"]
[2020/02/06 10:36:44.382 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 141, tp general"] [job="ID:18, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.381 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.383 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 141, tp general"] [job="ID:18, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.381 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.383 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=18]
[2020/02/06 10:36:44.383 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.383 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=8] [neededSchemaVersion=9] ["start time"=155.938µs] [tblIDs="[17]"]
[2020/02/06 10:36:44.384 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:20, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.384 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id BIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id BIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts BIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"]
[2020/02/06 10:36:44.384 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 141, tp general"] [job="ID:20, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.384 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.385 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 141, tp general"] [job="ID:20, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.384 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.386 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=20]
[2020/02/06 10:36:44.386 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.386 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=9] [neededSchemaVersion=10] ["start time"=116.843µs] [tblIDs="[19]"]
[2020/02/06 10:36:44.386 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:22, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.386 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_top_n (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tvalue longblob,\n\t\tcount bigint(64) UNSIGNED NOT NULL,\n\t\tindex tbl(table_id, is_index, hist_id)\n\t);"]
[2020/02/06 10:36:44.386 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 141, tp general"] [job="ID:22, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.386 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.387 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 141, tp general"] [job="ID:22, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.386 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.388 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=22]
[2020/02/06 10:36:44.388 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.388 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=10] [neededSchemaVersion=11] ["start time"=143.279µs] [tblIDs="[21]"]
[2020/02/06 10:36:44.404 +08:00] [INFO] [bootstrap.go:153] ["bootstrap successful"] ["take time"=42.333033ms]
[2020/02/06 10:36:44.404 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 142, tp add index"] ["take time"=8.894µs]
[2020/02/06 10:36:44.404 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 141, tp general"] ["take time"=4.383µs]
[2020/02/06 10:36:44.404 +08:00] [INFO] [session_pool.go:85] ["[ddl] closing sessionPool"]
[2020/02/06 10:36:44.404 +08:00] [INFO] [ddl.go:349] ["[ddl] DDL closed"] [ID=3aed5c34-bd1c-4b98-8c73-87d8781ad471] ["take time"=51.319µs]
[2020/02/06 10:36:44.404 +08:00] [INFO] [ddl.go:282] ["[ddl] stop DDL"] [ID=3aed5c34-bd1c-4b98-8c73-87d8781ad471]
[2020/02/06 10:36:44.404 +08:00] [INFO] [domain.go:456] ["domain closed"] ["take time"=67.69µs]
[2020/02/06 10:36:44.404 +08:00] [INFO] [tidb.go:68] ["new domain"] [store=8284ec67-a0f8-4991-af0e-2a2d94bc86ea] ["ddl lease"=0s] ["stats lease"=-1ns]
[2020/02/06 10:36:44.404 +08:00] [INFO] [ddl.go:289] ["[ddl] start DDL"] [ID=60edcc36-8940-448e-8778-bb9c05d341f6]
[2020/02/06 10:36:44.404 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 143, tp general"]
[2020/02/06 10:36:44.404 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 144, tp add index"]
[2020/02/06 10:36:44.410 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=11] ["start time"=2.525761ms]
[2020/02/06 10:36:44.410 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:44.413 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 143, tp general"] ["take time"=16.231µs]
[2020/02/06 10:36:44.413 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 144, tp add index"] ["take time"=3.599µs]
[2020/02/06 10:36:44.413 +08:00] [INFO] [session_pool.go:85] ["[ddl] closing sessionPool"]
[2020/02/06 10:36:44.413 +08:00] [INFO] [ddl.go:349] ["[ddl] DDL closed"] [ID=60edcc36-8940-448e-8778-bb9c05d341f6] ["take time"=94.531µs]
[2020/02/06 10:36:44.413 +08:00] [INFO] [ddl.go:282] ["[ddl] stop DDL"] [ID=60edcc36-8940-448e-8778-bb9c05d341f6]
[2020/02/06 10:36:44.413 +08:00] [INFO] [domain.go:456] ["domain closed"] ["take time"=120.63µs]
PASS: physical_plan_test.go:408: testPlanSuite.TestRequestTypeSupportedOff	0.052s
[2020/02/06 10:36:44.414 +08:00] [INFO] [tidb.go:68] ["new domain"] [store=6d829ac8-7ad3-4975-a861-7433ba1295d3] ["ddl lease"=0s] ["stats lease"=-1ns]
[2020/02/06 10:36:44.414 +08:00] [INFO] [ddl.go:289] ["[ddl] start DDL"] [ID=4333e592-32a6-4b5e-8911-34948b98f0cf]
[2020/02/06 10:36:44.414 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 146, tp add index"]
[2020/02/06 10:36:44.414 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 145, tp general"]
[2020/02/06 10:36:44.414 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=0] ["start time"=89.157µs]
[2020/02/06 10:36:44.414 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:44.414 +08:00] [INFO] [tidb.go:171] ["rollbackTxn for ddl/autocommit failed"]
[2020/02/06 10:36:44.414 +08:00] [WARN] [session.go:736] ["run statement failed"] [schemaVersion=0] [error="[schema:1049]Unknown database 'mysql'"] [errorVerbose="[schema:1049]Unknown database 'mysql'\ngithub.com/pingcap/errors.AddStack\n\t/home/aliv/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20190809092503-95897b64e011/errors.go:174\ngithub.com/pingcap/tidb/parser/terror.(*Error).GenWithStackByArgs\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/terror/terror.go:240\ngithub.com/pingcap/tidb/executor.(*SimpleExec).executeUse\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/simple.go:66\ngithub.com/pingcap/tidb/executor.(*SimpleExec).Next\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/simple.go:49\ngithub.com/pingcap/tidb/executor.Next\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/executor.go:175\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelayExecutor\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:271\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelay\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:237\ngithub.com/pingcap/tidb/executor.(*ExecStmt).Exec\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:208\ngithub.com/pingcap/tidb/session.runStmt\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/tidb.go:219\ngithub.com/pingcap/tidb/session.(*session).executeStatement\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:733\ngithub.com/pingcap/tidb/session.(*session).execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:812\ngithub.com/pingcap/tidb/session.(*session).Execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:760\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:175\ngithub.com/pingcap/tidb/session.bootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:143\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:1021\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:982\ngithub.com/pingcap/tidb/planner/core_test.newStoreWithBootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/cbo_test.go:270\ngithub.com/pingcap/tidb/planner/core_test.(*testPlanSuite).TestSemiJoinToInner\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/physical_plan_test.go:497\nreflect.Value.call\n\t/usr/lib/go/src/reflect/value.go:460\nreflect.Value.Call\n\t/usr/lib/go/src/reflect/value.go:321\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:854\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:739\nruntime.goexit\n\t/usr/lib/go/src/runtime/asm_amd64.s:1357"] [session="{\n  \"currDBName\": \"\",\n  \"id\": 0,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": \"\"\n}"]
[2020/02/06 10:36:44.414 +08:00] [WARN] [session.go:803] ["compile SQL failed"] [error="[schema:1146]Table 'mysql.tidb' doesn't exist"] [errorVerbose="[schema:1146]Table 'mysql.tidb' doesn't exist\ngithub.com/pingcap/errors.AddStack\n\t/home/aliv/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20190809092503-95897b64e011/errors.go:174\ngithub.com/pingcap/tidb/parser/terror.(*Error).GenWithStackByArgs\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/terror/terror.go:240\ngithub.com/pingcap/tidb/infoschema.(*infoSchema).TableByName\n\t/home/aliv/go/src/github.com/pingcap/tinysql/infoschema/infoschema.go:171\ngithub.com/pingcap/tidb/planner/core.(*preprocessor).handleTableName\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:650\ngithub.com/pingcap/tidb/planner/core.(*preprocessor).Leave\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:133\ngithub.com/pingcap/tidb/parser/ast.(*TableName).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:294\ngithub.com/pingcap/tidb/parser/ast.(*TableSource).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:431\ngithub.com/pingcap/tidb/parser/ast.(*Join).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:142\ngithub.com/pingcap/tidb/parser/ast.(*TableRefsClause).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:612\ngithub.com/pingcap/tidb/parser/ast.(*SelectStmt).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:931\ngithub.com/pingcap/tidb/planner/core.Preprocess\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:48\ngithub.com/pingcap/tidb/executor.(*Compiler).Compile\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/compiler.go:34\ngithub.com/pingcap/tidb/session.(*session).execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:800\ngithub.com/pingcap/tidb/session.(*session).Execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:760\ngithub.com/pingcap/tidb/session.getTiDBVar\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:204\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:181\ngithub.com/pingcap/tidb/session.bootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:143\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:1021\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:982\ngithub.com/pingcap/tidb/planner/core_test.newStoreWithBootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/cbo_test.go:270\ngithub.com/pingcap/tidb/planner/core_test.(*testPlanSuite).TestSemiJoinToInner\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/physical_plan_test.go:497\nreflect.Value.call\n\t/usr/lib/go/src/reflect/value.go:460\nreflect.Value.Call\n\t/usr/lib/go/src/reflect/value.go:321\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:854\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:739\nruntime.goexit\n\t/usr/lib/go/src/runtime/asm_amd64.s:1357"] [SQL="SELECT HIGH_PRIORITY VARIABLE_VALUE FROM mysql.tidb WHERE VARIABLE_NAME=\"bootstrapped\""]
[2020/02/06 10:36:44.415 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:2, Type:create schema, State:none, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.415 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS test"]
[2020/02/06 10:36:44.415 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 145, tp general"] [job="ID:2, Type:create schema, State:none, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.415 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.415 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 145, tp general"] [job="ID:2, Type:create schema, State:synced, SchemaState:public, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.415 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.416 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=2]
[2020/02/06 10:36:44.416 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.416 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=1] ["start time"=220.698µs]
[2020/02/06 10:36:44.416 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:44.416 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:4, Type:create schema, State:none, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.416 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS mysql;"]
[2020/02/06 10:36:44.417 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 145, tp general"] [job="ID:4, Type:create schema, State:none, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.416 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.417 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 145, tp general"] [job="ID:4, Type:create schema, State:synced, SchemaState:public, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.416 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.418 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=4]
[2020/02/06 10:36:44.418 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.418 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=1] [neededSchemaVersion=2] ["start time"=61.011µs] [tblIDs="[]"]
[2020/02/06 10:36:44.418 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:6, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.418 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) Not Null PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT Null);"]
[2020/02/06 10:36:44.419 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 145, tp general"] [job="ID:6, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.418 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.419 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 145, tp general"] [job="ID:6, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.418 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.420 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=6]
[2020/02/06 10:36:44.420 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.420 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=2] [neededSchemaVersion=3] ["start time"=154.889µs] [tblIDs="[5]"]
[2020/02/06 10:36:44.421 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:8, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.42 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.tidb(\n\t\tVARIABLE_NAME  VARCHAR(64) Not Null PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT Null,\n\t\tCOMMENT VARCHAR(1024));"]
[2020/02/06 10:36:44.421 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 145, tp general"] [job="ID:8, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.42 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.422 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 145, tp general"] [job="ID:8, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.42 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.423 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=8]
[2020/02/06 10:36:44.423 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.423 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=3] [neededSchemaVersion=4] ["start time"=175.455µs] [tblIDs="[7]"]
[2020/02/06 10:36:44.424 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:10, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.423 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.help_topic (\n  \t\thelp_topic_id int(10) unsigned NOT NULL,\n  \t\tname char(64) NOT NULL,\n  \t\thelp_category_id smallint(5) unsigned NOT NULL,\n  \t\tdescription text NOT NULL,\n  \t\texample text NOT NULL,\n  \t\turl text NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id),\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"]
[2020/02/06 10:36:44.424 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 145, tp general"] [job="ID:10, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.423 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.425 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 145, tp general"] [job="ID:10, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.423 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.425 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=10]
[2020/02/06 10:36:44.425 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.425 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=4] [neededSchemaVersion=5] ["start time"=130.351µs] [tblIDs="[9]"]
[2020/02/06 10:36:44.426 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:12, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.426 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_meta (\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tcount bigint(64) unsigned NOT NULL DEFAULT 0,\n\t\tindex idx_ver(version),\n\t\tunique index tbl(table_id)\n\t);"]
[2020/02/06 10:36:44.426 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 145, tp general"] [job="ID:12, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.426 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.427 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 145, tp general"] [job="ID:12, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.426 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.427 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=12]
[2020/02/06 10:36:44.427 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.427 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=5] [neededSchemaVersion=6] ["start time"=118.084µs] [tblIDs="[11]"]
[2020/02/06 10:36:44.428 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:14, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.428 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_histograms (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tdistinct_count bigint(64) NOT NULL,\n\t\tnull_count bigint(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size bigint(64) NOT NULL DEFAULT 0,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tversion bigint(64) unsigned NOT NULL DEFAULT 0,\n\t\tcm_sketch blob,\n\t\tstats_ver bigint(64) NOT NULL DEFAULT 0,\n\t\tflag bigint(64) NOT NULL DEFAULT 0,\n\t\tcorrelation double NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos blob DEFAULT NULL,\n\t\tunique index tbl(table_id, is_index, hist_id)\n\t);"]
[2020/02/06 10:36:44.428 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 145, tp general"] [job="ID:14, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.428 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.429 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 145, tp general"] [job="ID:14, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.428 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.430 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=14]
[2020/02/06 10:36:44.430 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.430 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=6] [neededSchemaVersion=7] ["start time"=235.975µs] [tblIDs="[13]"]
[2020/02/06 10:36:44.431 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:16, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.431 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_buckets (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tbucket_id bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\trepeats bigint(64) NOT NULL,\n\t\tupper_bound blob NOT NULL,\n\t\tlower_bound blob ,\n\t\tunique index tbl(table_id, is_index, hist_id, bucket_id)\n\t);"]
[2020/02/06 10:36:44.431 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 145, tp general"] [job="ID:16, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.431 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.432 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 145, tp general"] [job="ID:16, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.431 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.433 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=16]
[2020/02/06 10:36:44.433 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.434 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=7] [neededSchemaVersion=8] ["start time"=438.526µs] [tblIDs="[15]"]
[2020/02/06 10:36:44.435 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:18, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.435 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id BIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id BIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts BIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"]
[2020/02/06 10:36:44.435 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 145, tp general"] [job="ID:18, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.435 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.436 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 145, tp general"] [job="ID:18, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.435 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.437 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=18]
[2020/02/06 10:36:44.437 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.437 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=8] [neededSchemaVersion=9] ["start time"=154.618µs] [tblIDs="[17]"]
[2020/02/06 10:36:44.438 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:20, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.437 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id BIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id BIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts BIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"]
[2020/02/06 10:36:44.438 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 145, tp general"] [job="ID:20, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.437 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.439 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 145, tp general"] [job="ID:20, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.437 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.439 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=20]
[2020/02/06 10:36:44.439 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.439 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=9] [neededSchemaVersion=10] ["start time"=140.508µs] [tblIDs="[19]"]
[2020/02/06 10:36:44.440 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:22, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.44 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_top_n (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tvalue longblob,\n\t\tcount bigint(64) UNSIGNED NOT NULL,\n\t\tindex tbl(table_id, is_index, hist_id)\n\t);"]
[2020/02/06 10:36:44.440 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 145, tp general"] [job="ID:22, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.44 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.441 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 145, tp general"] [job="ID:22, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.44 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.441 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=22]
[2020/02/06 10:36:44.441 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.441 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=10] [neededSchemaVersion=11] ["start time"=124.038µs] [tblIDs="[21]"]
[2020/02/06 10:36:44.458 +08:00] [INFO] [bootstrap.go:153] ["bootstrap successful"] ["take time"=44.063619ms]
[2020/02/06 10:36:44.458 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 145, tp general"] ["take time"=8.072µs]
[2020/02/06 10:36:44.458 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 146, tp add index"] ["take time"=7.217µs]
[2020/02/06 10:36:44.458 +08:00] [INFO] [session_pool.go:85] ["[ddl] closing sessionPool"]
[2020/02/06 10:36:44.458 +08:00] [INFO] [ddl.go:349] ["[ddl] DDL closed"] [ID=4333e592-32a6-4b5e-8911-34948b98f0cf] ["take time"=71.579µs]
[2020/02/06 10:36:44.458 +08:00] [INFO] [ddl.go:282] ["[ddl] stop DDL"] [ID=4333e592-32a6-4b5e-8911-34948b98f0cf]
[2020/02/06 10:36:44.458 +08:00] [INFO] [domain.go:456] ["domain closed"] ["take time"=90.664µs]
[2020/02/06 10:36:44.458 +08:00] [INFO] [tidb.go:68] ["new domain"] [store=6d829ac8-7ad3-4975-a861-7433ba1295d3] ["ddl lease"=0s] ["stats lease"=-1ns]
[2020/02/06 10:36:44.458 +08:00] [INFO] [ddl.go:289] ["[ddl] start DDL"] [ID=e1a7c070-9f1d-4b74-b03a-a177513ce6b4]
[2020/02/06 10:36:44.458 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 147, tp general"]
[2020/02/06 10:36:44.458 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 148, tp add index"]
[2020/02/06 10:36:44.464 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=11] ["start time"=1.989273ms]
[2020/02/06 10:36:44.464 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:44.466 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 147, tp general"] ["take time"=15.278µs]
[2020/02/06 10:36:44.466 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 148, tp add index"] ["take time"=6.892µs]
[2020/02/06 10:36:44.466 +08:00] [INFO] [session_pool.go:85] ["[ddl] closing sessionPool"]
[2020/02/06 10:36:44.466 +08:00] [INFO] [ddl.go:349] ["[ddl] DDL closed"] [ID=e1a7c070-9f1d-4b74-b03a-a177513ce6b4] ["take time"=98.139µs]
[2020/02/06 10:36:44.466 +08:00] [INFO] [ddl.go:282] ["[ddl] stop DDL"] [ID=e1a7c070-9f1d-4b74-b03a-a177513ce6b4]
[2020/02/06 10:36:44.466 +08:00] [INFO] [domain.go:456] ["domain closed"] ["take time"=115.971µs]
PASS: physical_plan_test.go:495: testPlanSuite.TestSemiJoinToInner	0.053s
[2020/02/06 10:36:44.467 +08:00] [INFO] [tidb.go:68] ["new domain"] [store=ccdd8ae3-86bc-4f81-a856-cdbc700e623c] ["ddl lease"=0s] ["stats lease"=-1ns]
[2020/02/06 10:36:44.467 +08:00] [INFO] [ddl.go:289] ["[ddl] start DDL"] [ID=b0bd56cd-32a4-46ce-856c-d599e3c03c01]
[2020/02/06 10:36:44.468 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 149, tp general"]
[2020/02/06 10:36:44.468 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 150, tp add index"]
[2020/02/06 10:36:44.468 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=0] ["start time"=154.29µs]
[2020/02/06 10:36:44.468 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:44.468 +08:00] [INFO] [tidb.go:171] ["rollbackTxn for ddl/autocommit failed"]
[2020/02/06 10:36:44.468 +08:00] [WARN] [session.go:736] ["run statement failed"] [schemaVersion=0] [error="[schema:1049]Unknown database 'mysql'"] [errorVerbose="[schema:1049]Unknown database 'mysql'\ngithub.com/pingcap/errors.AddStack\n\t/home/aliv/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20190809092503-95897b64e011/errors.go:174\ngithub.com/pingcap/tidb/parser/terror.(*Error).GenWithStackByArgs\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/terror/terror.go:240\ngithub.com/pingcap/tidb/executor.(*SimpleExec).executeUse\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/simple.go:66\ngithub.com/pingcap/tidb/executor.(*SimpleExec).Next\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/simple.go:49\ngithub.com/pingcap/tidb/executor.Next\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/executor.go:175\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelayExecutor\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:271\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelay\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:237\ngithub.com/pingcap/tidb/executor.(*ExecStmt).Exec\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/adapter.go:208\ngithub.com/pingcap/tidb/session.runStmt\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/tidb.go:219\ngithub.com/pingcap/tidb/session.(*session).executeStatement\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:733\ngithub.com/pingcap/tidb/session.(*session).execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:812\ngithub.com/pingcap/tidb/session.(*session).Execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:760\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:175\ngithub.com/pingcap/tidb/session.bootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:143\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:1021\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:982\ngithub.com/pingcap/tidb/planner/core_test.newStoreWithBootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/cbo_test.go:270\ngithub.com/pingcap/tidb/planner/core_test.(*testPlanSuite).TestUnmatchedTableInHint\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/physical_plan_test.go:528\nreflect.Value.call\n\t/usr/lib/go/src/reflect/value.go:460\nreflect.Value.Call\n\t/usr/lib/go/src/reflect/value.go:321\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:854\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:739\nruntime.goexit\n\t/usr/lib/go/src/runtime/asm_amd64.s:1357"] [session="{\n  \"currDBName\": \"\",\n  \"id\": 0,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": \"\"\n}"]
[2020/02/06 10:36:44.468 +08:00] [WARN] [session.go:803] ["compile SQL failed"] [error="[schema:1146]Table 'mysql.tidb' doesn't exist"] [errorVerbose="[schema:1146]Table 'mysql.tidb' doesn't exist\ngithub.com/pingcap/errors.AddStack\n\t/home/aliv/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20190809092503-95897b64e011/errors.go:174\ngithub.com/pingcap/tidb/parser/terror.(*Error).GenWithStackByArgs\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/terror/terror.go:240\ngithub.com/pingcap/tidb/infoschema.(*infoSchema).TableByName\n\t/home/aliv/go/src/github.com/pingcap/tinysql/infoschema/infoschema.go:171\ngithub.com/pingcap/tidb/planner/core.(*preprocessor).handleTableName\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:650\ngithub.com/pingcap/tidb/planner/core.(*preprocessor).Leave\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:133\ngithub.com/pingcap/tidb/parser/ast.(*TableName).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:294\ngithub.com/pingcap/tidb/parser/ast.(*TableSource).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:431\ngithub.com/pingcap/tidb/parser/ast.(*Join).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:142\ngithub.com/pingcap/tidb/parser/ast.(*TableRefsClause).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:612\ngithub.com/pingcap/tidb/parser/ast.(*SelectStmt).Accept\n\t/home/aliv/go/src/github.com/pingcap/tinysql/parser/ast/dml.go:931\ngithub.com/pingcap/tidb/planner/core.Preprocess\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/preprocess.go:48\ngithub.com/pingcap/tidb/executor.(*Compiler).Compile\n\t/home/aliv/go/src/github.com/pingcap/tinysql/executor/compiler.go:34\ngithub.com/pingcap/tidb/session.(*session).execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:800\ngithub.com/pingcap/tidb/session.(*session).Execute\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:760\ngithub.com/pingcap/tidb/session.getTiDBVar\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:204\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:181\ngithub.com/pingcap/tidb/session.bootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/bootstrap.go:143\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:1021\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/home/aliv/go/src/github.com/pingcap/tinysql/session/session.go:982\ngithub.com/pingcap/tidb/planner/core_test.newStoreWithBootstrap\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/cbo_test.go:270\ngithub.com/pingcap/tidb/planner/core_test.(*testPlanSuite).TestUnmatchedTableInHint\n\t/home/aliv/go/src/github.com/pingcap/tinysql/planner/core/physical_plan_test.go:528\nreflect.Value.call\n\t/usr/lib/go/src/reflect/value.go:460\nreflect.Value.Call\n\t/usr/lib/go/src/reflect/value.go:321\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:854\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/home/aliv/go/pkg/mod/github.com/tiancaiamao/check@v0.0.0-20191119042138-8e73d07b629d/check.go:739\nruntime.goexit\n\t/usr/lib/go/src/runtime/asm_amd64.s:1357"] [SQL="SELECT HIGH_PRIORITY VARIABLE_VALUE FROM mysql.tidb WHERE VARIABLE_NAME=\"bootstrapped\""]
[2020/02/06 10:36:44.469 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:2, Type:create schema, State:none, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.469 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS test"]
[2020/02/06 10:36:44.469 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 149, tp general"] [job="ID:2, Type:create schema, State:none, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.469 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.470 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 149, tp general"] [job="ID:2, Type:create schema, State:synced, SchemaState:public, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.469 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.471 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=2]
[2020/02/06 10:36:44.471 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.471 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=1] ["start time"=272.629µs]
[2020/02/06 10:36:44.471 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:44.471 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:4, Type:create schema, State:none, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.471 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS mysql;"]
[2020/02/06 10:36:44.472 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 149, tp general"] [job="ID:4, Type:create schema, State:none, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.471 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.472 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 149, tp general"] [job="ID:4, Type:create schema, State:synced, SchemaState:public, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.471 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.473 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=4]
[2020/02/06 10:36:44.473 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.473 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=1] [neededSchemaVersion=2] ["start time"=70.097µs] [tblIDs="[]"]
[2020/02/06 10:36:44.474 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:6, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.473 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) Not Null PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT Null);"]
[2020/02/06 10:36:44.474 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 149, tp general"] [job="ID:6, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.473 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.475 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 149, tp general"] [job="ID:6, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.473 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.475 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=6]
[2020/02/06 10:36:44.475 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.475 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=2] [neededSchemaVersion=3] ["start time"=98.967µs] [tblIDs="[5]"]
[2020/02/06 10:36:44.476 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:8, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.475 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.tidb(\n\t\tVARIABLE_NAME  VARCHAR(64) Not Null PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT Null,\n\t\tCOMMENT VARCHAR(1024));"]
[2020/02/06 10:36:44.476 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 149, tp general"] [job="ID:8, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.475 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.476 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 149, tp general"] [job="ID:8, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.475 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.477 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=8]
[2020/02/06 10:36:44.477 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.477 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=3] [neededSchemaVersion=4] ["start time"=93.141µs] [tblIDs="[7]"]
[2020/02/06 10:36:44.477 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:10, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.477 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.help_topic (\n  \t\thelp_topic_id int(10) unsigned NOT NULL,\n  \t\tname char(64) NOT NULL,\n  \t\thelp_category_id smallint(5) unsigned NOT NULL,\n  \t\tdescription text NOT NULL,\n  \t\texample text NOT NULL,\n  \t\turl text NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id),\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"]
[2020/02/06 10:36:44.477 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 149, tp general"] [job="ID:10, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.477 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.478 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 149, tp general"] [job="ID:10, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.477 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.478 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=10]
[2020/02/06 10:36:44.478 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.478 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=4] [neededSchemaVersion=5] ["start time"=115.056µs] [tblIDs="[9]"]
[2020/02/06 10:36:44.479 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:12, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.479 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_meta (\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tcount bigint(64) unsigned NOT NULL DEFAULT 0,\n\t\tindex idx_ver(version),\n\t\tunique index tbl(table_id)\n\t);"]
[2020/02/06 10:36:44.479 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 149, tp general"] [job="ID:12, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.479 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.480 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 149, tp general"] [job="ID:12, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.479 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.480 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=12]
[2020/02/06 10:36:44.480 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.480 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=5] [neededSchemaVersion=6] ["start time"=109.379µs] [tblIDs="[11]"]
[2020/02/06 10:36:44.480 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:14, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.48 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_histograms (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tdistinct_count bigint(64) NOT NULL,\n\t\tnull_count bigint(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size bigint(64) NOT NULL DEFAULT 0,\n\t\tmodify_count bigint(64) NOT NULL DEFAULT 0,\n\t\tversion bigint(64) unsigned NOT NULL DEFAULT 0,\n\t\tcm_sketch blob,\n\t\tstats_ver bigint(64) NOT NULL DEFAULT 0,\n\t\tflag bigint(64) NOT NULL DEFAULT 0,\n\t\tcorrelation double NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos blob DEFAULT NULL,\n\t\tunique index tbl(table_id, is_index, hist_id)\n\t);"]
[2020/02/06 10:36:44.481 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 149, tp general"] [job="ID:14, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.48 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.482 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 149, tp general"] [job="ID:14, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.48 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.482 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=14]
[2020/02/06 10:36:44.482 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.482 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=6] [neededSchemaVersion=7] ["start time"=192.853µs] [tblIDs="[13]"]
[2020/02/06 10:36:44.483 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:16, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.482 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_buckets (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tbucket_id bigint(64) NOT NULL,\n\t\tcount bigint(64) NOT NULL,\n\t\trepeats bigint(64) NOT NULL,\n\t\tupper_bound blob NOT NULL,\n\t\tlower_bound blob ,\n\t\tunique index tbl(table_id, is_index, hist_id, bucket_id)\n\t);"]
[2020/02/06 10:36:44.483 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 149, tp general"] [job="ID:16, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.482 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.485 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 149, tp general"] [job="ID:16, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.482 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.486 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=16]
[2020/02/06 10:36:44.486 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.486 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=7] [neededSchemaVersion=8] ["start time"=273.31µs] [tblIDs="[15]"]
[2020/02/06 10:36:44.487 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:18, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.487 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id BIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id BIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts BIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"]
[2020/02/06 10:36:44.487 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 149, tp general"] [job="ID:18, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.487 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.488 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 149, tp general"] [job="ID:18, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.487 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.489 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=18]
[2020/02/06 10:36:44.489 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.489 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=8] [neededSchemaVersion=9] ["start time"=123.307µs] [tblIDs="[17]"]
[2020/02/06 10:36:44.489 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:20, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.489 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id BIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id BIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key VARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts BIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"]
[2020/02/06 10:36:44.490 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 149, tp general"] [job="ID:20, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.489 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.490 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 149, tp general"] [job="ID:20, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.489 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.491 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=20]
[2020/02/06 10:36:44.491 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.491 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=9] [neededSchemaVersion=10] ["start time"=112.147µs] [tblIDs="[19]"]
[2020/02/06 10:36:44.491 +08:00] [INFO] [ddl.go:434] ["[ddl] start DDL job"] [job="ID:22, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:1, start time: 2020-02-06 10:36:44.491 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE if not exists mysql.stats_top_n (\n\t\ttable_id bigint(64) NOT NULL,\n\t\tis_index tinyint(2) NOT NULL,\n\t\thist_id bigint(64) NOT NULL,\n\t\tvalue longblob,\n\t\tcount bigint(64) UNSIGNED NOT NULL,\n\t\tindex tbl(table_id, is_index, hist_id)\n\t);"]
[2020/02/06 10:36:44.491 +08:00] [INFO] [ddl_worker.go:431] ["[ddl] run DDL job"] [worker="worker 149, tp general"] [job="ID:22, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.491 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.492 +08:00] [INFO] [ddl_worker.go:264] ["[ddl] finish DDL job"] [worker="worker 149, tp general"] [job="ID:22, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2020-02-06 10:36:44.491 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2020/02/06 10:36:44.492 +08:00] [INFO] [ddl.go:463] ["[ddl] DDL job is finished"] [jobID=22]
[2020/02/06 10:36:44.492 +08:00] [INFO] [domain.go:468] ["performing DDL change, must reload"]
[2020/02/06 10:36:44.493 +08:00] [INFO] [domain.go:108] ["diff load InfoSchema success"] [usedSchemaVersion=10] [neededSchemaVersion=11] ["start time"=134.688µs] [tblIDs="[21]"]
[2020/02/06 10:36:44.511 +08:00] [INFO] [bootstrap.go:153] ["bootstrap successful"] ["take time"=43.616066ms]
[2020/02/06 10:36:44.512 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 149, tp general"] ["take time"=5.845µs]
[2020/02/06 10:36:44.512 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 150, tp add index"] ["take time"=3.373µs]
[2020/02/06 10:36:44.512 +08:00] [INFO] [session_pool.go:85] ["[ddl] closing sessionPool"]
[2020/02/06 10:36:44.512 +08:00] [INFO] [ddl.go:349] ["[ddl] DDL closed"] [ID=b0bd56cd-32a4-46ce-856c-d599e3c03c01] ["take time"=38.085µs]
[2020/02/06 10:36:44.512 +08:00] [INFO] [ddl.go:282] ["[ddl] stop DDL"] [ID=b0bd56cd-32a4-46ce-856c-d599e3c03c01]
[2020/02/06 10:36:44.512 +08:00] [INFO] [domain.go:456] ["domain closed"] ["take time"=51.973µs]
[2020/02/06 10:36:44.512 +08:00] [INFO] [tidb.go:68] ["new domain"] [store=ccdd8ae3-86bc-4f81-a856-cdbc700e623c] ["ddl lease"=0s] ["stats lease"=-1ns]
[2020/02/06 10:36:44.512 +08:00] [INFO] [ddl.go:289] ["[ddl] start DDL"] [ID=87458a01-af46-4841-af78-029b1cf7655d]
[2020/02/06 10:36:44.512 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 151, tp general"]
[2020/02/06 10:36:44.512 +08:00] [INFO] [ddl_worker.go:113] ["[ddl] start DDL worker"] [worker="worker 152, tp add index"]
[2020/02/06 10:36:44.517 +08:00] [INFO] [domain.go:126] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=11] ["start time"=4.213274ms]
[2020/02/06 10:36:44.517 +08:00] [INFO] [domain.go:323] ["full load and reset schema validator"]
[2020/02/06 10:36:44.521 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 151, tp general"] ["take time"=11.14µs]
[2020/02/06 10:36:44.521 +08:00] [INFO] [ddl_worker.go:107] ["[ddl] DDL worker closed"] [worker="worker 152, tp add index"] ["take time"=7.563µs]
[2020/02/06 10:36:44.521 +08:00] [INFO] [session_pool.go:85] ["[ddl] closing sessionPool"]
[2020/02/06 10:36:44.521 +08:00] [INFO] [ddl.go:349] ["[ddl] DDL closed"] [ID=87458a01-af46-4841-af78-029b1cf7655d] ["take time"=89.59µs]
[2020/02/06 10:36:44.521 +08:00] [INFO] [ddl.go:282] ["[ddl] stop DDL"] [ID=87458a01-af46-4841-af78-029b1cf7655d]
[2020/02/06 10:36:44.521 +08:00] [INFO] [domain.go:456] ["domain closed"] ["take time"=111.728µs]
PASS: physical_plan_test.go:526: testPlanSuite.TestUnmatchedTableInHint	0.055s
OOPS: 70 passed, 1 FAILED
--- FAIL: TestT (2.13s)
FAIL
exit status 1
FAIL	github.com/pingcap/tidb/planner/core	2.136s
